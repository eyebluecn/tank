{"version":3,"sources":["assets/image/file/folder.svg","assets/image/file/pdf.svg","assets/image/file/doc.svg","assets/image/file/ppt.svg","assets/image/file/xls.svg","assets/image/file/audio.svg","assets/image/file/video.svg","assets/image/file/text.svg","assets/image/file/psd.svg","assets/image/file/image.svg","assets/image/file/file.svg","assets/image/logo.png","common/component/TankComponent.tsx","common/util/SafeUtil.ts","common/util/StringUtil.ts","common/model/base/SortDirection.ts","common/model/base/filter/Filter.ts","common/model/base/filter/SortFilter.ts","common/util/HttpUtil.ts","common/util/DateUtil.ts","common/util/JsonUtil.ts","common/util/ObjectUtil.ts","common/model/base/Base.ts","common/model/base/WebResultCode.ts","common/model/base/ViewBase.ts","common/model/global/Sun.ts","common/util/MessageBoxUtil.ts","common/model/base/HttpBase.ts","common/model/base/option/Color.ts","common/model/base/BaseEntity.ts","common/model/user/UserRole.ts","common/util/BrowserUtil.ts","common/model/global/i18n/LangEn.ts","common/model/global/i18n/LangZh.ts","common/model/global/Lang.ts","common/model/user/UserStatus.ts","common/util/NumberUtil.ts","common/util/MimeUtil.ts","common/util/ImageUtil.ts","common/model/base/filter/SelectionFilterType.ts","common/model/base/filter/InputFilter.ts","common/model/base/filter/SelectionFilter.ts","common/model/user/User.ts","common/model/preference/model/ScanScopeType.ts","common/model/preference/model/PreviewEngine.ts","common/model/preference/model/PreviewConfig.ts","common/model/preference/model/ScanCronType.ts","common/model/preference/model/ScanConfig.ts","common/model/preference/Preference.ts","common/model/global/Moon.ts","pages/user/Login.tsx","pages/user/Register.tsx","common/model/base/Pager.ts","common/util/FileUtil.ts","pages/widget/filter/InputFilterBox.tsx","common/model/base/filter/DateTimeFilter.ts","pages/widget/filter/DateTimeFilterBox.tsx","common/model/base/filter/CheckFilter.ts","pages/widget/filter/CheckFilterBox.tsx","pages/widget/filter/SelectionFilterBox.tsx","pages/widget/filter/SortFilterBox.tsx","common/model/base/filter/HttpSelectionFilter.ts","pages/widget/filter/HttpSelectionFilterBox.tsx","pages/widget/filter/DateFilterBox.tsx","common/model/base/filter/DateFilter.ts","pages/widget/filter/FilterPanel.tsx","pages/widget/TableEmpty.tsx","pages/widget/TankTitle.tsx","common/util/ClipboardUtil.ts","pages/user/widget/TransfigurationModal.tsx","pages/user/List.tsx","pages/widget/InfoCell.tsx","pages/widget/Expanding.tsx","pages/user/widget/MobileUserPanel.tsx","pages/user/MobileList.tsx","pages/widget/TankContentCard.tsx","pages/widget/previewer/ImagePreviewer.tsx","pages/widget/SingleTextModal.tsx","pages/user/widget/ChangePasswordModal.tsx","pages/user/Detail.tsx","common/util/EnvUtil.ts","pages/widget/previewer/BrowserPreviewer.tsx","common/model/download/token/DownloadToken.ts","pages/widget/previewer/PreviewerHelper.ts","common/model/matter/Matter.ts","pages/matter/widget/UploadMatterPanel.tsx","pages/matter/widget/MatterImage.tsx","pages/user/Edit.tsx","pages/user/Authentication.tsx","pages/preference/widget/PreviewEngineCell.tsx","pages/preference/Index.tsx","pages/preference/Edit.tsx","pages/preference/widget/PreviewEngineEditCell.tsx","pages/preference/widget/PreviewConfigPanel.tsx","pages/preference/PreviewEngineEdit.tsx","pages/preference/ScanEdit.tsx","pages/dashboard/widget/RatePanel.tsx","common/model/dashboard/Dashboard.ts","pages/dashboard/Index.tsx","common/model/install/Install.ts","pages/install/widget/SetAdminPanel.tsx","pages/install/widget/MysqlPanel.tsx","pages/install/widget/CreateTablePanel.tsx","pages/install/widget/inner/PhaseSelectingPanel.tsx","pages/install/widget/inner/PhaseVerifyPanel.tsx","pages/install/widget/inner/PhaseCreatePanel.tsx","pages/install/widget/FinishPanel.tsx","pages/install/Index.tsx","pages/matter/widget/Director.ts","common/util/AnimateUtil.ts","pages/matter/widget/MatterDeleteModal.tsx","common/model/share/ShareType.ts","pages/matter/widget/MatterPanel.tsx","pages/matter/widget/MoveBatchModal.tsx","common/model/share/ShareExpireOption.ts","common/model/share/Share.ts","pages/matter/widget/ShareOperationModal.tsx","pages/share/widget/ShareDialogModal.tsx","pages/widget/BreadcrumbPanel.tsx","pages/matter/widget/MatterSortPanel.tsx","pages/matter/List.tsx","common/model/image/cache/ImageCache.ts","pages/matter/widget/imageCache/ImageCachePanel.tsx","pages/matter/widget/imageCache/ImageCacheList.tsx","pages/matter/Detail.tsx","pages/bin/List.tsx","pages/share/widget/ShareBar.tsx","pages/share/List.tsx","pages/widget/FrameLoading.tsx","pages/share/widget/ShareMatterPanel.tsx","pages/share/Detail.tsx","pages/layout/BottomLayout.tsx","common/menu/MenuItem.ts","common/menu/MenuManager.tsx","pages/layout/widget/AboutModal.tsx","pages/layout/SideLayout.tsx","pages/layout/TopLayout.tsx","pages/layout/ContentLayout.tsx","pages/Frame.tsx","App.tsx","index.tsx","assets/image/file/archive.svg","assets/image/avatar.png","assets/image/empty.svg","assets/image/error.png"],"names":["module","exports","TankComponent","mounted","this","setState","console","info","constructor","name","React","Component","SafeUtil","callback","noop","e","stopPropagation","domEvent","func","safeCallback","StringUtil","str","error","replace","letter","index","substr","toUpperCase","toLowerCase","father","child","indexOf","bytes","si","thresh","Math","abs","units","u","length","toFixed","c","result","exec","toString","obj","key","path","num","parts","split","filter","item","splice","join","prefix","suffix","substring","a","b","separator","text","undefined","trim","isBlank","Date","getTime","level","standardString","list","len","floor","push","code","forEach","exchangeString","strNew","map","i","pow","UPPER_CASES","SortDirection","Filter","visible","value","SortFilter","DESC","DESCEND","ASC","ASCEND","HttpUtil","url","params","successCallback","errorCallback","finallyCallback","axios","get","then","response","catch","finally","opts","post","formData","processCallback","config","headers","cancelToken","onUploadProgress","DateUtil","date","moment","format","DEFAULT_HOUR_MINUTE","DEFAULT_FORMAT","DATE_FORMAT","add","formatString","isValid","toDate","SLASH_DATE_FORMAT","TIME_FORMAT","COMPACT_DATE_FORMAT","JsonUtil","Array","JSON","parse","stringify","json","ObjectUtil","standardObj","extraObj","hasOwnProperty","checkKey","Object","deepExtend","field","str2Date","Clazz","String","parseList","beans","bean","clazz","assign","arr","encodeURIComponent","Base","autoId","generateAutoId","extend","assignList","EntityClazz","prototype","AUTO_INCREMENT_ID","target","WebResultCode","ViewBase","reactComponent","updateComponentUI","component","entity","_version","warn","Sun","frameComponent","reactRouter","showDrawer","isMobile","test","window","navigator","userAgent","singleton","getSingleton","route","keys","query","URLSearchParams","navigateTo","go","updateUI","WebResultCodes","k","WebResultCodeMap","OK","BAD_REQUEST","NEED_SHARE_CODE","SHARE_CODE_ERROR","LOGIN","NOT_INSTALLED","SERVER","UNKNOWN","WebResultCodeList","type","MessageBoxUtil","content","success","warning","HttpBase","needReactComponentUpdate","loading","errorMessage","msg","temp","getErrorMessage","data","lastLoginErrorTimestamp","jumpLogin","that","httpGet","specialErrorHandler","err","defaultErrorHandler","res","qs","httpPost","Color","BaseEntity","uuid","sort","createTime","updateTime","detailLoading","assignEntity","className","functionName","lowerCamel","lowerSlash","getTAG","getUrlPrefix","getUrlCreate","getUrlEdit","validate","getForm","getUrlDetail","getUrlDel","UserRole","BrowserUtil","nameEQ","ca","document","cookie","charAt","location","href","results","RegExp","decodeURIComponent","reg","r","search","match","unescape","storage","localStorage","setItem","removeItem","isLocalStorageNameSupported","protocol","host","lang","language","userLanguage","LangEn","eyeblueTank","dashboard","totalInvokeNum","weekRate","dayRate","yesterdayInvoke","totalUV","yesterdayUV","totalMatterNum","yesterdayMatterNum","totalFileSize","yesterdayMatterSize","recentDayInvokeUV","downloadMatterTop10","activeIpTop10","warnHint","reRun","install","configMysql","port","schema","username","password","charset","mysqlConnectionPass","testMysqlConnection","notice","mysqlNotice1","mysqlNotice2","validateMysqlFirst","preStep","nextStep","createTable","installed","installedButMissing","toBeInstalled","allFields","missingFields","tableNotice","tableNotice1","tableNotice2","tableNotice3","tableNotice4","oneKeyCreate","createFinish","createTableSuccess","crateTableFirst","setAdministrator","detectAdministrator","useOrCreateAdministrator","validateAdministrator","createAdministrator","administratorUsername","administratorPassword","administratorRePassword","usernameRule","congratulationInstall","configAdminFirst","createAdminSuccess","validateAdminSuccess","pressToHome","enterHome","finish","layout","allFiles","myShare","bin","setting","users","logout","about","dragMouseUp","matter","file","directory","rename","download","delete","hardDelete","recovery","more","share","close","size","preview","move","moveTo","upload","create","deleteTime","root","fillInPicLink","rePick","chooseImage","uploadMode","fillMode","sizeExceedLimit","setPublic","setPrivate","copyLink","enterName","publicFileEveryoneCanVisit","fileDetail","expire","copyLinkAndCode","uploaded","uploadDir","uploadInfo","uploadErrorInfo","exportCSV","speed","fileInfo","fileName","copyPath","publicOrPrivate","privateInfo","publicInfo","downloadTimes","operations","oneTimeLink","oneTimeLinkInfo","imageCache","searchFile","noContentYet","newDirectory","notChoose","exceed1000","noImageCache","recycleBin","deleted","unCompatibleBrowser","canIUse","intoRecycleBin","finishingTip","router","login","autoLogin","register","userDetail","changePassword","editUser","createUser","shareDetail","preference","basic","scan","websiteName","logo","logoSquare","onlyAllowIco","copyright","extraInfo","zipMaxNumLimit","zipMaxSizeLimit","current","noLimit","userDefaultSizeLimit","matterBinDefaultSaveDay","enterMatterBinDefaultSaveDay","docLink","tankDocLink","allowRegister","systemCleanup","systemCleanupDescription","systemCleanupPrompt","previewConfig","editPreference","editPreviewEngine","enterWebsiteName","enterZipMaxNumLimit","enterZipMaxSizeLimit","enterUserDefaultSizeLimit","engine","noEngine","newEngine","engineReg","engineSuffix","enginePreview","defaultPreview","previewEngine","defaultPreviewDesc","engineUsageHint","engineRegHelper","engineRegPlaceHolder","engineSuffixPlaceHolder","previewCurrent","previewOpen","editScan","enableScan","disabledScan","scanCron","cron","cronValidate","scanScope","scanUsers","scanPerTenSeconds","scanPerThirtySeconds","scanPerMinute","scanPerHour","scanCustom","chooseUsers","chooseUsersValidate","scanLoading","matterBinDefaultTip","shareTime","expireTime","noExpire","expired","shareSuccess","sharer","link","copyCode","copySuccess","cancelShare","getLink","noContent","enterCode","getFiles","codeError","cancelPrompt","hour","day","week","month","year","infinity","emptyHint","user","redirecting","oldPassword","newPassword","confirmNewPassword","cannotBeNull","passwordNotSame","role","singleFileSizeLimit","totalFileSizeLimit","status","lastLogin","lastLoginIp","lastLoginTime","resetPassword","transfiguration","enterPassword","enterUsername","enterNewPassword","profile","avatar","confirmPassword","disabled","disableUser","disable","active","sync","activeUser","deleteUser","deleteHint","welcomeLogin","logining","loginSuccess","toToRegister","welcomeRegister","registering","goToLogin","roleGuest","roleUser","roleAdministrator","statusActive","statusDisabled","webdavLink","editSomebodyPassword","transfigurationPromptText","transfigurationPrompt","allUsers","partialUsers","searchUser","model","passwordRule","linkCodeText","copyLinkCodeSuccess","plugin","cannotPreview","emptyHintDefault","everyPage","items","total","clickRefresh","selectAll","edit","required","cancel","actionCanNotRevertConfirm","actionDeleteConfirm","actionRecoveryConfirm","prompt","confirm","copy","copyError","showMore","submit","save","operationSuccess","operation","notFound","yes","no","all","refresh","inputRequired","LangZh","deleteDirectly","Lang","browserLang","localLang","getItem","keyParts","jsonBody","part","param","UserStatus","UserRoles","UserRoleMap","GUEST","t","WARNING","USER","PRIMARY","ADMINISTRATOR","DANGER","UserRoleList","UserStatuss","UserStatusMap","SUCCESS","DISABLED","UserStatusList","NumberUtil","gcd","numerator","denominator","maxFactor","parseInt","numerator1","denominator1","numerator2","denominator2","fraction1","reduce","fraction2","MimeUtil","filename","dotIndex","lastIndexOf","extension","getExtension","MIMES","ImageUtil","origin","width","height","supportExtensions","fractionEqual","IMAGE_PLACEHOLDER_10_10","IMAGE_PLACEHOLDER_20_7","IMAGE_PLACEHOLDER_4_3","IMAGE_PLACEHOLDER_16_9","IMAGE_PLACEHOLDER_2_1","SelectionFilterType","InputFilter","placeholder","SelectionFilter","options","selectionType","COMBOBOX","j","User","avatarUrl","lastIp","lastTime","sizeLimit","totalSize","totalSizeLimit","handleImageUrl","defaultAvatarPath","finalCallback","form","URL_LOGIN","URL_REGISTER","loginRequired","URL_INFO","httpPureGet","URL_LOGOUT","URL_USER_CHANGE_PASSWORD","URL_USER_RESET_PASSWORD","URL_USER_TOGGLE_STATUS","authentication","URL_AUTHENTICATION_LOGIN","URL_USER_TRANSFIGURATION","URL_USER_SCAN","ScanScopeType","PreviewEngine","extensions","previewInSite","getExtensionWithoutDot","canHandle","defaultEngines","officeEngine","globalEngine","PreviewConfig","previewEngines","ScanCronType","ScanScopeTypes","ScanScopeTypeMap","ALL","CUSTOM","ScanScopeTypeList","ScanCronTypes","ScanCronTypeMap","TEN_SECONDS","THIRTY_SECONDS","MINUTE","HOUR","ScanCronTypeList","ScanCronTypeValueList","ScanConfig","enable","scope","usernames","cronType","Preference","logoUrl","faviconUrl","record","downloadDirMaxSize","downloadDirMaxNum","defaultTotalSizeLimit","deletedKeepDays","scanConfig","version","toJson","querySelector","createElement","rel","getElementsByTagName","appendChild","title","URL_API_PREFERENCE_FETCH","updateTitleAndFavicon","URL_API_SYSTEM_CLEANUP","URL_API_PREFERENCE_EDIT_PREVIEW_CONFIG","URL_API_PREFERENCE_EDIT_SCAN","URL_API_PREFERENCE_SCAN_ONCE","Moon","Login","props","state","httpLogout","updateFrame","values","httpLogin","history","errorInfo","xs","span","md","offset","initialValues","remember","onFinish","bind","onFinishFailed","Item","rules","message","UserOutlined","Password","LockOutlined","icon","block","htmlType","to","Register","httpRegister","dependencies","hasFeedback","getFieldValue","validator","rule","Promise","reject","resolve","Pager","pageSize","page","totalItems","totalPages","urlPage","filters","getUrlList","getFilters","queryPageNum","getQueryByName","queryPageSize","isInteger","queryValue","putValue","reset","setFilterValue","getFilter","getValueString","isEmpty","getParams","replaceState","pathname","showTotal","totalNum","showSizeChanger","columnKey","filterKey","capitalize","sortFilter","antdSortValue","getAntdValue","pagination","sorter","extra","resetSortFilters","isEmptyObject","underScoreToCamel","order","httpList","MAX_PAGE_SIZE","FileUtil","mimeType","getMimeType","startWith","idDir","require","isPdf","isDoc","isPpt","isXls","isAudio","isVideo","isText","isPsd","isImage","endWith","logs","Blob","URL","createObjectURL","csvStr","CSV","header","encode","blob","InputFilterBox","event","inputFilter","onChange","onValueChange","DateTimeFilter","DateTimeFilterBox","momentTime","dateString","dateTimeFilter","showTime","CheckFilter","Option","CheckFilterBox","checkFilter","backValue","style","minWidth","SelectionFilterBox","selectionFilter","Group","Button","SortFilterBox","HttpSelectionFilter","HttpSelectionFilterBox","httpSelectionFilter","strictPutValue","selectionOptions","DateFilterBox","dateFilter","DateFilter","FilterPanel","onReset","onSearch","needSearchButton","needResetButton","selectionButtonLoose","val","onChildChange","onClick","TableEmpty","pager","emptyContent","image","EmptyImage","description","onRefresh","errorContent","ErrorImage","TankTitle","children","ClipboardUtil","textAreaElement","cssText","body","select","execCommand","TransfigurationModal","httpTransfiguration","textToCopy","fullHost","onClose","modal","okCancel","okButtonProps","destroy","List","enableHistory","getCurrentSortFilter","httpToggleStatus","twoToneColor","onOk","httpDel","open","columns","dataIndex","render","prePath","alt","src","getAvatarUrl","color","humanFileSize","simpleDateTime","sortOrder","getDefaultSortOrder","sortDirections","StopOutlined","toggleStatus","CheckCircleOutlined","UserSwitchOutlined","PlusOutlined","rowKey","dataSource","getPagination","tableOnChange","locale","emptyText","InfoCell","firstSpan","secondSpan","Expanding","VelocityTransitionGroup","enter","animation","leave","MobileUserPanel","isCurrentUser","clickRow","EllipsisOutlined","stopPropagationWrap","toggleHandles","EditOutlined","onToggleStatus","DeleteOutlined","onDelete","onTransfiguration","MobileList","ExclamationCircleFilled","resetFilter","currentTarget","currentUser","Search","changeSearch","enterButton","changePage","hideOnSinglePage","TankContentCard","ImagePreviewer","div","setAttribute","innerHTML","showMultiPhoto","urls","w","h","fullscreenEl","shareEl","tapToToggleControls","pswpDom","photoSwipe","PhotoSwipe","PhotoSwipeUIDefault","listen","img","Image","onload","updateSize","init","parentNode","removeChild","SingleTextModal","innerValue","onSuccess","onSubmitClick","initialValue","ChangePasswordModal","httpChangePassword","tailLayout","wrapperCol","labelCol","label","Detail","syncLoading","httpDetail","httpResetPassword","httpScan","handles","UnlockOutlined","danger","syncPhysics","showSinglePhoto","EnvUtil","BrowserPreviewer","CloseOutlined","element","ReactDOM","DownloadToken","userUuid","matterUuid","ip","URL_FETCH_DOWNLOAD_TOKEN","PreviewerHelper","btoa","p1","fromCharCode","atob","charCodeAt","slice","needTokenUrl","downloadToken","httpFetchDownloadToken","matterUrl","getPreviewUrl","previewUrl","canPreview","defaultPreviewEngines","targetUrl","show","needToken","privacy","prepareMatterUrl","b64EncodeUnicode","Matter","puuid","dir","alien","md5","times","visitTime","parent","check","editMode","uploadHint","progress","cancelSource","CancelToken","source","uuidsString","currentHost","URL_MATTER_ZIP","getIcon","downloadUrl","getDownloadUrl","shareMode","URL_MATTER_CREATE_DIRECTORY","URL_MATTER_SOFT_DELETE","uuids","URL_MATTER_SOFT_DELETE_BATCH","URL_MATTER_DELETE","URL_MATTER_DELETE_BATCH","URL_MATTER_RECOVERY","URL_MATTER_RECOVERY_BATCH","URL_MATTER_RENAME","URL_CHANGE_PRIVACY","srcUuids","destUuid","URL_MATTER_MOVE","simpleType","containStr","failureCallback","validateFilter","validateFileType","FormData","append","lastTimeStamp","lastSize","httpPostFile","URL_MATTER_UPLOAD","isCancel","clear","loaded","currentTime","deltaTime","currentSize","deltaSize","token","downloadTokenUuid","shareUuid","shareCode","shareRootUuid","URL_MATTER_DOWNLOAD","MATTER_ROOT","UploadMatterPanel","percent","nextProps","nextContext","cancelUpload","strokeColor","from","MatterImage","manual","fileObj","httpUpload","previewWidth","changeLink","customRequest","triggerUpload","showUploadList","toggleHandle","Edit","formRef","createRef","createMode","httpSave","navigateBack","editSelf","roleEditable","ref","onValuesChange","noStyle","min","Authentication","httpAuthenticationLogin","PreviewEngineCell","Index","httpFetch","httpSystemCleanup","hide","httpScanOnce","cleanup","ThunderboltOutlined","dangerouslySetInnerHTML","__html","Children","toArray","ScanOutlined","immediateScan","refreshPreference","max","valuePropName","SaveOutlined","PreviewEngineEditCell","QuestionCircleOutlined","checked","PreviewConfigPanel","delEngineCell","addEngine","PreviewEngineEdit","httpSavePreviewEngine","ScanEdit","includes","httpSaveScan","changeEnableScan","changeCronType","option","changeScopeType","mode","labelInValue","notFoundContent","filterOption","fetchUser","RatePanel","standardValue","compareValue","v2","noData","infinite","getValue","fontSize","Dashboard","invokeNum","uv","totalUv","matterNum","fileSize","avgCost","dt","URL_ACTIVE_IP_TOP10","URL_ETL","Echarts","registerTheme","theme","yesterdayDashboard","matterPager","days","dateStrings","standardWeekInvokeNum","compareWeekInvokeNum","standardDayInvokeNum","compareDayInvokeNum","standardWeekUv","compareWeekUv","standardDayUv","compareDayUv","standardWeekMatterNum","compareWeekMatterNum","standardDayMatterNum","compareDayMatterNum","standardWeekSize","compareWeekSize","standardDaySize","compareDaySize","invokeListOption","tooltip","legend","xAxis","yAxis","series","updateDateStrings","refreshDashboardPager","refreshMatterPager","refreshActiveIpTop10","d","thenDate","simpleDate","invokeNumData","uvData","matterNumData","fileSizeData","httpActiveIpTop10","httpEtl","gutter","sm","lg","notMerge","lazyUpdate","onChartReady","showLoading","renderer","Install","mysqlPort","mysqlHost","mysqlSchema","mysqlUsername","mysqlPassword","mysqlCharset","adminUsername","adminPassword","adminRepassword","tableInfoList","adminList","verified","adminConfigured","tableInfo","tableExist","URL_VERIFY","getMysqlForm","URL_TABLE_INFO_LIST","URL_CREATE_TABLE","tableCreated","URL_ADMIN_LIST","renderList","URL_CREATE_ADMIN","URL_VALIDATE_ADMIN","URL_FINISH","Phase","MysqlPanel","httpVerify","onNextStep","ghost","goToNext","CreateTablePanel","createTableLoading","fetchTableInfoList","httpTableInfoList","httpCreateTable","onPreStep","spinning","DBName","goToPrevious","PhaseSelectingPanel","loadingAdminList","refreshAdminList","httpAdminList","admin","onSelectVerify","onSelectCreate","PhaseVerifyPanel","httpValidateAdmin","PhaseCreatePanel","httpCreateAdmin","SetAdminPanel","phase","SELECTING","CREATE","VERIFY","FinishPanel","httpFinish","subTitle","TabPane","activeName","activeKey","onTabClick","tab","Director","renameMode","moveMode","AnimateUtil","startValue","endValue","duration","processHandler","startHandler","endHandler","standard","totalStep","ceil","delta","sum","intervalHandler","setInterval","clearInterval","input","startPos","endPos","focus","selectionStart","selectionEnd","selection","createRange","range","collapse","moveEnd","moveStart","MatterDeleteModal","onHardDel","getRecycleBinStatus","onSoftDel","ShareType","MatterPanel","renameMatterName","renamingLoading","inputRef","director","isEditing","setTimeout","setInputSelection","httpSoftDelete","onDeleteSuccess","httpDelete","httpRecovery","onRecoverySuccess","httpRename","onCreateDirectoryCallback","httpCreateDirectory","finishCreateDirectory","finishRename","blur","httpChangePrivacy","onCheckMatter","recycleMode","onGoToDirectory","onPreviewImage","RedoOutlined","recoveryMatter","InfoCircleOutlined","CloseCircleOutlined","hardDeleteMatter","changePrivacy","prepareRename","LinkOutlined","clipboard","DownloadOutlined","deleteMatter","simpleDateHourMinute","checkToggle","renderPcOperation","changeMatterName","onBlur","blurTrigger","onKeyUp","enterTrigger","renderMobileOperation","MoveBatchModal","targetUuid","treeData","treeNode","concat","fetchData","selectedKeys","DirectoryTree","defaultExpandedKeys","loadData","onLoadData","onSelect","expanded","FolderOpenFilled","FolderFilled","ShareExpireOption","ShareTypes","ShareTypeMap","FILE","DIRECTORY","MIX","ShareTypeList","ShareExpireOptions","ShareExpireOptionMap","deltaMillisecond","DAY","WEEK","MONTH","YEAR","INFINITY","ShareExpireOptionList","Share","shareType","expireInfinity","dirMatter","matters","rootUuid","expireOption","now","URL_ZIP","matterUuids","getExpireTime","URL_CREATE","URL_DELETE_BATCH","URL_BROWSE","errorMsg","ShareOperationModal","selectChange","confirmCallback","ShareDialogModal","CopyOutlined","copyAll","maskClosable","BreadcrumbPanel","breadcrumbModels","displayDirect","navigateQueryTo","MatterSortPanel","orderName","getFilterValue","nextSortIndex","sortAutomaton","findIndex","changeFilterOrder","ArrowUpOutlined","ArrowDownOutlined","newMatter","selectedMatters","searchText","newMatterRef","dragEnterCount","tempUploadList","uploadErrorLogs","drag","dragEnterListener","preventDefault","dragleaveListener","dragoverListener","dropListener","launchUpload","dataTransfer","files","el","getElementById","addEventListener","remove","removeEventListener","triggerUploadDir","debounce","uploadDirectory","getErrorLogsToCSVUrl","okText","instance","refreshPager","refreshBreadcrumbs","checkMatter","httpSoftDeleteBatch","httpDeleteBatch","downloadZip","httpMove","wait","timer","clearTimeout","dirPathUuidMap","paths","webkitRelativePath","pPaths","pPathStr","midPaths","midPathStr","m","f","errHandle","FileList","uploadMatters","httpCreate","highLight","imageArray","startIndex","id","cur","reduceRight","CloudUploadOutlined","checkAll","PlusSquareOutlined","checkNone","MinusSquareOutlined","deleteBatch","toggleMoveBatch","DragOutlined","shareBatch","ShareAltOutlined","multiple","createDirectory","FolderOutlined","SyncOutlined","goToDirectory","previewImage","ImageCache","matterName","ImageCachePanel","onCheckImageCache","onPreviewImageCache","getOriginUrl","deleteImageCache","SmallDashOutlined","ImageCacheList","selectedImageCaches","checkImageCache","initFilter","getResizeUrl","checkBatch","previewImageCache","tip","httpRecoveryBatch","recoverBatch","ShareBar","showShare","delShare","hasExpired","FrameLoading","LoadingOutlined","ShareMatterPanel","getSharePreviewUrl","getShareDownloadUrl","needShareCode","sharePagerSize","httpBrowse","setFilterValues","orderCreateTime","orderDir","paramId","pMatter","BottomLayout","changeLang","DefaultLogoPng","MenuItem","MenuManager","getMenuItems","menuItem","menuItems","AppstoreOutlined","SettingOutlined","DashboardOutlined","TeamOutlined","PoweroffOutlined","AboutModal","SideLayout","selectMenu","menuManager","getSelectedKeys","TopLayout","goHome","toggleDrawer","ContentLayout","RawFrame","initialized","initialize","startsWith","httpInfo","errMessage","exact","UserLogin","UserRegister","UserDetail","UserList","MobileUserList","UserEdit","UserAuthentication","DashboardIndex","PreferenceIndex","PreferenceEdit","PreferenceEngineEdit","PreferenceScanEdit","MatterDetail","MatterList","ShareList","ShareDetail","BinList","InstallIndex","Frame","withRouter","App","en_US"],"mappings":"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","file":"static/js/main.13b1b7e5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/folder.f8d1b500.svg\";","module.exports = __webpack_public_path__ + \"static/media/pdf.c256fdcb.svg\";","module.exports = __webpack_public_path__ + \"static/media/doc.1e70a87c.svg\";","module.exports = __webpack_public_path__ + \"static/media/ppt.9ec3e018.svg\";","module.exports = __webpack_public_path__ + \"static/media/xls.ef5ba31b.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.30a1ea02.svg\";","module.exports = __webpack_public_path__ + \"static/media/video.4387235d.svg\";","module.exports = __webpack_public_path__ + \"static/media/text.49dc13ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/psd.be6691be.svg\";","module.exports = __webpack_public_path__ + \"static/media/image.06f036ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/file.fd3e15f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.21458adb.png\";","import React from 'react';\r\n\r\n\r\n/**\r\n * \r\n */\r\nexport default class TankComponent<P, S> extends React.Component <P, S> {\r\n\r\n  //\r\n  mounted: boolean = false\r\n\r\n  componentWillUnmount() {\r\n    let that = this\r\n    that.mounted = false\r\n  }\r\n\r\n  componentWillMount() {\r\n    let that = this\r\n    that.mounted = true\r\n  }\r\n\r\n  //\r\n  updateUI() {\r\n    let that = this\r\n    if (that.mounted) {\r\n      that.setState({})\r\n    } else {\r\n      console.info(this.constructor.name + \"\")\r\n    }\r\n  }\r\n\r\n  //\r\n  getIdentifier() {\r\n    return this.constructor.name;\r\n  }\r\n}\r\n\r\n","export default class SafeUtil {\r\n\r\n  //\r\n  static safeCallback(callback: any) {\r\n    if (typeof callback === \"function\") {\r\n      return callback\r\n    } else {\r\n      return SafeUtil.noop\r\n    }\r\n  }\r\n\r\n\r\n  //\r\n  static noop = () => {\r\n  };\r\n\r\n\r\n  //\r\n  static stopPropagation(e: any) {\r\n    if (!e) {\r\n      return\r\n    }\r\n\r\n    if (e.stopPropagation) {\r\n      //\r\n      e.stopPropagation()\r\n    } else if (e.domEvent && e.domEvent.stopPropagation) {\r\n      //antd\r\n      e.domEvent.stopPropagation()\r\n\r\n    }\r\n  }\r\n\r\n  // \r\n  static stopPropagationWrap(e: any) {\r\n    SafeUtil.stopPropagation(e);\r\n    return (func?: any) => {\r\n      SafeUtil.safeCallback(func);\r\n    }\r\n  }\r\n\r\n}\r\n","export default class StringUtil {\r\n\r\n  //\r\n  static UPPER_CASES = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\r\n\r\n  //\r\n  static underScoreToCamel(str: string) {\r\n\r\n    if (!str) {\r\n      console.error('')\r\n      return str\r\n    }\r\n\r\n    const regex = /_[a-z]/gm;\r\n\r\n    return str.replace(regex, function (letter: any, index: any) {\r\n      return letter.substr(1).toUpperCase()\r\n    })\r\n  }\r\n\r\n  //\r\n  static lowerCamel(str: any) {\r\n\r\n    if (!str) {\r\n      console.error('')\r\n      return str\r\n    }\r\n\r\n    return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (letter: any, index: any) {\r\n      return index === 0 ? letter.toLowerCase() : letter.toUpperCase()\r\n    }).replace(/\\s+/g, '')\r\n  }\r\n\r\n\r\n  // /\r\n  static lowerSlash(str: any) {\r\n    return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function (letter: any, index: any) {\r\n      return '/' + letter.toLowerCase()\r\n    }).replace(/\\s+/g, '')\r\n  }\r\n\r\n  //\r\n  static containStr(father: string | null, child: string): boolean {\r\n\r\n    if (father === null || father === '') {\r\n      return false\r\n    }\r\n    return father.indexOf(child) !== -1\r\n  }\r\n\r\n  //\r\n  //human readable file size\r\n  static humanFileSize(bytes: number, si:boolean = false) {\r\n    let thresh = si ? 1000 : 1024\r\n    if (Math.abs(bytes) < thresh) {\r\n      return bytes + ' B'\r\n    }\r\n    let units = si\r\n      ? ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']\r\n      : ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\r\n    let u = -1\r\n    do {\r\n      bytes /= thresh\r\n      ++u\r\n    } while (Math.abs(bytes) >= thresh && u < units.length - 1)\r\n    return bytes.toFixed(1) + ' ' + units[u]\r\n  }\r\n\r\n  //\r\n  static capitalize(str: any) {\r\n\r\n    if (!str) {\r\n      return str;\r\n    }\r\n\r\n    str = str.replace(/^\\w/, (c: any) => c.toUpperCase());\r\n\r\n    return str\r\n  }\r\n\r\n  //\r\n  static lower(str: any) {\r\n\r\n    if (!str) {\r\n      return str;\r\n    }\r\n\r\n    str = str.replace(/^\\w/, (c: any) => c.toLowerCase());\r\n\r\n    return str\r\n  }\r\n\r\n  //function\r\n  static functionName(func: any) {\r\n    // Match:\r\n    // - ^          the beginning of the string\r\n    // - function   the word 'function'\r\n    // - \\s+        at least some white space\r\n    // - ([\\w\\$]+)  capture one or more valid JavaScript identifier characters\r\n    // - \\s*        optionally followed by white space (in theory there won't be any here,\r\n    //              so if performance is an issue this can be omitted[1]\r\n    // - \\(         followed by an opening brace\r\n    //\r\n    let result = /^function\\s+([\\w\\$]+)\\s*\\(/.exec(func.toString())\r\n\r\n    return result ? result[1] : '' // for an anonymous function there won't be a match\r\n  }\r\n\r\n  //check whether an obj is empty\r\n  static isEmptyObject(obj: any) {\r\n\r\n    if (!obj) {\r\n      return true;\r\n    }\r\n\r\n    for (let key in obj) {\r\n      return false;\r\n    }\r\n    return true\r\n  }\r\n\r\n\r\n  /**\r\n   * num\r\n   *  /tank/setting/notification -> /tank/setting\r\n   * @param path \r\n   * @param num 1\r\n   */\r\n  static prePath(path: string, num: number = 1): string {\r\n    if (!path) {\r\n      return path\r\n    }\r\n\r\n    ///\r\n    let parts: string[] = path.split(\"/\");\r\n    //\r\n    parts = parts.filter((item: string, index: number) => {\r\n      return item !== \"\"\r\n    })\r\n\r\n    //\r\n    parts.splice(parts.length - num)\r\n\r\n    return \"/\" + parts.join(\"/\")\r\n  }\r\n\r\n\r\n  static startWith(str: any, prefix: any) {\r\n    if (typeof prefix === 'undefined' || prefix === null || prefix === '' || typeof str === 'undefined' || str === null || str.length === 0 || prefix.length > str.length) {\r\n      return false\r\n    }\r\n\r\n    return str.substr(0, prefix.length) === prefix\r\n  }\r\n\r\n  static endWith(str: any, suffix: any) {\r\n    if (suffix === null || suffix === '' || str === null || str.length === 0 || suffix.length > str.length) {\r\n      return false\r\n    }\r\n\r\n    return str.substring(str.length - suffix.length) === suffix\r\n  }\r\n\r\n\r\n  /**\r\n   * \r\n   * @param str \r\n   * @param prefix \r\n   */\r\n  static trimPrefix(str: string | null, prefix: string): string {\r\n\r\n    if (!str) {\r\n      return \"\"\r\n    } else {\r\n      if (str.substr(0, prefix.length) === prefix) {\r\n        return str.substr(prefix.length)\r\n      } else {\r\n        return str\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param str \r\n   * @param suffix \r\n   */\r\n  static trimSuffix(str: string | null, suffix: string): string {\r\n\r\n    if (!str) {\r\n      return \"\"\r\n    } else {\r\n      if (str.substring(str.length - suffix.length) === suffix) {\r\n        return str.substr(0, str.length - suffix.length)\r\n      } else {\r\n        return str\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n  //ab\r\n  static append(a: any, b: any, separator = \"\") {\r\n\r\n    if (a === null || a === \"\" || typeof a !== \"string\") {\r\n      return b;\r\n    } else {\r\n      return a + separator + b;\r\n    }\r\n  }\r\n\r\n\r\n  static isBlank(text: string | null | undefined): boolean {\r\n\r\n    if (text === null || text == undefined) {\r\n      return true\r\n    }\r\n\r\n    return text.trim() === \"\";\r\n\r\n  }\r\n\r\n  static isNotBlank(text: string | null | undefined): boolean {\r\n\r\n    return !StringUtil.isBlank(text)\r\n\r\n  }\r\n\r\n\r\n  //62\r\n  static generateUniqueCode(num?: number): string {\r\n    //\r\n\r\n    if (num === undefined) {\r\n      num = new Date().getTime()\r\n    }\r\n\r\n    let standardString = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\r\n    let result;\r\n    let list: number[] = [];\r\n    let len = standardString.length;\r\n    let level;\r\n    for (level = 0; Math.floor(num / len) > 0; level++) {\r\n      result = num % len;\r\n      list.push(result)\r\n      num = (num - result) / len\r\n    }\r\n    list.push(num);\r\n    let code = '';\r\n    list.forEach((item) => {\r\n      code = standardString[item] + code;\r\n    })\r\n    return code\r\n  }\r\n\r\n  //\r\n  static parseUniqueCode(str: string): number {\r\n\r\n    let exchangeString = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\r\n    let strNew = str.split(\"\");\r\n    let list: number[] = [];\r\n    strNew.map((item: string) => {\r\n      list.push(exchangeString.indexOf(item));\r\n    });\r\n    let num = 0;\r\n    for (let i = 0; i < list.length; i++) {\r\n      num += list[i] * Math.pow(exchangeString.length, list.length - i - 1);\r\n    }\r\n    return num;\r\n  }\r\n\r\n\r\n}\r\n","enum SortDirection {\r\n  //\r\n  ASC = 'ASC',\r\n  DESC = 'DESC',\r\n\r\n  //antd\r\n  DESCEND = 'descend',\r\n  ASCEND = 'ascend'\r\n}\r\n\r\n\r\nexport default SortDirection\r\n","/**\r\n * \r\n */\r\nexport default class Filter {\r\n\r\n  //\r\n  name: string\r\n  //\r\n  key: string\r\n  //\r\n  visible: boolean = true\r\n\r\n  constructor(name: string, key: string, visible?: boolean) {\r\n    this.name = name\r\n    this.key = key\r\n\r\n    //true.\r\n    if (visible === undefined) {\r\n      this.visible = true\r\n    } else {\r\n      this.visible = visible\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getValueString(): string {\r\n    console.error(`${this.constructor.name}  getValue `)\r\n    return \"\"\r\n  }\r\n\r\n  /**\r\n   * value\r\n   */\r\n  putValue(value: string) {\r\n    console.error(`${this.constructor.name}  putValue `)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  reset() {\r\n    console.error(`${this.constructor.name}  reset `)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  isEmpty():boolean {\r\n    console.error(`${this.constructor.name}  isEmpty `)\r\n    return false\r\n  }\r\n\r\n}\r\n","import Filter from \"./Filter\";\r\nimport SortDirection from \"../SortDirection\";\r\n\r\n\r\n/**\r\n *\r\n * \r\n *\r\n */\r\nexport default class SortFilter extends Filter {\r\n\r\n  //null\r\n  value: SortDirection | null = null\r\n\r\n  constructor(name: string, code: string, visible?: boolean) {\r\n    super(name, code, visible)\r\n    //more\r\n    //true.\r\n    if (visible === undefined) {\r\n      this.visible = false\r\n    } else {\r\n      this.visible = visible\r\n    }\r\n  }\r\n\r\n  //[null,true,false] => [\"\",\"true\",\"false\"]\r\n  getValueString(): string {\r\n    if (this.value) {\r\n      return this.value\r\n    } else {\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n  //\r\n  putValue(value: string) {\r\n    if (value === SortDirection.DESC || value === SortDirection.DESCEND) {\r\n      this.value = SortDirection.DESC\r\n    } else if (value === SortDirection.ASC || value === SortDirection.ASCEND) {\r\n      this.value = SortDirection.ASC\r\n    } else {\r\n      this.value = null\r\n    }\r\n  }\r\n\r\n\r\n  //antd TODO: SortOrder\r\n  getAntdValue(): any | null {\r\n    if (this.value === SortDirection.DESC || this.value === SortDirection.DESCEND) {\r\n      return SortDirection.DESCEND\r\n    } else if (this.value === SortDirection.ASC || this.value === SortDirection.ASCEND) {\r\n      return SortDirection.ASCEND\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n\r\n  reset() {\r\n    this.value = null\r\n  }\r\n\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === null;\r\n  }\r\n\r\n\r\n}\r\n","import axios, { AxiosRequestConfig } from \"axios\";\r\nimport SafeUtil from \"./SafeUtil\";\r\n\r\n//httphttp\r\nexport default class HttpUtil {\r\n  static httpGet(\r\n    url: any,\r\n    params = {},\r\n    successCallback?: any,\r\n    errorCallback?: any,\r\n    finallyCallback?: any,\r\n    opts?: any\r\n  ) {\r\n    axios\r\n      .get(url, {\r\n        params: params,\r\n      })\r\n      .then(function (response) {\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      })\r\n      .catch(function (error) {\r\n        SafeUtil.safeCallback(errorCallback)(error);\r\n      })\r\n      .finally(function () {\r\n        SafeUtil.safeCallback(finallyCallback)();\r\n      });\r\n  }\r\n\r\n  static httpPost(\r\n    url: any,\r\n    params = {},\r\n    successCallback?: any,\r\n    errorCallback?: any,\r\n    finallyCallback?: any,\r\n    opts?: any\r\n  ) {\r\n    return axios\r\n      .post(url, params, opts)\r\n      .then(function (response) {\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      })\r\n      .catch(function (error) {\r\n        SafeUtil.safeCallback(errorCallback)(error);\r\n      })\r\n      .finally(function () {\r\n        SafeUtil.safeCallback(finallyCallback)();\r\n      });\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  static httpPostFile(\r\n    url: string,\r\n    formData: FormData,\r\n    successCallback?: any,\r\n    errorCallback?: any,\r\n    finallyCallback?: any,\r\n    processCallback?: (progressEvent: any) => void,\r\n    opts?: any\r\n  ) {\r\n    const config: AxiosRequestConfig = {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      cancelToken: opts ? opts.cancelToken : \"\",\r\n      onUploadProgress: processCallback,\r\n    };\r\n\r\n    axios\r\n      .post(url, formData, config)\r\n      .then(function (response) {\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      })\r\n      .catch(function (error) {\r\n        SafeUtil.safeCallback(errorCallback)(error);\r\n      })\r\n      .finally(function () {\r\n        SafeUtil.safeCallback(finallyCallback)();\r\n      });\r\n  }\r\n}\r\n","import moment from \"moment\"\r\n\r\nexport default class DateUtil {\r\n\r\n  static DEFAULT_FORMAT = \"YYYY-MM-DD HH:mm:ss\";\r\n  static DEFAULT_HOUR_MINUTE = \"YYYY-MM-DD HH:mm\";\r\n  static SLASH_DATE_FORMAT = \"YYYY/MM/DD\";\r\n  static TIME_FORMAT = \"HH:mm:ss\";\r\n  static DATE_FORMAT = \"YYYY-MM-DD\";\r\n  //\r\n  static COMPACT_DATE_FORMAT = \"YYYYMMDD\";\r\n\r\n  static simpleDateHourMinute(date: Date |null): string {\r\n    if (date == null) {\r\n      return \"\"\r\n    } else {\r\n      return moment(date).format(DateUtil.DEFAULT_HOUR_MINUTE)\r\n    }\r\n  }\r\n  static simpleDateTime(date: Date | null): string {\r\n    if (date == null) {\r\n      return \"\"\r\n    } else {\r\n      return moment(date).format(DateUtil.DEFAULT_FORMAT)\r\n    }\r\n  }\r\n\r\n  static simpleDate(date: Date | null): string {\r\n\r\n    if (date == null) {\r\n      return \"\"\r\n    } else {\r\n      return moment(date).format(DateUtil.DATE_FORMAT)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  static lastDay(date: Date | null, format?: string): string {\r\n\r\n    if (format === undefined) {\r\n      format = DateUtil.DEFAULT_FORMAT\r\n    }\r\n\r\n    if (date == null) {\r\n      return \"\"\r\n    } else {\r\n      return moment(date).add(-1, 'days').format(format)\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * \r\n   */\r\n  static format(date: Date | null, formatString: string): string {\r\n    if (date == null) {\r\n      return \"\"\r\n    } else {\r\n      return moment(date).format(formatString)\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * \r\n   * @param str\r\n   */\r\n  static parse(str: string): Date | null {\r\n\r\n    let valid = moment(str).isValid();\r\n    if (valid) {\r\n      return moment(str).toDate()\r\n    } else {\r\n      return null\r\n    }\r\n  }\r\n\r\n\r\n  //js date\r\n  //deprecated, parse\r\n  static str2Date(str: any): Date {\r\n\r\n    let valid = moment(str).isValid();\r\n    if (valid) {\r\n      return moment(str).toDate()\r\n    } else {\r\n      //console.warn(\":\", str)\r\n      return new Date()\r\n    }\r\n  }\r\n\r\n}\r\n","export default class JsonUtil {\r\n\r\n\r\n  //json json \r\n  static parseList(str: any) {\r\n    if (!str) {\r\n      return []\r\n    }\r\n    if (str instanceof Array) {\r\n      return str;\r\n    }\r\n    try {\r\n      let list = JSON.parse(str);\r\n      if (list instanceof Array) {\r\n        return list;\r\n      } else {\r\n        console.error(\"\" + str + \"\");\r\n        return [];\r\n      }\r\n    } catch (e) {\r\n      console.error(\"\" + str + \"JSON\");\r\n      return [];\r\n    }\r\n  }\r\n\r\n\r\n  //js\r\n  static toObj(str: any) {\r\n\r\n    if (!str) {\r\n      return {}\r\n    }\r\n\r\n    try {\r\n      return JSON.parse(str)\r\n    } catch (e) {\r\n      console.error(\"json\" + str + \"\");\r\n      return {};\r\n    }\r\n  }\r\n\r\n  //json\r\n  static toJson(obj: any): string {\r\n\r\n    if (!obj) {\r\n      obj = {}\r\n    }\r\n\r\n    return JSON.stringify(obj)\r\n  }\r\n\r\n  //JSON\r\n  static prettyJson(json: any) {\r\n\r\n    if (typeof json === 'string') {\r\n      json = JSON.parse(json);\r\n    }\r\n\r\n    return JSON.stringify(json, null, 2)\r\n  };\r\n\r\n}\r\n","import DateUtil from \"./DateUtil\";\r\nimport JsonUtil from \"./JsonUtil\";\r\n\r\nexport default class ObjectUtil {\r\n  // extraObj standardObj\r\n  static extend(standardObj: any, extraObj: any) {\r\n    for (let key in extraObj) {\r\n      if (extraObj.hasOwnProperty(key)) {\r\n        if (standardObj.hasOwnProperty(key)) {\r\n          standardObj[key] = extraObj[key];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // standardObj\r\n  static deepExtend(standardObj: any, extraObj: any, checkKey: boolean = true) {\r\n    for (let key in extraObj) {\r\n      if (checkKey) {\r\n        if (standardObj.hasOwnProperty(key)) {\r\n          standardObj[key] =\r\n            extraObj[key] instanceof Object\r\n              ? ObjectUtil.deepExtend({}, extraObj[key], false)\r\n              : extraObj[key];\r\n        }\r\n      } else {\r\n        standardObj[key] =\r\n            extraObj[key] instanceof Object\r\n              ? ObjectUtil.deepExtend({}, extraObj[key], false)\r\n              : extraObj[key];\r\n      }\r\n    }\r\n    return standardObj;\r\n  }\r\n\r\n  //standardObjfield\r\n  static assignDate(standardObj: any, field: any) {\r\n    if (standardObj.hasOwnProperty(field)) {\r\n      standardObj[field] = DateUtil.str2Date(standardObj[field]);\r\n    }\r\n  }\r\n\r\n  //standardObjfieldClazz\r\n  static assignList(standardObj: any, field: any, Clazz: any) {\r\n    if (standardObj.hasOwnProperty(field)) {\r\n      //this[field]\r\n      if (Clazz === String) {\r\n        standardObj[field] = JsonUtil.parseList(standardObj[field]);\r\n\r\n        return;\r\n      }\r\n\r\n      //\r\n      let beans = standardObj[field];\r\n      if (!beans) {\r\n        // []\r\n        standardObj[field] = new standardObj.constructor()[field];\r\n        return;\r\n      }\r\n\r\n      standardObj[field] = [];\r\n\r\n      if (!Clazz) {\r\n        return;\r\n      }\r\n\r\n      for (let i = 0; i < beans.length; i++) {\r\n        let bean = beans[i];\r\n        let clazz = new Clazz();\r\n\r\n        if (clazz.assign) {\r\n          clazz.assign(bean);\r\n        } else {\r\n          console.error(clazz);\r\n          console.error(\"assign\");\r\n        }\r\n\r\n        standardObj[field].push(clazz);\r\n      }\r\n    }\r\n  }\r\n\r\n  //check whether an obj is empty\r\n  static isEmptyObject(obj: object) {\r\n    if (typeof obj !== \"object\") {\r\n      console.error(\"obj\");\r\n      return true;\r\n    }\r\n\r\n    for (let key in obj) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   *   age=18&name=xxx \r\n   */\r\n  static param(map: any) {\r\n    let arr: string[] = [];\r\n    for (let key in map) {\r\n      if (map.hasOwnProperty(key)) {\r\n        let value = map[key];\r\n        arr[arr.length] =\r\n          encodeURIComponent(key) +\r\n          \"=\" +\r\n          encodeURIComponent(value == null ? \"\" : value);\r\n      }\r\n    }\r\n\r\n    return arr.join(\"&\");\r\n  }\r\n}\r\n","import ObjectUtil from \"../../util/ObjectUtil\";\r\nimport JsonUtil from \"../../util/JsonUtil\";\r\nimport DateUtil from \"../../util/DateUtil\";\r\n\r\n/**\r\n *\r\n * \r\n * \r\n */\r\nexport default class Base {\r\n\r\n  //id\r\n  private static AUTO_INCREMENT_ID = 0\r\n\r\n  //ID\r\n  autoId: number = 0\r\n\r\n\r\n  //react\r\n  constructor() {\r\n\r\n    this.autoId = Base.generateAutoId()\r\n  }\r\n\r\n  static generateAutoId() {\r\n    Base.AUTO_INCREMENT_ID++\r\n    return Base.AUTO_INCREMENT_ID\r\n  }\r\n\r\n\r\n  //objthis\r\n  assign(obj: any) {\r\n    ObjectUtil.extend(this, obj)\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param field \r\n   * @param Clazz \r\n   */\r\n  assignList<F extends keyof this>(field: string, Clazz: any) {\r\n\r\n    ObjectUtil.assignList(this, field, Clazz)\r\n  }\r\n\r\n\r\n  /**\r\n   * \r\n   * @param json \r\n   * @param Clazz \r\n   * @returns {*}\r\n   */\r\n  static renderList(json: any, Clazz: any) {\r\n\r\n    let target: any = []\r\n\r\n\r\n    let arr: any = []\r\n\r\n    if (json instanceof String || typeof json === \"string\") {\r\n\r\n      arr = JsonUtil.parseList(json)\r\n\r\n    } else if (json instanceof Array) {\r\n      arr = json\r\n    } else {\r\n\r\n      console.error(\"\", json, typeof json)\r\n      return target\r\n    }\r\n\r\n    //this[field]\r\n    if (Clazz === String) {\r\n      return arr\r\n    }\r\n\r\n    if (!Clazz || !(Clazz.prototype instanceof Base)) {\r\n      console.error(\" Base \")\r\n      return target\r\n    }\r\n\r\n    for (let i = 0; i < arr.length; i++) {\r\n      let bean = arr[i]\r\n\r\n      let clazz = new Clazz()\r\n\r\n      clazz.assign(bean)\r\n\r\n      target.push(clazz)\r\n    }\r\n\r\n    return target\r\n  }\r\n\r\n  //renderEntity. fieldClazz\r\n  assignEntity(field: any, Clazz: any) {\r\n\r\n    let thisObj: any = this\r\n\r\n    let obj: any = thisObj[field]\r\n    if (!obj) {\r\n      if (Clazz) {\r\n        let EntityClazz: any = this.constructor\r\n        obj = (new EntityClazz())[field]\r\n\r\n      } else {\r\n        return\r\n      }\r\n    }\r\n\r\n    if (Clazz === Date) {\r\n\r\n      thisObj[field] = DateUtil.str2Date(obj)\r\n\r\n    } else if (Clazz.prototype instanceof Base) {\r\n\r\n      //\r\n      //1024*1024  \"1M\"let bean = new Clazz(); assignavatarObject.\r\n      let bean = (new thisObj.constructor())[field]\r\n      if (!bean) {\r\n        bean = new Clazz()\r\n      }\r\n\r\n\r\n      if (typeof obj === \"string\") {\r\n        try {\r\n          obj = JSON.parse(obj)\r\n        } catch (e) {\r\n          console.error(\"JSON parse obj error\", e)\r\n        }\r\n      }\r\n\r\n      if (obj !== null) {\r\n        bean.assign(obj)\r\n        thisObj[field] = bean\r\n      }\r\n\r\n    } else {\r\n      console.error('')\r\n    }\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import SelectionOption from \"../base/option/SelectionOption\";\r\n\r\n\r\nenum WebResultCode {\r\n  OK = \"OK\",\r\n  BAD_REQUEST = \"BAD_REQUEST\",\r\n  NEED_SHARE_CODE = \"NEED_SHARE_CODE\",\r\n  SHARE_CODE_ERROR = \"SHARE_CODE_ERROR\",\r\n  LOGIN = \"LOGIN\",\r\n  NOT_INSTALLED = \"NOT_INSTALLED\",\r\n  SERVER = \"SERVER\",\r\n  UNKNOWN = \"UNKNOWN\",\r\n}\r\n\r\nlet WebResultCodes: WebResultCode[] = Object.keys(WebResultCode).map(k => k as WebResultCode)\r\n\r\nlet WebResultCodeMap: { [key in keyof typeof WebResultCode]: SelectionOption } = {\r\n  OK: {\r\n    \"name\": \"\",\r\n    \"value\": \"OK\",\r\n  },\r\n  BAD_REQUEST: {\r\n    \"name\": \"\",\r\n    \"value\": \"BAD_REQUEST\",\r\n  },\r\n  NEED_SHARE_CODE: {\r\n    name: \"\",\r\n    value: \"NEED_SHARE_CODE\"\r\n  },\r\n  SHARE_CODE_ERROR: {\r\n    name: \"\",\r\n    value: \"SHARE_CODE_ERROR\"\r\n  },\r\n  LOGIN: {\r\n    \"name\": \"\",\r\n    \"value\": \"LOGIN\",\r\n  },\r\n  NOT_INSTALLED: {\r\n    \"name\": \"\",\r\n    \"value\": \"NOT_INSTALLED\",\r\n  },\r\n  SERVER: {\r\n    \"name\": \"\",\r\n    \"value\": \"SERVER\",\r\n  },\r\n  UNKNOWN: {\r\n    \"name\": \"\",\r\n    \"value\": \"UNKNOWN\",\r\n  },\r\n}\r\n\r\nlet WebResultCodeList: SelectionOption[] = []\r\nWebResultCodes.forEach((type: WebResultCode, index: number) => {\r\n  WebResultCodeList.push(WebResultCodeMap[type])\r\n})\r\n\r\n\r\nexport {WebResultCode, WebResultCodes, WebResultCodeMap, WebResultCodeList}\r\n\r\n\r\n\r\n\r\n","/**\r\n *\r\n * \r\n *\r\n * \r\n * Castle\r\n */\r\nimport Base from \"./Base\";\r\nimport React from \"react\";\r\n\r\nexport default class ViewBase extends Base {\r\n\r\n  //React\r\n  reactComponent: React.Component | null = null\r\n\r\n  //UI\r\n  static updateComponentUI(component: React.Component | null, entity?: any) {\r\n    if (component) {\r\n      //_versionfake\r\n      component.setState({_version: new Date().getTime()})\r\n    } else {\r\n      console.warn(`${entity && entity.constructor ? entity.constructor.name : ''}  reactComponent UI`)\r\n    }\r\n  }\r\n\r\n  //\r\n  updateUI() {\r\n\r\n    ViewBase.updateComponentUI(this.reactComponent, this)\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","/**\r\n * \r\n * BaseUser, Preference.\r\n * Moon\r\n */\r\n\r\nexport default class Sun {\r\n\r\n  //store\r\n  static singleton: Sun | null = null;\r\n\r\n  //frame\r\n  frameComponent: any = null;\r\n\r\n  //react-routerjsx\r\n  reactRouter: any = null;\r\n\r\n  //.\r\n  showDrawer: boolean = false;\r\n\r\n  //mobile\r\n  isMobile: boolean = /Mobile|iP(hone|od|ad)|iOS|Android|BlackBerry/i.test(window.navigator.userAgent);\r\n\r\n\r\n\r\n  //\r\n  constructor() {\r\n\r\n  }\r\n\r\n  //\r\n  static getSingleton(): Sun {\r\n    if (Sun.singleton == null) {\r\n      Sun.singleton = new Sun();\r\n\r\n    }\r\n    return Sun.singleton\r\n  }\r\n\r\n\r\n  //*******************  *******************//\r\n\r\n  /**\r\n   * \r\n   */\r\n  static navigateTo(path: any) {\r\n    if (Sun.getSingleton().reactRouter) {\r\n      Sun.getSingleton().reactRouter.push(path)\r\n    } else {\r\n      console.error(\" reactRouter \")\r\n    }\r\n  }\r\n\r\n  /**\r\n   * query\r\n   * route: {path: '', query: {}}\r\n   */\r\n  static navigateQueryTo(route: any) {\r\n    let path = route.path;\r\n    if (Object.keys(route.query).length) {\r\n      const params = new URLSearchParams(route.query).toString();\r\n      path += `?${params}`;\r\n    }\r\n    Sun.navigateTo(path);\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  static navigateBack() {\r\n    if (Sun.getSingleton().reactRouter) {\r\n      Sun.getSingleton().reactRouter.go(-1)\r\n    } else {\r\n      console.error(\" reactRouter \")\r\n    }\r\n  }\r\n\r\n  //*******************   *******************//\r\n\r\n  //*******************  *******************//\r\n  /**\r\n   * \r\n   */\r\n  static updateFrame() {\r\n    if (Sun.getSingleton().frameComponent) {\r\n      Sun.getSingleton().frameComponent.updateUI()\r\n    } else {\r\n      console.error(\" frameComponent \")\r\n    }\r\n  }\r\n\r\n  //*******************   *******************//\r\n}\r\n","import {message} from 'antd';\r\n\r\n/**\r\n * \r\n */\r\nexport default class MessageBoxUtil {\r\n\r\n  static success(content: string) {\r\n    message.success(content)\r\n  }\r\n\r\n  static info(content: string) {\r\n    message.info(content)\r\n  }\r\n\r\n  static error(content: string) {\r\n    message.error(content)\r\n  }\r\n\r\n  static warn(content: string) {\r\n    message.warn(content)\r\n  }\r\n\r\n  static warning(content: string) {\r\n    message.warning(content)\r\n  }\r\n\r\n}\r\n","import HttpUtil from \"../../util/HttpUtil\";\r\nimport SafeUtil from \"../../util/SafeUtil\";\r\nimport qs from \"qs\"\r\nimport React from \"react\";\r\nimport ViewBase from \"./ViewBase\";\r\nimport Sun from \"../global/Sun\";\r\nimport {WebResultCode} from \"./WebResultCode\";\r\nimport MessageBoxUtil from \"../../util/MessageBoxUtil\";\r\n\r\n/**\r\n * \r\n * \r\n */\r\nexport default class HttpBase extends ViewBase {\r\n\r\n  static lastLoginErrorTimestamp = 0\r\n\r\n  //State\r\n  needReactComponentUpdate: boolean = true\r\n\r\n  //http\r\n  loading: boolean = false\r\n\r\n  //http\r\n  errorMessage: string | null = null\r\n\r\n  //react\r\n  constructor(reactComponent?: React.Component | null) {\r\n\r\n    super()\r\n\r\n    if (reactComponent) {\r\n      this.reactComponent = reactComponent\r\n    }\r\n\r\n  }\r\n\r\n\r\n  //\r\n  updateUI() {\r\n    if (this.needReactComponentUpdate && this.reactComponent) {\r\n      ViewBase.updateComponentUI(this.reactComponent, this)\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * \r\n   */\r\n  jumpLogin() {\r\n\r\n    Sun.navigateTo(\"/user/login\")\r\n\r\n\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  jumpInstall() {\r\n\r\n    Sun.navigateTo(\"/install/index\")\r\n\r\n  }\r\n\r\n  //\r\n  getErrorMessage(response: any) {\r\n\r\n    console.error(\"getErrorMessage\", response)\r\n    let msg = '!'\r\n\r\n    if (!response) {\r\n      msg = ''\r\n    } else if (typeof response === 'string') {\r\n      msg = response\r\n    } else if (response['msg']) {\r\n      msg = response['msg']\r\n    } else if (response['message']) {\r\n      msg = response['message']\r\n    } else {\r\n      let temp = response['data']\r\n      if (temp !== null && typeof temp === 'object') {\r\n        if (temp['message']) {\r\n          msg = temp['message']\r\n        } else if (temp['msg']) {\r\n          msg = temp['msg']\r\n        } else {\r\n          if (temp['error'] && temp['error']['message']) {\r\n            msg = temp['error']['message']\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.errorMessage = msg\r\n    return msg\r\n  }\r\n\r\n\r\n  //\r\n  defaultErrorHandler(response: any, errorCallback?: any) {\r\n\r\n    let msg = this.getErrorMessage(response)\r\n\r\n    console.error(\"\", typeof msg, msg)\r\n\r\n    if (typeof errorCallback === 'function') {\r\n      errorCallback(msg, response)\r\n    } else {\r\n      MessageBoxUtil.error(msg)\r\n    }\r\n\r\n  }\r\n\r\n\r\n  //return true ->   false ->  \r\n  specialErrorHandler(response: any) {\r\n\r\n    if (!response || !response.data) {\r\n      return false\r\n    }\r\n\r\n    //1.\r\n    if (response.data[\"code\"] === WebResultCode.LOGIN) {\r\n\r\n      //\r\n      if ((new Date().getTime()) - HttpBase.lastLoginErrorTimestamp < 3000) {\r\n        return true\r\n      } else {\r\n        HttpBase.lastLoginErrorTimestamp = (new Date().getTime());\r\n      }\r\n\r\n      MessageBoxUtil.error(\"\")\r\n\r\n      //\r\n      this.jumpLogin()\r\n\r\n      return true;\r\n    }\r\n\r\n\r\n    return false\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * http\r\n   * 1.\r\n   *\r\n   */\r\n  httpGet(url: any, params = {}, successCallback?: any, errorCallback?: any, finallyCallback?: any, opts?: any) {\r\n\r\n    let that = this\r\n\r\n    if (!opts) {\r\n      opts = {}\r\n    }\r\n\r\n\r\n    that.loading = true\r\n\r\n    //react\r\n    that.updateUI()\r\n\r\n    return HttpUtil.httpGet(url, params, function (response: any) {\r\n      //\r\n      if (that.specialErrorHandler(response)) {\r\n\r\n        SafeUtil.safeCallback(errorCallback)(response)\r\n        return\r\n      }\r\n\r\n\r\n      SafeUtil.safeCallback(successCallback)(response)\r\n\r\n    }, function (err: any) {\r\n\r\n      let response = err.response\r\n      console.error(\"\", response)\r\n\r\n      //\r\n      if (that.specialErrorHandler(response)) {\r\n        return\r\n      }\r\n\r\n\r\n      that.defaultErrorHandler(response, errorCallback)\r\n\r\n    }, function (res: any) {\r\n\r\n      that.loading = false\r\n\r\n      //react\r\n      that.updateUI()\r\n\r\n      SafeUtil.safeCallback(finallyCallback)(res)\r\n\r\n    }, opts);\r\n  }\r\n\r\n  /**\r\n   * http get\r\n   *\r\n   */\r\n  httpPureGet(url: any, params = {}, successCallback?: any, errorCallback?: any, finallyCallback?: any, opts?: any) {\r\n\r\n    let that = this\r\n\r\n    if (!opts) {\r\n      opts = {}\r\n    }\r\n\r\n    return HttpUtil.httpGet(url, params, function (response: any) {\r\n      SafeUtil.safeCallback(successCallback)(response)\r\n    }, function (err: any) {\r\n      SafeUtil.safeCallback(errorCallback)(that.getErrorMessage(err.response))\r\n    }, function (res: any) {\r\n      SafeUtil.safeCallback(finallyCallback)(res)\r\n    }, opts);\r\n  }\r\n\r\n\r\n  /**\r\n   * http\r\n   * 1.\r\n   *\r\n   */\r\n  httpPost(url: any, params = {}, successCallback?: any, errorCallback?: any, finallyCallback?: any, opts?: any) {\r\n\r\n    let that = this\r\n\r\n    if (!opts) {\r\n      opts = {}\r\n    }\r\n\r\n    that.loading = true\r\n\r\n    //react\r\n    that.updateUI()\r\n\r\n\r\n    let formData = qs.stringify(params);\r\n\r\n    if (!opts[\"headers\"]) {\r\n      opts[\"headers\"] = {}\r\n    }\r\n    opts[\"headers\"]['Content-Type'] = 'application/x-www-form-urlencoded'\r\n\r\n\r\n    return HttpUtil.httpPost(url, formData, function (response: any) {\r\n\r\n      //\r\n      if (that.specialErrorHandler(response)) {\r\n\r\n        SafeUtil.safeCallback(errorCallback)(response)\r\n        return\r\n      }\r\n\r\n      SafeUtil.safeCallback(successCallback)(response)\r\n\r\n    }, function (err: any) {\r\n\r\n      let response = err.response\r\n\r\n      console.error(\"\", response ? response : err)\r\n\r\n      //\r\n      if (that.specialErrorHandler(response)) {\r\n        return\r\n      }\r\n\r\n      that.defaultErrorHandler(response, errorCallback)\r\n\r\n    }, function (res: any) {\r\n\r\n      that.loading = false\r\n\r\n      //react\r\n      that.updateUI()\r\n\r\n      SafeUtil.safeCallback(finallyCallback)(res)\r\n\r\n    }, opts);\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","enum Color {\r\n  PRIMARY = \"#215891\",\r\n  INFO = \"#2DB7F5\",\r\n  SUCCESS = \"#67C23A\",\r\n  WARNING = \"#E6A23C\",\r\n  DANGER = \"#FF756F\",\r\n}\r\n\r\nexport default Color\r\n","import StringUtil from '../../util/StringUtil';\r\nimport SafeUtil from '../../util/SafeUtil';\r\nimport SortFilter from './filter/SortFilter';\r\nimport Filter from './filter/Filter';\r\nimport HttpBase from './HttpBase';\r\n\r\n\r\n/**\r\n * \r\n * \r\n */\r\nexport default class BaseEntity extends HttpBase {\r\n\r\n  /**\r\n   * \r\n   */\r\n  uuid: string | null = null;\r\n\r\n  /**\r\n   * \r\n   */\r\n  sort: number = 0;\r\n\r\n  /**\r\n   * \r\n   */\r\n  createTime: Date | null = null;\r\n\r\n  /**\r\n   * \r\n   */\r\n  updateTime: Date | null = null;\r\n\r\n\r\n  //************  ****************/\r\n  //\r\n  detailLoading: boolean = false;\r\n\r\n\r\n  //react\r\n  constructor(reactComponent?: React.Component | null) {\r\n\r\n    super(reactComponent);\r\n\r\n  }\r\n\r\n  //objthis\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n\r\n    this.assignEntity('createTime', Date);\r\n    this.assignEntity('updateTime', Date);\r\n\r\n  }\r\n\r\n  //filter\r\n  getFilters(): Filter[] {\r\n    return [\r\n      new SortFilter('', 'orderCreateTime'),\r\n      new SortFilter('', 'orderUpdateTime'),\r\n    ];\r\n  };\r\n\r\n\r\n  //null\r\n  validate(): any {\r\n\r\n    return null;\r\n  }\r\n\r\n  //\r\n  getForm(): any {\r\n    console.error('getForm: you should override this base method.');\r\n  }\r\n\r\n  // Project project\r\n  getTAG(): string {\r\n\r\n    let className = this.constructor.name;\r\n\r\n    //IEthis.constructor.name\r\n    if (!className) {\r\n      className = StringUtil.functionName(this.constructor);\r\n    }\r\n\r\n    return StringUtil.lowerCamel(className);\r\n  }\r\n\r\n\r\n  //urlNotification /api/fs/notification\r\n  getUrlPrefix(): string {\r\n    return '/api' + StringUtil.lowerSlash(this.getTAG());\r\n  }\r\n\r\n\r\n  getUrlCreate(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/create';\r\n  }\r\n\r\n  getUrlDel(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/delete';\r\n\r\n  }\r\n\r\n  getUrlEdit(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/edit';\r\n  }\r\n\r\n  getUrlDetail(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/detail';\r\n  }\r\n\r\n  getUrlList(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/page';\r\n  }\r\n\r\n  getUrlSort(): string {\r\n    let prefix = this.getUrlPrefix();\r\n\r\n    return prefix + '/sort';\r\n  }\r\n\r\n\r\n  //\r\n  httpSave(successCallback?: any, errorCallback?: any, finallyCallback?: any) {\r\n\r\n    let that = this;\r\n\r\n    let url = this.getUrlCreate();\r\n    if (this.uuid) {\r\n      url = this.getUrlEdit();\r\n    }\r\n\r\n\r\n    this.errorMessage = this.validate();\r\n    if (this.errorMessage) {\r\n      that.defaultErrorHandler(this.errorMessage, errorCallback);\r\n      return;\r\n    }\r\n\r\n    this.httpPost(url, this.getForm(), function(response: any) {\r\n\r\n      that.assign(response.data.data);\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finallyCallback);\r\n\r\n  }\r\n\r\n\r\n  //common http detail methods.\r\n  httpDetail(successCallback?: any, errorCallback?: any, finallyCallback?: any) {\r\n\r\n    let that = this;\r\n    if (!this.uuid) {\r\n\r\n      this.errorMessage = 'uuid';\r\n\r\n      this.defaultErrorHandler(this.errorMessage, errorCallback);\r\n\r\n      return;\r\n    }\r\n\r\n    let url = this.getUrlDetail() + '?uuid=' + this.uuid;\r\n\r\n    this.detailLoading = true;\r\n\r\n    this.httpGet(url, {}, function(response: any) {\r\n      that.detailLoading = false;\r\n\r\n      that.assign(response.data.data);\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, function(response: any) {\r\n\r\n      that.detailLoading = false;\r\n\r\n      if (typeof errorCallback === 'function') {\r\n        errorCallback(that.getErrorMessage(response), response);\r\n      } else {\r\n        //toast\r\n        that.defaultErrorHandler(response);\r\n      }\r\n    }, finallyCallback);\r\n\r\n  }\r\n\r\n\r\n  httpDel(successCallback?: any, errorCallback?: any, finallyCallback?: any) {\r\n\r\n    let that = this;\r\n    if (!this.uuid) {\r\n\r\n      this.errorMessage = 'id';\r\n      that.defaultErrorHandler(this.errorMessage, errorCallback);\r\n\r\n      return;\r\n    }\r\n\r\n    let url = this.getUrlDel() + '?uuid=' + this.uuid;\r\n\r\n    this.httpPost(url, {}, function(response: any) {\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finallyCallback);\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import ColorSelectionOption from \"../base/option/ColorSelectionOption\";\r\nimport Color from \"../base/option/Color\";\r\nimport Lang from \"../global/Lang\";\r\n\r\n\r\nenum UserRole {\r\n  GUEST = 'GUEST',\r\n  USER = 'USER',\r\n  ADMINISTRATOR = 'ADMINISTRATOR',\r\n}\r\n\r\nlet UserRoles: UserRole[] = Object.keys(UserRole).map(k => k as UserRole);\r\n\r\nlet UserRoleMap: { [key in keyof typeof UserRole]: ColorSelectionOption } = {\r\n  GUEST: {\r\n    'name': Lang.t(\"user.roleGuest\"),\r\n    'value': 'GUEST',\r\n    'color': Color.WARNING,\r\n  },\r\n  USER: {\r\n    'name': Lang.t(\"user.roleUser\"),\r\n    'value': 'USER',\r\n    'color': Color.PRIMARY,\r\n  },\r\n  ADMINISTRATOR: {\r\n    'name': Lang.t(\"user.roleAdministrator\"),\r\n    'value': 'ADMINISTRATOR',\r\n    'color': Color.DANGER,\r\n  },\r\n\r\n};\r\n\r\nlet UserRoleList: ColorSelectionOption[] = [];\r\nUserRoles.forEach((type: UserRole, index: number) => {\r\n  UserRoleList.push(UserRoleMap[type]);\r\n});\r\n\r\n\r\nexport {UserRole, UserRoles, UserRoleMap, UserRoleList};\r\n\r\n\r\n\r\n\r\n","export default class BrowserUtil {\r\n\r\n  //cookiecookie\r\n  static readCookie(name: any) {\r\n    let nameEQ = name + \"=\";\r\n    let ca = document.cookie.split(';');\r\n    for (let i = 0; i < ca.length; i++) {\r\n      let c = ca[i];\r\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\r\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n  /**\r\n   *\r\n   * url\r\n   * // query string: ?foo=lorem&bar=&baz\r\n   * var foo = getQueryByName('foo'); // \"lorem\"\r\n   * var bar = getQueryByName('bar'); // \"\" (present with empty value)\r\n   * var baz = getQueryByName('baz'); // \"\" (present with no value)\r\n   * var qux = getQueryByName('qux'); // null (absent)\r\n   * @param name\r\n   * @param url\r\n   * @returns {*}\r\n   */\r\n  static getQueryByName(name: string, url?: string): string | null {\r\n\r\n    if (!url) {\r\n      url = window.location.href\r\n    }\r\n\r\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n\r\n    let regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\")\r\n    let results = regex.exec(url);\r\n\r\n    if (!results) {\r\n      return null;\r\n    }\r\n\r\n    if (!results[2]) {\r\n      return \"\";\r\n    }\r\n\r\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n  }\r\n\r\n\r\n  /**\r\n   * \r\n   * @param name\r\n   * @returns {*}\r\n   */\r\n  static getQueryString(name: any) {\r\n    let reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');\r\n    let r = window.location.search.substr(1).match(reg);\r\n    if (r != null) return unescape(r[2]);\r\n    return null;\r\n  }\r\n\r\n\r\n  static isLocalStorageNameSupported() {\r\n    let testKey = 'test';\r\n    let storage = window.localStorage;\r\n    try {\r\n      storage.setItem(testKey, '1');\r\n      storage.removeItem(testKey);\r\n      return true;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  static readLocalStorage(key: any) {\r\n    if (BrowserUtil.isLocalStorageNameSupported()) {\r\n      return window.localStorage[key];\r\n    } else {\r\n      console.error(\"not support localStorage.\");\r\n      return null;\r\n    }\r\n  }\r\n\r\n  static saveToLocalStorage(key: any, content: any) {\r\n    if (BrowserUtil.isLocalStorageNameSupported()) {\r\n      window.localStorage[key] = content;\r\n    } else {\r\n      console.error(\"not support localStorage.\");\r\n    }\r\n  }\r\n\r\n\r\n  static removeLocalStorage(key: any) {\r\n    if (BrowserUtil.isLocalStorageNameSupported()) {\r\n      window.localStorage.removeItem(key);\r\n    } else {\r\n      console.error(\"not support localStorage.\");\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * host\r\n   * eg:\r\n   * https://tank.eyeblue.cn\r\n   */\r\n  static fullHost() {\r\n    return window.location.protocol + \"//\" + window.location.host\r\n  }\r\n\r\n\r\n  //zhen\r\n  static browserLang() {\r\n    //IE\r\n    let lang = navigator.language || (navigator as any).userLanguage;\r\n\r\n    //lang2\r\n    lang = lang.substr(0, 2);\r\n    if (lang === \"zh\") {\r\n      return \"zh\"\r\n    } else {\r\n      return \"en\"\r\n    }\r\n  }\r\n\r\n}\r\n","let LangEn = {\r\n  eyeblueTank: \"EyeblueTank\",\r\n  dashboard: {\r\n    totalInvokeNum: 'Total PV',\r\n    weekRate: 'Week',\r\n    dayRate: 'Day',\r\n    yesterdayInvoke: 'Yesterday PV',\r\n    totalUV: 'Total UV',\r\n    yesterdayUV: 'Yesterday UV',\r\n    totalMatterNum: 'Total file num',\r\n    yesterdayMatterNum: 'Yesterday File Num',\r\n    totalFileSize: 'Total File Size',\r\n    yesterdayMatterSize: 'Yesterday File Size',\r\n    recentDayInvokeUV: 'Recent {} days PV/UV',\r\n    downloadMatterTop10: 'File download TOP10',\r\n    activeIpTop10: 'Active IP TOP10',\r\n    loading: 'loading...',\r\n    date: 'Date',\r\n    num: 'Num',\r\n    warnHint: 'Hint: data in this page updates everyday at 0.a.m. ',\r\n    reRun: 'ReRun',\r\n  },\r\n  install: {\r\n    configMysql: \"Config MySQL\",\r\n    port: \"Port\",\r\n    schema: \"Schema\",\r\n    username: \"Username\",\r\n    password: \"Password\",\r\n    charset: \"Charset\",\r\n    mysqlConnectionPass: \"Connect MySQL Ok\",\r\n    testMysqlConnection: \"Tes MySQL Connection\",\r\n    notice: \"Notice\",\r\n    mysqlNotice1: \"If Mysql and EyeblueTank installed on the same server, Host is 127.0.0.1\",\r\n    mysqlNotice2: \"Your mysql account must have access to create table, or the second step will fail.\",\r\n    validateMysqlFirst: \"Please test the mysql connection firstly.\",\r\n    preStep: \"Pre Step\",\r\n    nextStep: \"Next Step\",\r\n    createTable: \"Craete Tables\",\r\n    installed: \"Installed\",\r\n    installedButMissing: \"Installed, but missing fields\",\r\n    toBeInstalled: \"To be installed\",\r\n    allFields: \"All fields\",\r\n    missingFields: \"Missing fields\",\r\n    tableNotice: \"'Create Tables' will trigger the following actions:\",\r\n    tableNotice1: \"If a table not exist, create it.\",\r\n    tableNotice2: \"If a table exist and no fields missing, nothing will do on this table.\",\r\n    tableNotice3: \"If a table exist but some fields is missing, it will add the missing fields.\",\r\n    tableNotice4: \"If a table exist and some fields not necessary, nothing will do on this table.\",\r\n    oneKeyCreate: \"Create Tables\",\r\n    createFinish: \"Finish Creating Tables\",\r\n    createTableSuccess: \"Create tables successfully\",\r\n    crateTableFirst: \"Please click 'Create Tables'\",\r\n    setAdministrator: \"Config Administrator\",\r\n    detectAdministrator: \"Detect the following administrators:\",\r\n    useOrCreateAdministrator: \"You can validate one of them, or you can create a new one.\",\r\n    validateAdministrator: \"Validate administrator\",\r\n    createAdministrator: \"Create administrator\",\r\n    administratorUsername: \"username\",\r\n    administratorPassword: \"password\",\r\n    administratorRePassword: \"Enter administrator password again\",\r\n    usernameRule: \"EyeblueTank will use username as directory name, so only lowercase letter and number and _ is permitted.\",\r\n    congratulationInstall: \"Congratulations, install successfully!\",\r\n    configAdminFirst: \"Please config administrator first.\",\r\n    createAdminSuccess: \"Create administrator successfully!\",\r\n    validateAdminSuccess: \"Validate administrator successfully!\",\r\n    pressToHome: \"Click the button below to enter home\",\r\n    enterHome: \"Finish And Enter Home\",\r\n    finish: \"Finish\",\r\n  },\r\n  layout: {\r\n    allFiles: \"Files\",\r\n    myShare: \"My Share\",\r\n    bin: \"Recycle bin\",\r\n    setting: \"Setting\",\r\n    dashboard: \"Dashboard\",\r\n    users: \"Users\",\r\n    logout: \"Logout\",\r\n    about: \"About\",\r\n    install: \"Install\",\r\n    dragMouseUp: \"Put file here~\"\r\n  },\r\n  matter: {\r\n    file: \"File\",\r\n    directory: \"Directory\",\r\n    rename: \"Rename\",\r\n    download: \"Download\",\r\n    delete: \"Delete\",\r\n    hardDelete: \"Hard delete\",\r\n    recovery: \"Recovery\",\r\n    more: \"More\",\r\n    share: \"Share\",\r\n    close: \"Close\",\r\n    size: \"Size\",\r\n    preview: \"Preview\",\r\n    move: \"Move\",\r\n    moveTo: \"MoveTo\",\r\n    upload: \"Upload\",\r\n    create: \"Create\",\r\n    createTime: \"Create Time\",\r\n    updateTime: \"Update Time\",\r\n    deleteTime: \"Deleted Time\",\r\n    root: \"Root\",\r\n    fillInPicLink: \"Fill in Picture Link\",\r\n    rePick: \"Re Choose\",\r\n    chooseImage: \"Choose Image\",\r\n    uploadMode: \"Upload Mode\",\r\n    fillMode: \"Fill Mode\",\r\n    sizeExceedLimit: \"File size exceed limit {}>{}\",\r\n    setPublic: \"Set as public\",\r\n    setPrivate: \"Set as private\",\r\n    copyLink: \"Copy Link\",\r\n    enterName: \"Please enter name\",\r\n    publicFileEveryoneCanVisit: \"Public file, anyone can access\",\r\n    fileDetail: \"File info\",\r\n    expire: \"Expire\",\r\n    copyLinkAndCode: \"Copy link and code\",\r\n    uploaded: \"Uploaded\",\r\n    uploadDir: 'Upload dir',\r\n    uploadInfo: 'Upload Info',\r\n    uploadErrorInfo: 'Some files failed to upload, you can export CSV files for viewing',\r\n    exportCSV: 'Export upload error detail',\r\n    speed: \"Speed\",\r\n    fileInfo: \"File basic info\",\r\n    fileName: \"Filename\",\r\n    path: \"Path\",\r\n    copyPath: \"Copy path\",\r\n    publicOrPrivate: \"Public or private\",\r\n    privateInfo: \"Private file, only self or auth user can download\",\r\n    publicInfo: \"Public file, anyone can download\",\r\n    downloadTimes: \"Download times\",\r\n    operations: \"Operation\",\r\n    oneTimeLink: \"One time link\",\r\n    oneTimeLinkInfo: \"One time link will expire after downloading, click to copy\",\r\n    imageCache: \"Image cache\",\r\n    searchFile: \"Search file\",\r\n    noContentYet: \"No content under this directory yet\",\r\n    allFiles: \"All Files\",\r\n    newDirectory: \"New directory\",\r\n    notChoose: \"Not choose any file\",\r\n    exceed1000: \"Exceed file limit 1000\",\r\n    noImageCache: \"No image cache\",\r\n    recycleBin: \"Recycle bin\",\r\n    deleted: \"Deleted\",\r\n    unCompatibleBrowser: \"The current browser does not support it. Please try choose another one\",\r\n    canIUse: \"To see if the current browser supports it\",\r\n    intoRecycleBin: \"Recycle bin\",\r\n    finishingTip: \"Please wait while files are sorted...\"\r\n  },\r\n  router: {\r\n    allFiles: \"All Files\",\r\n    fileDetail: \"File Detail\",\r\n    login: \"Login\",\r\n    autoLogin: \"Auto Login\",\r\n    register: \"Register\",\r\n    users: \"Users\",\r\n    userDetail: \"User Detail\",\r\n    changePassword: \"Change password\",\r\n    editUser: \"Edit User\",\r\n    createUser: \"Create User\",\r\n    shareDetail: \"Share Detail\",\r\n    myShare: \"My Share\",\r\n    dashboard: \"Dashboard\",\r\n    install: \"Install\",\r\n    setting: \"Setting\"\r\n  },\r\n  preference: {\r\n    basic: \"Base Info\",\r\n    preview: \"Preview Conf\",\r\n    scan: \"Scan Disk\",\r\n    websiteName: \"Website Name\",\r\n    logo: \"Logo\",\r\n    logoSquare: \"Logo will be cropped to square size\",\r\n    onlyAllowIco: \"Only .ico allowed\",\r\n    copyright: \"Copyright (support html)\",\r\n    extraInfo: \"Extra info (support html)\",\r\n    zipMaxNumLimit: \"Zip download max num limit\",\r\n    zipMaxSizeLimit: \"Zip download max size limit(B)\",\r\n    current: \"Current\",\r\n    noLimit: \"No limit\",\r\n    userDefaultSizeLimit: \"User default size limit(B) \",\r\n    matterBinDefaultSaveDay: \"Matter bin storage days\",\r\n    enterMatterBinDefaultSaveDay: \"Please enter matter bin storage days!\",\r\n    docLink: \"Document Link\",\r\n    tankDocLink: \"https://tank-doc.eyeblue.cn\",\r\n    allowRegister: \"Allow register\",\r\n    systemCleanup: \"System Cleanup\",\r\n    systemCleanupDescription: \"This operation will cleanup everything except administrators' data\",\r\n    systemCleanupPrompt: \"This operation will cleanup everything except administrators' account data, please input login password.\",\r\n    previewConfig: \"File Preview Config\",\r\n    editPreference: \"Edit Preference\",\r\n    editPreviewEngine: \"Edit Preview engine\",\r\n    enterWebsiteName: \"Please enter website name!\",\r\n    enterZipMaxNumLimit: \"Please enter zip max num!\",\r\n    enterZipMaxSizeLimit: \"Please enter zip max size!\",\r\n    enterUserDefaultSizeLimit: \"Please enter user's default size!\",\r\n    engine: \"The number {} engine\",\r\n    noEngine: \"No preview engine\",\r\n    newEngine: \"Add a preview engine\",\r\n    engineReg: \"Engine format\",\r\n    engineSuffix: \"Engine suffix\",\r\n    enginePreview: \"Engine preview\",\r\n    defaultPreview: \"Default preview engine\",\r\n    previewEngine: \"Number {} preview engine\",\r\n    defaultPreviewDesc: \"Default preview engine, can not be removed\",\r\n    engineUsageHint: \"Previewing a file using the first engine matches the extentions.\",\r\n    engineRegHelper: \"template syntax, {url} represents the file path, the preview will automatically replace with the corresponding file url\",\r\n    engineRegPlaceHolder: \"eghttps://xxx.xxx.xxx?url={url}\",\r\n    engineSuffixPlaceHolder: \"suffix can not be null, split by comma, look like: doc,ppt,xls\",\r\n    previewCurrent: \"preview in current page\",\r\n    previewOpen: \"preview in new page\",\r\n    editScan: \"Edit Scan disk\",\r\n    enableScan: \"Enable Scan disk\",\r\n    disabledScan: \"Disabled Scan disk\",\r\n    scanCron: \"Regularly Scan disk\",\r\n    cron: \"Cron expression\",\r\n    cronValidate: \"Cron expression can not be null\",\r\n    scanScope: \"Scan scope\",\r\n    scanUsers: \"Scan users\",\r\n    scanPerTenSeconds: \"Scan every ten seconds\",\r\n    scanPerThirtySeconds: \"Scan every thirty seconds\",\r\n    scanPerMinute: \"Scan every minute\",\r\n    scanPerHour: \"Scan every hour\",\r\n    scanCustom: \"Scan custom\",\r\n    chooseUsers: \"Fuzzy search users\",\r\n    chooseUsersValidate: \"choose one more user\",\r\n    scanLoading: \"waiting...\",\r\n    matterBinDefaultTip: \"set zero means to turn off the recycle bin\"\r\n  },\r\n  share: {\r\n    shareDetail: \"Share Detail\",\r\n    shareTime: \"Share Time\",\r\n    expireTime: \"Expire Time\",\r\n    noExpire: \"Never Expire\",\r\n    expired: \"Expired\",\r\n    copyLinkAndCode: \"Copy Link And Code\",\r\n    shareSuccess: \"Share Successfully\",\r\n    sharer: \"Share Person\",\r\n    link: \"Link\",\r\n    copyLink: \"Copy Link\",\r\n    code: \"Code\",\r\n    copyCode: \"Copy Code\",\r\n    copySuccess: \"Copy Successfully\",\r\n    more: \"More\",\r\n    cancelShare: \"Cancel Share\",\r\n    getLink: \"Get Link\",\r\n    allFiles: \"All Files\",\r\n    noContent: \"No content in this directory\",\r\n    enterCode: \"Please enter code\",\r\n    getFiles: \"Get Files\",\r\n    codeError: \"Code Error\",\r\n    cancelPrompt: \"This operation will cancel sharing forever, continue?\",\r\n    hour: \"1 Hour\",\r\n    day: \"1 Day\",\r\n    week: \"1 Week\",\r\n    month: \"1 Month\",\r\n    year: \"1 Year\",\r\n    infinity: \"Forever\",\r\n    emptyHint: \"No Share Yet\",\r\n  },\r\n  user: {\r\n    redirecting: \"Redirecting...\",\r\n    oldPassword: \"Old Password\",\r\n    newPassword: \"New Password\",\r\n    confirmNewPassword: \"Confirm New Password\",\r\n    cannotBeNull: \"Cannot be null\",\r\n    passwordNotSame: \"passwords above not same\",\r\n    role: \"Role\",\r\n    singleFileSizeLimit: \"Single File Limit\",\r\n    totalFileSizeLimit: \"Total Space Limit\",\r\n    current: \"Current\",\r\n    noLimit: \"No Limit\",\r\n    totalFileSize: \"Used Space\",\r\n    status: \"Status\",\r\n    lastLogin: \"Last Login\",\r\n    lastLoginIp: \"Last Login Ip\",\r\n    lastLoginTime: \"Last Login Time\",\r\n    resetPassword: \"Reset Password\",\r\n    transfiguration: \"Transfiguration\",\r\n    changePassword: \"Edit Password\",\r\n    enterPassword: \"Please Enter Password\",\r\n    enterUsername: \"Please Enter Username\",\r\n    enterNewPassword: \"Please Enter New Password\",\r\n    profile: \"Profile\",\r\n    avatar: \"Avatar\",\r\n    username: \"Username\",\r\n    password: \"Password\",\r\n    confirmPassword: \"Confirm Password\",\r\n    disabled: \"Disabled\",\r\n    disableUser: \"Disable this user\",\r\n    disable: \"Disable\",\r\n    active: \"Active\",\r\n    sync: \"Sync\",\r\n    activeUser: \"Active this user\",\r\n    deleteUser: \"Delete this user\",\r\n    deleteHint: \"This action will delete {}'s all records, including files,shares,user infos etc. Continue\",\r\n    welcomeLogin: \"Welcome Login\",\r\n    logining: \"Login...\",\r\n    login: \"Login\",\r\n    loginSuccess: \"Login Success\",\r\n    toToRegister: \"Go To Register\",\r\n    welcomeRegister: \"Welcome Register\",\r\n    registering: \"Login...\",\r\n    register: \"Register\",\r\n    goToLogin: \"Go To Login\",\r\n    roleGuest: \"Guest\",\r\n    roleUser: \"User\",\r\n    roleAdministrator: \"Administrator\",\r\n    statusActive: \"Ok\",\r\n    statusDisabled: \"Disabled\",\r\n    webdavLink: \"WebDAV Link\",\r\n    docLink: \"Document Link\",\r\n    createUser: \"Create User\",\r\n    editUser: \"Edit User\",\r\n    editSomebodyPassword: \"Edit {}'s Password\",\r\n    transfigurationPromptText: \"Transfiguration Prompt\",\r\n    transfigurationPrompt: \"You will login as this user.Please visit this link in other browser, if in current browser, you will logout.\",\r\n    allUsers: \"All users\",\r\n    partialUsers: \"Partial users\",\r\n    searchUser: \"Search user\"\r\n  },\r\n  model: {\r\n    usernameRule: \"only lowercase letter and number and _ is permitted.\",\r\n    passwordRule: \"Password must have more than 6 chars\",\r\n    linkCodeText: \"Link:{} Code:{}\",\r\n    copyLinkCodeSuccess: \"Copy Link and Code successfully\",\r\n\r\n  },\r\n  plugin: {\r\n    cannotPreview: \"Cannot Preview\",\r\n    emptyHintDefault: \"No Items\",\r\n    everyPage: \"Every Page\",\r\n    items: \"Items\",\r\n    total: \"Total\",\r\n    clickRefresh: \"Click To Refresh\",\r\n  },\r\n  loading: \"Loading\",\r\n  selectAll: \"All\",\r\n  edit: \"Edit\",\r\n  createTime: \"Create Time\",\r\n  download: \"Download\",\r\n  close: \"Close\",\r\n  required: \"Required\",\r\n  cancel: \"Cancel\",\r\n  delete: \"Delete\",\r\n  actionCanNotRevertConfirm: \"This action cannot be reverted, confirm?\",\r\n  actionDeleteConfirm: \"Delete, confirm?\",\r\n  actionRecoveryConfirm: \"Recovery, confirm?\",\r\n  prompt: \"Prompt\",\r\n  confirm: \"Confirm\",\r\n  copy: \"Copy\",\r\n  copySuccess: \"Copy Success\",\r\n  copyError: \"Copy Error\",\r\n  showMore: \"Show More\",\r\n  username: \"Username\",\r\n  password: \"Password\",\r\n  submit: \"Submit\",\r\n  save: \"Save\",\r\n  create: \"Create\",\r\n  finish: \"Finish\",\r\n  operationSuccess: \"Operation success\",\r\n  operation: \"Operation\",\r\n  notFound: \"404 Not Found\",\r\n  login: \"Login\",\r\n  logout: \"Logout\",\r\n  yes: \"Yes\",\r\n  no: \"No\",\r\n  all: \"All\",\r\n  refresh: \"refresh\",\r\n  inputRequired: \"Input required\",\r\n}\r\n\r\nexport default LangEn\r\n","let LangZh = {\r\n  eyeblueTank: \"\",\r\n  dashboard: {\r\n    totalInvokeNum: 'PV',\r\n    weekRate: '',\r\n    dayRate: '',\r\n    yesterdayInvoke: 'PV',\r\n    totalUV: 'UV',\r\n    yesterdayUV: 'UV',\r\n    totalMatterNum: '',\r\n    yesterdayMatterNum: '',\r\n    totalFileSize: '',\r\n    yesterdayMatterSize: '',\r\n    recentDayInvokeUV: '{}PV/UV',\r\n    downloadMatterTop10: 'TOP10',\r\n    activeIpTop10: 'IP TOP10',\r\n    loading: '',\r\n    date: '',\r\n    num: '',\r\n    warnHint: '0',\r\n    reRun: '',\r\n  },\r\n  install: {\r\n    configMysql: \"MySQL\",\r\n    port: \"\",\r\n    schema: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    charset: \"\",\r\n    mysqlConnectionPass: \"MySQL\",\r\n    testMysqlConnection: \"MySQL\",\r\n    notice: \"\",\r\n    mysqlNotice1: \"Host 127.0.0.1\",\r\n    mysqlNotice2: \"\\\"\\\"\",\r\n    validateMysqlFirst: \"\",\r\n    preStep: \"\",\r\n    nextStep: \"\",\r\n    createTable: \"\",\r\n    installed: \"\",\r\n    installedButMissing: \",\",\r\n    toBeInstalled: \"\",\r\n    allFields: \"\",\r\n    missingFields: \"\",\r\n    tableNotice: \"\\\"\\\"\",\r\n    tableNotice1: \"\",\r\n    tableNotice2: \"\",\r\n    tableNotice3: \"\",\r\n    tableNotice4: \"()\",\r\n    oneKeyCreate: \"\",\r\n    createFinish: \"\",\r\n    createTableSuccess: \"\",\r\n    crateTableFirst: \"''\",\r\n    setAdministrator: \"\",\r\n    detectAdministrator: \"\",\r\n    useOrCreateAdministrator: \"\",\r\n    validateAdministrator: \"\",\r\n    createAdministrator: \"\",\r\n    administratorUsername: \"\",\r\n    administratorPassword: \"\",\r\n    administratorRePassword: \"\",\r\n    usernameRule: \"\\\"_\\\"\",\r\n    congratulationInstall: \"\",\r\n    configAdminFirst: \"\",\r\n    createAdminSuccess: \"\",\r\n    validateAdminSuccess: \"\",\r\n    pressToHome: \"\",\r\n    enterHome: \"\",\r\n    finish: \"\",\r\n  },\r\n  layout: {\r\n    allFiles: \"\",\r\n    myShare: \"\",\r\n    bin: \"\",\r\n    setting: \"\",\r\n    dashboard: \"\",\r\n    users: \"\",\r\n    logout: \"\",\r\n    about: \"\",\r\n    install: \"\",\r\n    dragMouseUp: \"~\"\r\n  },\r\n  matter: {\r\n    file: \"\",\r\n    directory: \"\",\r\n    rename: \"\",\r\n    download: \"\",\r\n    delete: \"\",\r\n    hardDelete: \"\",\r\n    recovery: \"\",\r\n    more: \"\",\r\n    share: \"\",\r\n    close: \"\",\r\n    size: \"\",\r\n    preview: \"\",\r\n    move: \"\",\r\n    moveTo: \"\",\r\n    upload: \"\",\r\n    create: \"\",\r\n    createTime: \"\",\r\n    updateTime: \"\",\r\n    deleteTime: \"\",\r\n    root: \"\",\r\n    fillInPicLink: \"\",\r\n    rePick: \"\",\r\n    chooseImage: \"\",\r\n    uploadMode: \"\",\r\n    fillMode: \"\",\r\n    sizeExceedLimit: \"{}>{}\",\r\n    setPublic: \"\",\r\n    setPrivate: \"\",\r\n    copyLink: \"\",\r\n    enterName: \"\",\r\n    publicFileEveryoneCanVisit: \"\",\r\n    fileDetail: \"\",\r\n    expire: \"\",\r\n    copyLinkAndCode: \"+\",\r\n    uploaded: \"\",\r\n    uploadDir: '',\r\n    uploadInfo: '',\r\n    uploadErrorInfo: 'csv',\r\n    exportCSV: '',\r\n    speed: \"\",\r\n    fileInfo: \"\",\r\n    fileName: \"\",\r\n    path: \"\",\r\n    copyPath: \"\",\r\n    publicOrPrivate: \"\",\r\n    privateInfo: \"\",\r\n    publicInfo: \"\",\r\n    downloadTimes: \"\",\r\n    operations: \"\",\r\n    oneTimeLink: \"\",\r\n    oneTimeLinkInfo: \",\",\r\n    imageCache: \"\",\r\n    searchFile: \"\",\r\n    noContentYet: \"\",\r\n    allFiles: \"\",\r\n    newDirectory: \"\",\r\n    notChoose: \"\",\r\n    exceed1000: \"1000\",\r\n    noImageCache: \"\",\r\n    recycleBin: \"\",\r\n    deleted: \"\",\r\n    unCompatibleBrowser: \"\",\r\n    canIUse: \"\",\r\n    intoRecycleBin: \"\",\r\n    finishingTip: \"...\"\r\n  },\r\n  router: {\r\n    allFiles: \"\",\r\n    fileDetail: \"\",\r\n    login: \"\",\r\n    autoLogin: \"\",\r\n    register: \"\",\r\n    users: \"\",\r\n    userDetail: \"\",\r\n    changePassword: \"\",\r\n    editUser: \"\",\r\n    createUser: \"\",\r\n    shareDetail: \"\",\r\n    myShare: \"\",\r\n    dashboard: \"\",\r\n    install: \"\",\r\n    setting: \"\"\r\n  },\r\n  preference: {\r\n    basic: \"\",\r\n    preview: \"\",\r\n    scan: \"\",\r\n    websiteName: \"\",\r\n    logo: \"Logo\",\r\n    logoSquare: \"logo\",\r\n    onlyAllowIco: \".ico\",\r\n    copyright: \"(html)\",\r\n    extraInfo: \"(html)\",\r\n    zipMaxNumLimit: \"zip\",\r\n    zipMaxSizeLimit: \"zip(B)\",\r\n    current: \"\",\r\n    noLimit: \"\",\r\n    userDefaultSizeLimit: \"(B) \",\r\n    matterBinDefaultSaveDay: \"\",\r\n    enterMatterBinDefaultSaveDay: \"!\",\r\n    docLink: \"\",\r\n    tankDocLink: \"https://tank-doc.eyeblue.cn/zh\",\r\n    allowRegister: \"\",\r\n    systemCleanup: \"\",\r\n    systemCleanupDescription: \"\",\r\n    systemCleanupPrompt: \"\",\r\n    previewConfig: \"\",\r\n    editPreference: \"\",\r\n    editPreviewEngine: \"\",\r\n    enterWebsiteName: \"!\",\r\n    enterZipMaxNumLimit: \"zip!\",\r\n    enterZipMaxSizeLimit: \"zip!\",\r\n    enterUserDefaultSizeLimit: \"!\",\r\n    engine: \"{}\",\r\n    noEngine: \"\",\r\n    newEngine: \"\",\r\n    engineReg: \"\",\r\n    engineSuffix: \"\",\r\n    enginePreview: \"\",\r\n    defaultPreview: \"\",\r\n    previewEngine: \"{}\",\r\n    defaultPreviewDesc: \"\",\r\n    engineRegHelper: \"{url}url\",\r\n    engineUsageHint: \"\",\r\n    engineRegPlaceHolder: \"https://xxx.xxx.xxx?url={url}\",\r\n    engineSuffixPlaceHolder: '. doc,ppt,xls',\r\n    previewCurrent: \"\",\r\n    previewOpen: \"\",\r\n    editScan: \"\",\r\n    enableScan: \"\",\r\n    disabledScan: \"\",\r\n    scanCron: \"\",\r\n    cron: \"cron\",\r\n    cronValidate: \"cron\",\r\n    scanScope: \"\",\r\n    scanUsers: \"\",\r\n    scanPerTenSeconds: \"\",\r\n    scanPerThirtySeconds: \"\",\r\n    scanPerMinute: \"\",\r\n    scanPerHour: \"\",\r\n    scanCustom: \"\",\r\n    chooseUsers: \"\",\r\n    chooseUsersValidate: \"\",\r\n    scanLoading: \"...\",\r\n    matterBinDefaultTip: \"0\"\r\n  },\r\n  share: {\r\n    shareDetail: \"\",\r\n    shareTime: \"\",\r\n    expireTime: \"\",\r\n    noExpire: \"\",\r\n    expired: \"\",\r\n    copyLinkAndCode: \"+\",\r\n    shareSuccess: \"\",\r\n    sharer: \"\",\r\n    link: \"\",\r\n    copyLink: \"\",\r\n    code: \"\",\r\n    copyCode: \"\",\r\n    copySuccess: \"\",\r\n    more: \"\",\r\n    cancelShare: \"\",\r\n    getLink: \"\",\r\n    allFiles: \"\",\r\n    noContent: \"\",\r\n    enterCode: \"\",\r\n    getFiles: \"\",\r\n    codeError: \"\",\r\n    cancelPrompt: \", ?\",\r\n    hour: \"1\",\r\n    day: \"1\",\r\n    week: \"1\",\r\n    month: \"1\",\r\n    year: \"1\",\r\n    infinity: \"\",\r\n    emptyHint: \"\",\r\n  },\r\n  user: {\r\n    redirecting: \"...\",\r\n    oldPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmNewPassword: \"\",\r\n    cannotBeNull: \"\",\r\n    passwordNotSame: \"\",\r\n    role: \"\",\r\n    singleFileSizeLimit: \"\",\r\n    totalFileSizeLimit: \"\",\r\n    current: \"\",\r\n    noLimit: \"\",\r\n    totalFileSize: \"\",\r\n    status: \"\",\r\n    lastLogin: \"\",\r\n    lastLoginIp: \"IP\",\r\n    lastLoginTime: \"\",\r\n    resetPassword: \"\",\r\n    transfiguration: \"\",\r\n    changePassword: \"\",\r\n    enterPassword: \"\",\r\n    enterUsername: \"\",\r\n    enterNewPassword: \"\",\r\n    profile: \"\",\r\n    avatar: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    disabled: \"\",\r\n    disableUser: \"\",\r\n    activeUser: \"\",\r\n    deleteUser: \"\",\r\n    deleteHint: \"{}\",\r\n    disable: \"\",\r\n    sync: \"\",\r\n    active: \"\",\r\n    welcomeLogin: \"\",\r\n    logining: \"...\",\r\n    login: \"\",\r\n    loginSuccess: \"\",\r\n    toToRegister: \"\",\r\n    welcomeRegister: \"\",\r\n    registering: \"...\",\r\n    register: \"\",\r\n    goToLogin: \"\",\r\n    roleGuest: \"\",\r\n    roleUser: \"\",\r\n    roleAdministrator: \"\",\r\n    statusActive: \"\",\r\n    statusDisabled: \"\",\r\n    webdavLink: \"WebDAV \",\r\n    docLink: \"\",\r\n    createUser: \"\",\r\n    editUser: \"\",\r\n    editSomebodyPassword: \"{}\",\r\n    transfigurationPromptText: \"\",\r\n    transfigurationPrompt: \"\",\r\n    allUsers: \"\",\r\n    partialUsers: \"\",\r\n    searchUser: \"\"\r\n  },\r\n  model: {\r\n    usernameRule: \"\\\"_\\\"\",\r\n    passwordRule: \"6\",\r\n    linkCodeText: \":{} :{}\",\r\n    copyLinkCodeSuccess: \"\",\r\n\r\n  },\r\n  plugin: {\r\n    cannotPreview: \"\",\r\n    emptyHintDefault: \"\",\r\n    everyPage: \"\",\r\n    items: \"\",\r\n    total: \"\",\r\n    clickRefresh: \"\",\r\n  },\r\n  loading: \"\",\r\n  selectAll: \"\",\r\n  edit: \"\",\r\n  createTime: \"\",\r\n  download: \"\",\r\n  close: \"\",\r\n  required: \"\",\r\n  cancel: \"\",\r\n  delete: \"\",\r\n  deleteDirectly: \"\",\r\n  actionCanNotRevertConfirm: \", ?\",\r\n  actionDeleteConfirm: \"?\",\r\n  actionRecoveryConfirm: \"?\",\r\n  prompt: \"\",\r\n  confirm: \"\",\r\n  copy: \"\",\r\n  copySuccess: \"\",\r\n  copyError: \"\",\r\n  showMore: \"\",\r\n  username: \"\",\r\n  password: \"\",\r\n  submit: \"\",\r\n  save: \"\",\r\n  create: \"\",\r\n  finish: \"\",\r\n  operationSuccess: \"\",\r\n  operation: \"\",\r\n  notFound: \"404 \",\r\n  login: \"\",\r\n  logout: \"\",\r\n  yes: \"\",\r\n  no: \"\",\r\n  all: \"\",\r\n  refresh: \"\",\r\n  inputRequired: \"\",\r\n\r\n}\r\n\r\nexport default LangZh\r\n","/**\r\n * \r\n */\r\nimport BrowserUtil from \"../../util/BrowserUtil\";\r\nimport LangEn from \"./i18n/LangEn\";\r\nimport LangZh from \"./i18n/LangZh\";\r\n\r\n\r\nexport default class Lang {\r\n\r\n  //\r\n  lang: string = \"zh\"\r\n\r\n  //store\r\n  private static singleton: Lang | null = null\r\n\r\n  //\r\n  static getSingleton(): Lang {\r\n    if (Lang.singleton == null) {\r\n      Lang.singleton = new Lang();\r\n\r\n      //\r\n      let lang = BrowserUtil.browserLang()\r\n      let localLang = localStorage.getItem(\"_lang\");\r\n      if (localLang === \"zh\" || localLang === \"en\") {\r\n        lang = localLang\r\n      }\r\n      Lang.singleton.lang = lang\r\n      console.info(\"current lang: \", lang)\r\n\r\n    }\r\n\r\n    return Lang.singleton\r\n  }\r\n\r\n  //\r\n  static t(key: string, ...params: any[]): string {\r\n\r\n    let json: { [key: string]: any } = LangEn\r\n\r\n    let lang = Lang.getSingleton().lang\r\n    if (lang == \"zh\") {\r\n      json = LangZh\r\n    }\r\n\r\n    let keyParts: string[] = key.split(\".\")\r\n    let jsonBody: any = json\r\n    for (let i = 0; i < keyParts.length; i++) {\r\n      let part: string = keyParts[i]\r\n      jsonBody = jsonBody[part]\r\n      if (jsonBody === undefined || jsonBody === null) {\r\n        //keykey\r\n        return key\r\n      }\r\n    }\r\n\r\n    //\r\n    if (typeof jsonBody !== \"string\") {\r\n      return key\r\n    }\r\n\r\n    //\r\n    if (params && params.length > 0) {\r\n      for (let i = 0; i < params.length; i++) {\r\n        let param = params[i]\r\n        jsonBody = jsonBody.replace(\"{}\", param)\r\n      }\r\n    }\r\n\r\n    return jsonBody\r\n  }\r\n\r\n}\r\n","import ColorSelectionOption from '../base/option/ColorSelectionOption';\r\nimport Color from \"../base/option/Color\";\r\nimport Lang from \"../global/Lang\";\r\n\r\n\r\nenum UserStatus {\r\n  OK = 'OK',\r\n  DISABLED = 'DISABLED'\r\n}\r\n\r\nlet UserStatuss: UserStatus[] = Object.keys(UserStatus).map(k => k as UserStatus);\r\n\r\nlet UserStatusMap: { [key in keyof typeof UserStatus]: ColorSelectionOption } = {\r\n  OK: {\r\n    'name': Lang.t(\"user.statusActive\"),\r\n    'value': 'OK',\r\n    'color': Color.SUCCESS,\r\n  },\r\n  DISABLED: {\r\n    'name': Lang.t(\"user.statusDisabled\"),\r\n    'value': 'DISABLED',\r\n    'color': Color.DANGER,\r\n  },\r\n};\r\n\r\nlet UserStatusList: ColorSelectionOption[] = [];\r\nUserStatuss.forEach((type: UserStatus, index: number) => {\r\n  UserStatusList.push(UserStatusMap[type]);\r\n});\r\n\r\n\r\nexport {UserStatus, UserStatuss, UserStatusMap, UserStatusList};\r\n\r\n\r\n\r\n\r\n","export default class NumberUtil {\r\n  //\r\n  static gcd(a: number, b: number): number {\r\n    return b ? NumberUtil.gcd(b, a % b) : a;\r\n  }\r\n\r\n  // numerator: denominator:\r\n  static reduce(numerator: number, denominator: number) {\r\n    let maxFactor = NumberUtil.gcd(numerator, denominator);\r\n    return [numerator / maxFactor, denominator / maxFactor];\r\n  }\r\n\r\n  static isInteger(obj: any) {\r\n    return typeof obj === \"number\" && obj % 1 === 0;\r\n  }\r\n\r\n  //\r\n  static parseInt(obj: any): number {\r\n    try {\r\n      return parseInt(obj);\r\n    } catch (e) {\r\n      console.error(\"\", obj);\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  //\r\n  static fractionEqual(\r\n    numerator1: number,\r\n    denominator1: number,\r\n    numerator2: number,\r\n    denominator2: number\r\n  ) {\r\n    let fraction1 = NumberUtil.reduce(numerator1, denominator1);\r\n    let fraction2 = NumberUtil.reduce(numerator2, denominator2);\r\n\r\n    return fraction1[0] === fraction2[0] && fraction1[1] === fraction2[1];\r\n  }\r\n}\r\n","export default class MimeUtil {\r\n  static MIMES: any = {\r\n    \".323\": \"text/h323\",\r\n    \".3g2\": \"video/3gpp2\",\r\n    \".3gp\": \"video/3gpp\",\r\n    \".3gp2\": \"video/3gpp2\",\r\n    \".3gpp\": \"video/3gpp\",\r\n    \".7z\": \"application/x-7z-compressed\",\r\n    \".aa\": \"audio/audible\",\r\n    \".AAC\": \"audio/aac\",\r\n    \".aaf\": \"application/octet-stream\",\r\n    \".aax\": \"audio/vnd.audible.aax\",\r\n    \".ac3\": \"audio/ac3\",\r\n    \".aca\": \"application/octet-stream\",\r\n    \".accda\": \"application/msaccess.addin\",\r\n    \".accdb\": \"application/msaccess\",\r\n    \".accdc\": \"application/msaccess.cab\",\r\n    \".accde\": \"application/msaccess\",\r\n    \".accdr\": \"application/msaccess.runtime\",\r\n    \".accdt\": \"application/msaccess\",\r\n    \".accdw\": \"application/msaccess.webapplication\",\r\n    \".accft\": \"application/msaccess.ftemplate\",\r\n    \".acx\": \"application/internet-property-stream\",\r\n    \".AddIn\": \"text/xml\",\r\n    \".ade\": \"application/msaccess\",\r\n    \".adobebridge\": \"application/x-bridge-url\",\r\n    \".adp\": \"application/msaccess\",\r\n    \".ADT\": \"audio/vnd.dlna.adts\",\r\n    \".ADTS\": \"audio/aac\",\r\n    \".afm\": \"application/octet-stream\",\r\n    \".ai\": \"application/postscript\",\r\n    \".aif\": \"audio/aiff\",\r\n    \".aifc\": \"audio/aiff\",\r\n    \".aiff\": \"audio/aiff\",\r\n    \".air\": \"application/vnd.adobe.air-application-installer-package+zip\",\r\n    \".amc\": \"application/mpeg\",\r\n    \".anx\": \"application/annodex\",\r\n    \".apk\": \"application/vnd.android.package-archive\",\r\n    \".application\": \"application/x-ms-application\",\r\n    \".art\": \"image/x-jg\",\r\n    \".asa\": \"application/xml\",\r\n    \".asax\": \"application/xml\",\r\n    \".ascx\": \"application/xml\",\r\n    \".asd\": \"application/octet-stream\",\r\n    \".asf\": \"video/x-ms-asf\",\r\n    \".ashx\": \"application/xml\",\r\n    \".asi\": \"application/octet-stream\",\r\n    \".asm\": \"text/plain\",\r\n    \".asmx\": \"application/xml\",\r\n    \".aspx\": \"application/xml\",\r\n    \".asr\": \"video/x-ms-asf\",\r\n    \".asx\": \"video/x-ms-asf\",\r\n    \".atom\": \"application/atom+xml\",\r\n    \".au\": \"audio/basic\",\r\n    \".avi\": \"video/x-msvideo\",\r\n    \".axa\": \"audio/annodex\",\r\n    \".axs\": \"application/olescript\",\r\n    \".axv\": \"video/annodex\",\r\n    \".bas\": \"text/plain\",\r\n    \".bat\": \"text/plain\",\r\n    \".bcpio\": \"application/x-bcpio\",\r\n    \".bin\": \"application/octet-stream\",\r\n    \".bmp\": \"image/bmp\",\r\n    \".c\": \"text/plain\",\r\n    \".cab\": \"application/octet-stream\",\r\n    \".caf\": \"audio/x-caf\",\r\n    \".calx\": \"application/vnd.ms-office.calx\",\r\n    \".cat\": \"application/vnd.ms-pki.seccat\",\r\n    \".cc\": \"text/plain\",\r\n    \".cd\": \"text/plain\",\r\n    \".cdda\": \"audio/aiff\",\r\n    \".cdf\": \"application/x-cdf\",\r\n    \".cer\": \"application/x-x509-ca-cert\",\r\n    \".cfg\": \"text/plain\",\r\n    \".chm\": \"application/octet-stream\",\r\n    \".class\": \"application/x-java-applet\",\r\n    \".clp\": \"application/x-msclip\",\r\n    \".cmd\": \"text/plain\",\r\n    \".cmx\": \"image/x-cmx\",\r\n    \".cnf\": \"text/plain\",\r\n    \".cod\": \"image/cis-cod\",\r\n    \".config\": \"application/xml\",\r\n    \".contact\": \"text/x-ms-contact\",\r\n    \".coverage\": \"application/xml\",\r\n    \".cpio\": \"application/x-cpio\",\r\n    \".cpp\": \"text/plain\",\r\n    \".crd\": \"application/x-mscardfile\",\r\n    \".crl\": \"application/pkix-crl\",\r\n    \".crt\": \"application/x-x509-ca-cert\",\r\n    \".cs\": \"text/plain\",\r\n    \".csdproj\": \"text/plain\",\r\n    \".csh\": \"application/x-csh\",\r\n    \".csproj\": \"text/plain\",\r\n    \".css\": \"text/css\",\r\n    \".csv\": \"application/csv\",\r\n    \".cur\": \"application/octet-stream\",\r\n    \".cxx\": \"text/plain\",\r\n    \".dat\": \"application/octet-stream\",\r\n    \".datasource\": \"application/xml\",\r\n    \".dbproj\": \"text/plain\",\r\n    \".dcr\": \"application/x-director\",\r\n    \".def\": \"text/plain\",\r\n    \".deploy\": \"application/octet-stream\",\r\n    \".der\": \"application/x-x509-ca-cert\",\r\n    \".dgml\": \"application/xml\",\r\n    \".dib\": \"image/bmp\",\r\n    \".dif\": \"video/x-dv\",\r\n    \".dir\": \"application/x-director\",\r\n    \".disco\": \"text/xml\",\r\n    \".divx\": \"video/divx\",\r\n    \".dll\": \"application/x-msdownload\",\r\n    \".dll.config\": \"text/xml\",\r\n    \".dlm\": \"text/dlm\",\r\n    \".doc\": \"application/msword\",\r\n    \".docm\": \"application/vnd.ms-word.document.macroEnabled.12\",\r\n    \".docx\":\r\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n    \".dot\": \"application/msword\",\r\n    \".dotm\": \"application/vnd.ms-word.template.macroEnabled.12\",\r\n    \".dotx\":\r\n      \"application/vnd.openxmlformats-officedocument.wordprocessingml.template\",\r\n    \".dsp\": \"application/octet-stream\",\r\n    \".dsw\": \"text/plain\",\r\n    \".dtd\": \"text/xml\",\r\n    \".dtsConfig\": \"text/xml\",\r\n    \".dv\": \"video/x-dv\",\r\n    \".dvi\": \"application/x-dvi\",\r\n    \".dwf\": \"drawing/x-dwf\",\r\n    \".dwg\": \"application/acad\",\r\n    \".dwp\": \"application/octet-stream\",\r\n    \".dxf\": \"application/x-dxf\",\r\n    \".dxr\": \"application/x-director\",\r\n    \".eml\": \"message/rfc822\",\r\n    \".emz\": \"application/octet-stream\",\r\n    \".eot\": \"application/vnd.ms-fontobject\",\r\n    \".eps\": \"application/postscript\",\r\n    \".etl\": \"application/etl\",\r\n    \".etx\": \"text/x-setext\",\r\n    \".evy\": \"application/envoy\",\r\n    \".exe\": \"application/octet-stream\",\r\n    \".exe.config\": \"text/xml\",\r\n    \".fdf\": \"application/vnd.fdf\",\r\n    \".fif\": \"application/fractals\",\r\n    \".filters\": \"application/xml\",\r\n    \".fla\": \"application/octet-stream\",\r\n    \".flac\": \"audio/flac\",\r\n    \".flr\": \"x-world/x-vrml\",\r\n    \".flv\": \"video/x-flv\",\r\n    \".fsscript\": \"application/fsharp-script\",\r\n    \".fsx\": \"application/fsharp-script\",\r\n    \".generictest\": \"application/xml\",\r\n    \".gif\": \"image/gif\",\r\n    \".gpx\": \"application/gpx+xml\",\r\n    \".group\": \"text/x-ms-group\",\r\n    \".gradle\": \"text/plain\",\r\n    \".gsm\": \"audio/x-gsm\",\r\n    \".gtar\": \"application/x-gtar\",\r\n    \".gz\": \"application/x-gzip\",\r\n    \".h\": \"text/plain\",\r\n    \".hdf\": \"application/x-hdf\",\r\n    \".hdml\": \"text/x-hdml\",\r\n    \".hhc\": \"application/x-oleobject\",\r\n    \".hhk\": \"application/octet-stream\",\r\n    \".hhp\": \"application/octet-stream\",\r\n    \".hlp\": \"application/winhlp\",\r\n    \".hpp\": \"text/plain\",\r\n    \".hqx\": \"application/mac-binhex40\",\r\n    \".hta\": \"application/hta\",\r\n    \".htc\": \"text/x-component\",\r\n    \".htm\": \"text/html\",\r\n    \".html\": \"text/html\",\r\n    \".htt\": \"text/webviewhtml\",\r\n    \".hxa\": \"application/xml\",\r\n    \".hxc\": \"application/xml\",\r\n    \".hxd\": \"application/octet-stream\",\r\n    \".hxe\": \"application/xml\",\r\n    \".hxf\": \"application/xml\",\r\n    \".hxh\": \"application/octet-stream\",\r\n    \".hxi\": \"application/octet-stream\",\r\n    \".hxk\": \"application/xml\",\r\n    \".hxq\": \"application/octet-stream\",\r\n    \".hxr\": \"application/octet-stream\",\r\n    \".hxs\": \"application/octet-stream\",\r\n    \".hxt\": \"text/html\",\r\n    \".hxv\": \"application/xml\",\r\n    \".hxw\": \"application/octet-stream\",\r\n    \".hxx\": \"text/plain\",\r\n    \".i\": \"text/plain\",\r\n    \".ico\": \"image/x-icon\",\r\n    \".ics\": \"application/octet-stream\",\r\n    \".idl\": \"text/plain\",\r\n    \".ief\": \"image/ief\",\r\n    \".iii\": \"application/x-iphone\",\r\n    \".inc\": \"text/plain\",\r\n    \".inf\": \"application/octet-stream\",\r\n    \".ini\": \"text/plain\",\r\n    \".inl\": \"text/plain\",\r\n    \".ins\": \"application/x-internet-signup\",\r\n    \".ipa\": \"application/x-itunes-ipa\",\r\n    \".ipg\": \"application/x-itunes-ipg\",\r\n    \".ipproj\": \"text/plain\",\r\n    \".ipsw\": \"application/x-itunes-ipsw\",\r\n    \".iqy\": \"text/x-ms-iqy\",\r\n    \".isp\": \"application/x-internet-signup\",\r\n    \".ite\": \"application/x-itunes-ite\",\r\n    \".itlp\": \"application/x-itunes-itlp\",\r\n    \".itms\": \"application/x-itunes-itms\",\r\n    \".itpc\": \"application/x-itunes-itpc\",\r\n    \".IVF\": \"video/x-ivf\",\r\n    \".jar\": \"application/java-archive\",\r\n    \".java\": \"text/plain\",\r\n    \".jck\": \"application/liquidmotion\",\r\n    \".jcz\": \"application/liquidmotion\",\r\n    \".jfif\": \"image/pjpeg\",\r\n    \".jnlp\": \"application/x-java-jnlp-file\",\r\n    \".jpb\": \"application/octet-stream\",\r\n    \".jpe\": \"image/jpeg\",\r\n    \".jpeg\": \"image/jpeg\",\r\n    \".jpg\": \"image/jpeg\",\r\n    \".js\": \"text/plain\",\r\n    \".json\": \"application/json\",\r\n    \".jsx\": \"text/jscript\",\r\n    \".jsxbin\": \"text/plain\",\r\n    \".latex\": \"application/x-latex\",\r\n    \".less\": \"text/plain\",\r\n    \".library-ms\": \"application/windows-library+xml\",\r\n    \".lit\": \"application/x-ms-reader\",\r\n    \".loadtest\": \"application/xml\",\r\n    \".lpk\": \"application/octet-stream\",\r\n    \".lsf\": \"video/x-la-asf\",\r\n    \".lst\": \"text/plain\",\r\n    \".lsx\": \"video/x-la-asf\",\r\n    \".lzh\": \"application/octet-stream\",\r\n    \".m13\": \"application/x-msmediaview\",\r\n    \".m14\": \"application/x-msmediaview\",\r\n    \".m1v\": \"video/mpeg\",\r\n    \".m2t\": \"video/vnd.dlna.mpeg-tts\",\r\n    \".m2ts\": \"video/vnd.dlna.mpeg-tts\",\r\n    \".m2v\": \"video/mpeg\",\r\n    \".m3u\": \"audio/x-mpegurl\",\r\n    \".m3u8\": \"audio/x-mpegurl\",\r\n    \".m4a\": \"audio/m4a\",\r\n    \".m4b\": \"audio/m4b\",\r\n    \".m4p\": \"audio/m4p\",\r\n    \".m4r\": \"audio/x-m4r\",\r\n    \".m4v\": \"video/x-m4v\",\r\n    \".mac\": \"image/x-macpaint\",\r\n    \".mak\": \"text/plain\",\r\n    \".man\": \"application/x-troff-man\",\r\n    \".manifest\": \"application/x-ms-manifest\",\r\n    \".map\": \"text/plain\",\r\n    \".master\": \"application/xml\",\r\n    \".mbox\": \"application/mbox\",\r\n    \".md\": \"text/plain\",\r\n    \".mda\": \"application/msaccess\",\r\n    \".mdb\": \"application/x-msaccess\",\r\n    \".mde\": \"application/msaccess\",\r\n    \".mdp\": \"application/octet-stream\",\r\n    \".me\": \"application/x-troff-me\",\r\n    \".mfp\": \"application/x-shockwave-flash\",\r\n    \".mht\": \"message/rfc822\",\r\n    \".mhtml\": \"message/rfc822\",\r\n    \".mid\": \"audio/mid\",\r\n    \".midi\": \"audio/mid\",\r\n    \".mix\": \"application/octet-stream\",\r\n    \".mk\": \"text/plain\",\r\n    \".mmf\": \"application/x-smaf\",\r\n    \".mno\": \"text/xml\",\r\n    \".mny\": \"application/x-msmoney\",\r\n    \".mod\": \"video/mpeg\",\r\n    \".mov\": \"video/quicktime\",\r\n    \".movie\": \"video/x-sgi-movie\",\r\n    \".mp2\": \"video/mpeg\",\r\n    \".mp2v\": \"video/mpeg\",\r\n    \".mp3\": \"audio/mpeg\",\r\n    \".mp4\": \"video/mp4\",\r\n    \".mp4v\": \"video/mp4\",\r\n    \".mpa\": \"video/mpeg\",\r\n    \".mpe\": \"video/mpeg\",\r\n    \".mpeg\": \"video/mpeg\",\r\n    \".mpf\": \"application/vnd.ms-mediapackage\",\r\n    \".mpg\": \"video/mpeg\",\r\n    \".mpp\": \"application/vnd.ms-project\",\r\n    \".mpv2\": \"video/mpeg\",\r\n    \".mqv\": \"video/quicktime\",\r\n    \".ms\": \"application/x-troff-ms\",\r\n    \".msg\": \"application/vnd.ms-outlook\",\r\n    \".msi\": \"application/octet-stream\",\r\n    \".mso\": \"application/octet-stream\",\r\n    \".mts\": \"video/vnd.dlna.mpeg-tts\",\r\n    \".mtx\": \"application/xml\",\r\n    \".mvb\": \"application/x-msmediaview\",\r\n    \".mvc\": \"application/x-miva-compiled\",\r\n    \".mxp\": \"application/x-mmxp\",\r\n    \".nc\": \"application/x-netcdf\",\r\n    \".nsc\": \"video/x-ms-asf\",\r\n    \".nws\": \"message/rfc822\",\r\n    \".ocx\": \"application/octet-stream\",\r\n    \".oda\": \"application/oda\",\r\n    \".odb\": \"application/vnd.oasis.opendocument.database\",\r\n    \".odc\": \"application/vnd.oasis.opendocument.chart\",\r\n    \".odf\": \"application/vnd.oasis.opendocument.formula\",\r\n    \".odg\": \"application/vnd.oasis.opendocument.graphics\",\r\n    \".odh\": \"text/plain\",\r\n    \".odi\": \"application/vnd.oasis.opendocument.image\",\r\n    \".odl\": \"text/plain\",\r\n    \".odm\": \"application/vnd.oasis.opendocument.text-master\",\r\n    \".odp\": \"application/vnd.oasis.opendocument.presentation\",\r\n    \".ods\": \"application/vnd.oasis.opendocument.spreadsheet\",\r\n    \".odt\": \"application/vnd.oasis.opendocument.text\",\r\n    \".oga\": \"audio/ogg\",\r\n    \".ogg\": \"audio/ogg\",\r\n    \".ogv\": \"video/ogg\",\r\n    \".ogx\": \"application/ogg\",\r\n    \".one\": \"application/onenote\",\r\n    \".onea\": \"application/onenote\",\r\n    \".onepkg\": \"application/onenote\",\r\n    \".onetmp\": \"application/onenote\",\r\n    \".onetoc\": \"application/onenote\",\r\n    \".onetoc2\": \"application/onenote\",\r\n    \".opus\": \"audio/ogg\",\r\n    \".orderedtest\": \"application/xml\",\r\n    \".osdx\": \"application/opensearchdescription+xml\",\r\n    \".otf\": \"application/font-sfnt\",\r\n    \".otg\": \"application/vnd.oasis.opendocument.graphics-template\",\r\n    \".oth\": \"application/vnd.oasis.opendocument.text-web\",\r\n    \".otp\": \"application/vnd.oasis.opendocument.presentation-template\",\r\n    \".ots\": \"application/vnd.oasis.opendocument.spreadsheet-template\",\r\n    \".ott\": \"application/vnd.oasis.opendocument.text-template\",\r\n    \".oxt\": \"application/vnd.openofficeorg.extension\",\r\n    \".p10\": \"application/pkcs10\",\r\n    \".p12\": \"application/x-pkcs12\",\r\n    \".p7b\": \"application/x-pkcs7-certificates\",\r\n    \".p7c\": \"application/pkcs7-mime\",\r\n    \".p7m\": \"application/pkcs7-mime\",\r\n    \".p7r\": \"application/x-pkcs7-certreqresp\",\r\n    \".p7s\": \"application/pkcs7-signature\",\r\n    \".pbm\": \"image/x-portable-bitmap\",\r\n    \".pcast\": \"application/x-podcast\",\r\n    \".pct\": \"image/pict\",\r\n    \".pcx\": \"application/octet-stream\",\r\n    \".pcz\": \"application/octet-stream\",\r\n    \".pdf\": \"application/pdf\",\r\n    \".pfb\": \"application/octet-stream\",\r\n    \".pfm\": \"application/octet-stream\",\r\n    \".pfx\": \"application/x-pkcs12\",\r\n    \".pgm\": \"image/x-portable-graymap\",\r\n    \".pic\": \"image/pict\",\r\n    \".pict\": \"image/pict\",\r\n    \".pkgdef\": \"text/plain\",\r\n    \".pkgundef\": \"text/plain\",\r\n    \".pko\": \"application/vnd.ms-pki.pko\",\r\n    \".pls\": \"audio/scpls\",\r\n    \".pma\": \"application/x-perfmon\",\r\n    \".pmc\": \"application/x-perfmon\",\r\n    \".pml\": \"application/x-perfmon\",\r\n    \".pmr\": \"application/x-perfmon\",\r\n    \".pmw\": \"application/x-perfmon\",\r\n    \".png\": \"image/png\",\r\n    \".pnm\": \"image/x-portable-anymap\",\r\n    \".pnt\": \"image/x-macpaint\",\r\n    \".pntg\": \"image/x-macpaint\",\r\n    \".pnz\": \"image/png\",\r\n    \".pot\": \"application/vnd.ms-powerpoint\",\r\n    \".potm\": \"application/vnd.ms-powerpoint.template.macroEnabled.12\",\r\n    \".potx\":\r\n      \"application/vnd.openxmlformats-officedocument.presentationml.template\",\r\n    \".ppa\": \"application/vnd.ms-powerpoint\",\r\n    \".ppam\": \"application/vnd.ms-powerpoint.addin.macroEnabled.12\",\r\n    \".ppm\": \"image/x-portable-pixmap\",\r\n    \".pps\": \"application/vnd.ms-powerpoint\",\r\n    \".ppsm\": \"application/vnd.ms-powerpoint.slideshow.macroEnabled.12\",\r\n    \".ppsx\":\r\n      \"application/vnd.openxmlformats-officedocument.presentationml.slideshow\",\r\n    \".ppt\": \"application/vnd.ms-powerpoint\",\r\n    \".pptm\": \"application/vnd.ms-powerpoint.presentation.macroEnabled.12\",\r\n    \".pptx\":\r\n      \"application/vnd.openxmlformats-officedocument.presentationml.presentation\",\r\n    \".prf\": \"application/pics-rules\",\r\n    \".prm\": \"application/octet-stream\",\r\n    \".prx\": \"application/octet-stream\",\r\n    \".ps\": \"application/postscript\",\r\n    \".psc1\": \"application/PowerShell\",\r\n    \".psd\": \"application/octet-stream\",\r\n    \".psess\": \"application/xml\",\r\n    \".psm\": \"application/octet-stream\",\r\n    \".psp\": \"application/octet-stream\",\r\n    \".pst\": \"application/vnd.ms-outlook\",\r\n    \".pub\": \"application/x-mspublisher\",\r\n    \".py\": \"text/plain\",\r\n    \".pwz\": \"application/vnd.ms-powerpoint\",\r\n    \".qht\": \"text/x-html-insertion\",\r\n    \".qhtm\": \"text/x-html-insertion\",\r\n    \".qt\": \"video/quicktime\",\r\n    \".qti\": \"image/x-quicktime\",\r\n    \".qtif\": \"image/x-quicktime\",\r\n    \".qtl\": \"application/x-quicktimeplayer\",\r\n    \".qxd\": \"application/octet-stream\",\r\n    \".ra\": \"audio/x-pn-realaudio\",\r\n    \".ram\": \"audio/x-pn-realaudio\",\r\n    \".rar\": \"application/x-rar-compressed\",\r\n    \".ras\": \"image/x-cmu-raster\",\r\n    \".rat\": \"application/rat-file\",\r\n    \".rc\": \"text/plain\",\r\n    \".rc2\": \"text/plain\",\r\n    \".rct\": \"text/plain\",\r\n    \".rdlc\": \"application/xml\",\r\n    \".reg\": \"text/plain\",\r\n    \".resx\": \"application/xml\",\r\n    \".rf\": \"image/vnd.rn-realflash\",\r\n    \".rgb\": \"image/x-rgb\",\r\n    \".rgs\": \"text/plain\",\r\n    \".rm\": \"application/vnd.rn-realmedia\",\r\n    \".rmi\": \"audio/mid\",\r\n    \".rmp\": \"application/vnd.rn-rn_music_package\",\r\n    \".roff\": \"application/x-troff\",\r\n    \".rpm\": \"audio/x-pn-realaudio-plugin\",\r\n    \".rqy\": \"text/x-ms-rqy\",\r\n    \".rtf\": \"application/rtf\",\r\n    \".rtx\": \"text/richtext\",\r\n    \".rvt\": \"application/octet-stream\",\r\n    \".ruleset\": \"application/xml\",\r\n    \".s\": \"text/plain\",\r\n    \".safariextz\": \"application/x-safari-safariextz\",\r\n    \".scd\": \"application/x-msschedule\",\r\n    \".scr\": \"text/plain\",\r\n    \".sct\": \"text/scriptlet\",\r\n    \".sd2\": \"audio/x-sd2\",\r\n    \".sdp\": \"application/sdp\",\r\n    \".sea\": \"application/octet-stream\",\r\n    \".searchConnector-ms\": \"application/windows-search-connector+xml\",\r\n    \".setpay\": \"application/set-payment-initiation\",\r\n    \".setreg\": \"application/set-registration-initiation\",\r\n    \".settings\": \"application/xml\",\r\n    \".sgimb\": \"application/x-sgimb\",\r\n    \".sgml\": \"text/sgml\",\r\n    \".sh\": \"text/plain\",\r\n    \".shar\": \"application/x-shar\",\r\n    \".shtml\": \"text/html\",\r\n    \".sit\": \"application/x-stuffit\",\r\n    \".sitemap\": \"application/xml\",\r\n    \".skin\": \"application/xml\",\r\n    \".skp\": \"application/x-koan\",\r\n    \".sldm\": \"application/vnd.ms-powerpoint.slide.macroEnabled.12\",\r\n    \".sldx\":\r\n      \"application/vnd.openxmlformats-officedocument.presentationml.slide\",\r\n    \".slk\": \"application/vnd.ms-excel\",\r\n    \".sln\": \"text/plain\",\r\n    \".slupkg-ms\": \"application/x-ms-license\",\r\n    \".smd\": \"audio/x-smd\",\r\n    \".smi\": \"application/octet-stream\",\r\n    \".smx\": \"audio/x-smd\",\r\n    \".smz\": \"audio/x-smd\",\r\n    \".snd\": \"audio/basic\",\r\n    \".snippet\": \"application/xml\",\r\n    \".snp\": \"application/octet-stream\",\r\n    \".sol\": \"text/plain\",\r\n    \".sor\": \"text/plain\",\r\n    \".spc\": \"application/x-pkcs7-certificates\",\r\n    \".spl\": \"application/futuresplash\",\r\n    \".spx\": \"audio/ogg\",\r\n    \".sql\": \"text/plain\",\r\n    \".src\": \"application/x-wais-source\",\r\n    \".srf\": \"text/plain\",\r\n    \".SSISDeploymentManifest\": \"text/xml\",\r\n    \".ssm\": \"application/streamingmedia\",\r\n    \".sst\": \"application/vnd.ms-pki.certstore\",\r\n    \".stl\": \"application/vnd.ms-pki.stl\",\r\n    \".sv4cpio\": \"application/x-sv4cpio\",\r\n    \".sv4crc\": \"application/x-sv4crc\",\r\n    \".svc\": \"application/xml\",\r\n    \".svg\": \"image/svg+xml\",\r\n    \".swf\": \"application/x-shockwave-flash\",\r\n    \".step\": \"application/step\",\r\n    \".stp\": \"application/step\",\r\n    \".t\": \"application/x-troff\",\r\n    \".tar\": \"application/x-tar\",\r\n    \".tcl\": \"application/x-tcl\",\r\n    \".testrunconfig\": \"application/xml\",\r\n    \".testsettings\": \"application/xml\",\r\n    \".tex\": \"application/x-tex\",\r\n    \".texi\": \"application/x-texinfo\",\r\n    \".texinfo\": \"application/x-texinfo\",\r\n    \".tgz\": \"application/x-compressed\",\r\n    \".thmx\": \"application/vnd.ms-officetheme\",\r\n    \".thn\": \"application/octet-stream\",\r\n    \".tif\": \"image/tiff\",\r\n    \".tiff\": \"image/tiff\",\r\n    \".tlh\": \"text/plain\",\r\n    \".tli\": \"text/plain\",\r\n    \".toc\": \"application/octet-stream\",\r\n    \".tr\": \"application/x-troff\",\r\n    \".trm\": \"application/x-msterminal\",\r\n    \".trx\": \"application/xml\",\r\n    \".ts\": \"video/vnd.dlna.mpeg-tts\",\r\n    \".tsv\": \"text/tab-separated-values\",\r\n    \".ttf\": \"application/font-sfnt\",\r\n    \".tts\": \"video/vnd.dlna.mpeg-tts\",\r\n    \".txt\": \"text/plain\",\r\n    \".u32\": \"application/octet-stream\",\r\n    \".uls\": \"text/iuls\",\r\n    \".user\": \"text/plain\",\r\n    \".ustar\": \"application/x-ustar\",\r\n    \".vb\": \"text/plain\",\r\n    \".vbdproj\": \"text/plain\",\r\n    \".vbk\": \"video/mpeg\",\r\n    \".vbproj\": \"text/plain\",\r\n    \".vbs\": \"text/vbscript\",\r\n    \".vcf\": \"text/x-vcard\",\r\n    \".vcproj\": \"application/xml\",\r\n    \".vcs\": \"text/plain\",\r\n    \".vcxproj\": \"application/xml\",\r\n    \".vddproj\": \"text/plain\",\r\n    \".vdp\": \"text/plain\",\r\n    \".vdproj\": \"text/plain\",\r\n    \".vdx\": \"application/vnd.ms-visio.viewer\",\r\n    \".vml\": \"text/xml\",\r\n    \".vscontent\": \"application/xml\",\r\n    \".vsct\": \"text/xml\",\r\n    \".vsd\": \"application/vnd.visio\",\r\n    \".vsi\": \"application/ms-vsi\",\r\n    \".vsix\": \"application/vsix\",\r\n    \".vsixlangpack\": \"text/xml\",\r\n    \".vsixmanifest\": \"text/xml\",\r\n    \".vsmdi\": \"application/xml\",\r\n    \".vspscc\": \"text/plain\",\r\n    \".vss\": \"application/vnd.visio\",\r\n    \".vsscc\": \"text/plain\",\r\n    \".vssettings\": \"text/xml\",\r\n    \".vssscc\": \"text/plain\",\r\n    \".vst\": \"application/vnd.visio\",\r\n    \".vstemplate\": \"text/xml\",\r\n    \".vsto\": \"application/x-ms-vsto\",\r\n    \".vsw\": \"application/vnd.visio\",\r\n    \".vsx\": \"application/vnd.visio\",\r\n    \".vtx\": \"application/vnd.visio\",\r\n    \".wav\": \"audio/wav\",\r\n    \".wave\": \"audio/wav\",\r\n    \".wax\": \"audio/x-ms-wax\",\r\n    \".wbk\": \"application/msword\",\r\n    \".wbmp\": \"image/vnd.wap.wbmp\",\r\n    \".wcm\": \"application/vnd.ms-works\",\r\n    \".wdb\": \"application/vnd.ms-works\",\r\n    \".wdp\": \"image/vnd.ms-photo\",\r\n    \".webarchive\": \"application/x-safari-webarchive\",\r\n    \".webm\": \"video/webm\",\r\n    \".webp\": \"image/webp\" /* https\"://en.wikipedia.org/wiki/WebP */,\r\n    \".webtest\": \"application/xml\",\r\n    \".wiq\": \"application/xml\",\r\n    \".wiz\": \"application/msword\",\r\n    \".wks\": \"application/vnd.ms-works\",\r\n    \".WLMP\": \"application/wlmoviemaker\",\r\n    \".wlpginstall\": \"application/x-wlpg-detect\",\r\n    \".wlpginstall3\": \"application/x-wlpg3-detect\",\r\n    \".wm\": \"video/x-ms-wm\",\r\n    \".wma\": \"audio/x-ms-wma\",\r\n    \".wmd\": \"application/x-ms-wmd\",\r\n    \".wmf\": \"application/x-msmetafile\",\r\n    \".wml\": \"text/vnd.wap.wml\",\r\n    \".wmlc\": \"application/vnd.wap.wmlc\",\r\n    \".wmls\": \"text/vnd.wap.wmlscript\",\r\n    \".wmlsc\": \"application/vnd.wap.wmlscriptc\",\r\n    \".wmp\": \"video/x-ms-wmp\",\r\n    \".wmv\": \"video/x-ms-wmv\",\r\n    \".wmx\": \"video/x-ms-wmx\",\r\n    \".wmz\": \"application/x-ms-wmz\",\r\n    \".woff\": \"application/font-woff\",\r\n    \".wpl\": \"application/vnd.ms-wpl\",\r\n    \".wps\": \"application/vnd.ms-works\",\r\n    \".wri\": \"application/x-mswrite\",\r\n    \".wrl\": \"x-world/x-vrml\",\r\n    \".wrz\": \"x-world/x-vrml\",\r\n    \".wsc\": \"text/scriptlet\",\r\n    \".wsdl\": \"text/xml\",\r\n    \".wvx\": \"video/x-ms-wvx\",\r\n    \".x\": \"application/directx\",\r\n    \".xaf\": \"x-world/x-vrml\",\r\n    \".xaml\": \"application/xaml+xml\",\r\n    \".xap\": \"application/x-silverlight-app\",\r\n    \".xbap\": \"application/x-ms-xbap\",\r\n    \".xbm\": \"image/x-xbitmap\",\r\n    \".xdr\": \"text/plain\",\r\n    \".xht\": \"application/xhtml+xml\",\r\n    \".xhtml\": \"application/xhtml+xml\",\r\n    \".xla\": \"application/vnd.ms-excel\",\r\n    \".xlam\": \"application/vnd.ms-excel.addin.macroEnabled.12\",\r\n    \".xlc\": \"application/vnd.ms-excel\",\r\n    \".xld\": \"application/vnd.ms-excel\",\r\n    \".xlk\": \"application/vnd.ms-excel\",\r\n    \".xll\": \"application/vnd.ms-excel\",\r\n    \".xlm\": \"application/vnd.ms-excel\",\r\n    \".xls\": \"application/vnd.ms-excel\",\r\n    \".xlsb\": \"application/vnd.ms-excel.sheet.binary.macroEnabled.12\",\r\n    \".xlsm\": \"application/vnd.ms-excel.sheet.macroEnabled.12\",\r\n    \".xlsx\":\r\n      \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\r\n    \".xlt\": \"application/vnd.ms-excel\",\r\n    \".xltm\": \"application/vnd.ms-excel.template.macroEnabled.12\",\r\n    \".xltx\":\r\n      \"application/vnd.openxmlformats-officedocument.spreadsheetml.template\",\r\n    \".xlw\": \"application/vnd.ms-excel\",\r\n    \".xml\": \"text/xml\",\r\n    \".xmp\": \"application/octet-stream\",\r\n    \".xmta\": \"application/xml\",\r\n    \".xof\": \"x-world/x-vrml\",\r\n    \".XOML\": \"text/plain\",\r\n    \".xpm\": \"image/x-xpixmap\",\r\n    \".xps\": \"application/vnd.ms-xpsdocument\",\r\n    \".xrm-ms\": \"text/xml\",\r\n    \".xsc\": \"application/xml\",\r\n    \".xsd\": \"text/xml\",\r\n    \".xsf\": \"text/xml\",\r\n    \".xsl\": \"text/xml\",\r\n    \".xslt\": \"text/xml\",\r\n    \".xsn\": \"application/octet-stream\",\r\n    \".xss\": \"application/xml\",\r\n    \".xspf\": \"application/xspf+xml\",\r\n    \".xtp\": \"application/octet-stream\",\r\n    \".xwd\": \"image/x-xwindowdump\",\r\n    \".z\": \"application/x-compress\",\r\n    \".zip\": \"application/zip\",\r\n  };\r\n\r\n  //(.)\"\"\r\n  static getExtension(filename: string | null) {\r\n    if (filename == null) {\r\n      return \"\";\r\n    }\r\n    let dotIndex = filename.lastIndexOf(\".\");\r\n    if (dotIndex === -1) {\r\n      return \"\";\r\n    } else {\r\n      return filename.substring(dotIndex).toLowerCase();\r\n    }\r\n  }\r\n\r\n  //(.)\"\"\r\n  static getExtensionWithoutDot(filename: string | null) {\r\n    if (filename == null) {\r\n      return \"\";\r\n    }\r\n    let dotIndex = filename.lastIndexOf(\".\");\r\n    if (dotIndex === -1) {\r\n      return \"\";\r\n    } else {\r\n      return filename.substring(dotIndex + 1).toLowerCase();\r\n    }\r\n  }\r\n\r\n  //\r\n  static getMimeType(filename: string | null) {\r\n    let extension = MimeUtil.getExtension(filename);\r\n    if (MimeUtil.MIMES[extension]) {\r\n      return MimeUtil.MIMES[extension];\r\n    } else {\r\n      return \"application/octet-stream\";\r\n    }\r\n  }\r\n}\r\n","// http://png-pixel.com/\r\n//rgb(240,240,240)\r\nimport NumberUtil from \"./NumberUtil\";\r\nimport MimeUtil from \"./MimeUtil\";\r\n\r\nexport default class ImageUtil {\r\n  static IMAGE_PLACEHOLDER_10_10 =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAEUlEQVR42mP88J8BAzAOZUEAoc4TYb5Mv7IAAAAASUVORK5CYII=\";\r\n  static IMAGE_PLACEHOLDER_20_7 =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAQAAACiwqWzAAAAEklEQVR42mP88J+BKMA4IhUCAJ1VDZFobOQaAAAAAElFTkSuQmCC\";\r\n  static IMAGE_PLACEHOLDER_4_3 =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAQAAAAe/WZNAAAAEElEQVR42mP88J8BDBgxGABf8QXRk11CBwAAAABJRU5ErkJggg==\";\r\n  static IMAGE_PLACEHOLDER_16_9 =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAJCAQAAACRI2S5AAAAEklEQVR42mP88J8BL2AcVQAGACSgEXHKPyH/AAAAAElFTkSuQmCC\";\r\n  static IMAGE_PLACEHOLDER_2_1 =\r\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAQAAAAeXLZtAAAAE0lEQVR42mP88J+BKMA4qpC+CgH2ThNhpeSxLAAAAABJRU5ErkJggg==\";\r\n\r\n  /**\r\n   * url\r\n   * @param url \r\n   * @param origin \r\n   * @param width origin=false \r\n   * @param height origin=false \r\n   * @returns\r\n   */\r\n  static handleImageUrl(\r\n    url: string | null = null,\r\n    origin: boolean = false,\r\n    width: number = 200,\r\n    height: number = 200\r\n  ) {\r\n    if (url) {\r\n      if (origin) {\r\n        return url;\r\n      } else {\r\n        // jpg jpeg png tif tiff bmp gif\r\n        let supportExtensions = [\r\n          \".jpg\",\r\n          \".jpeg\",\r\n          \".png\",\r\n          \".tif\",\r\n          \".tiff\",\r\n          \".bmp\",\r\n          \".gif\",\r\n        ];\r\n        let extension = MimeUtil.getExtension(url);\r\n        if (supportExtensions.indexOf(extension) === -1) {\r\n          return url;\r\n        } else {\r\n          return url + \"?ir=fill_\" + width + \"_\" + height;\r\n        }\r\n      }\r\n    } else {\r\n      if (NumberUtil.fractionEqual(1, 1, width, height)) {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_10_10;\r\n      } else if (NumberUtil.fractionEqual(20, 7, width, height)) {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_20_7;\r\n      } else if (NumberUtil.fractionEqual(4, 3, width, height)) {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_4_3;\r\n      } else if (NumberUtil.fractionEqual(16, 9, width, height)) {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_16_9;\r\n      } else if (NumberUtil.fractionEqual(2, 1, width, height)) {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_2_1;\r\n      } else {\r\n        return ImageUtil.IMAGE_PLACEHOLDER_10_10;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n","/**\r\n * \r\n */\r\nenum SelectionFilterType {\r\n  //\r\n  COMBOBOX = \"COMBOBOX\",\r\n  //\r\n  BUTTON = \"BUTTON\",\r\n}\r\n\r\nexport default SelectionFilterType\r\n","import Filter from \"./Filter\";\r\n\r\n/**\r\n * \r\n * \r\n */\r\nexport default class InputFilter extends Filter {\r\n\r\n  //\r\n  value: string = \"\"\r\n\r\n  //\r\n  placeholder: string\r\n\r\n  constructor(name: string, code: string, placeholder?: string | null, visible?: boolean) {\r\n    super(name, code, visible)\r\n\r\n    if (placeholder) {\r\n      this.placeholder = placeholder\r\n    } else {\r\n      this.placeholder = name\r\n    }\r\n  }\r\n\r\n\r\n  //\r\n  getValueString(): string {\r\n    return this.value\r\n  }\r\n\r\n  //\r\n  putValue(value: string) {\r\n\r\n    this.value = value\r\n\r\n  }\r\n\r\n\r\n  reset() {\r\n    this.value = \"\"\r\n  }\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === \"\";\r\n  }\r\n\r\n}\r\n","import Filter from \"./Filter\";\r\nimport SelectionOption from \"../option/SelectionOption\";\r\nimport SelectionFilterType from \"./SelectionFilterType\";\r\n\r\n\r\n/**\r\n *\r\n * \r\n *\r\n */\r\nexport default class SelectionFilter extends Filter {\r\n\r\n  //namevalue\r\n  options: SelectionOption[]\r\n\r\n  //null\r\n  value: string = \"\"\r\n\r\n  //\r\n  selectionType: SelectionFilterType\r\n\r\n  constructor(name: string, code: string, options: SelectionOption[],selectionType?: SelectionFilterType, visible?: boolean) {\r\n    super(name, code, visible)\r\n\r\n    this.options = options\r\n    if (selectionType === undefined) {\r\n      this.selectionType = SelectionFilterType.COMBOBOX\r\n    } else {\r\n      this.selectionType = selectionType\r\n    }\r\n  }\r\n\r\n  //\r\n  getValueString(): string {\r\n    return this.value\r\n  }\r\n\r\n  //\r\n  putValue(value: string) {\r\n\r\n    if (value === \"\") {\r\n      this.value = \"\"\r\n    } else {\r\n\r\n      //options\r\n      for (let j = 0; j < this.options.length; j++) {\r\n        let opt = this.options[j]\r\n        if (opt.value === value) {\r\n          this.value = value\r\n          return\r\n        }\r\n      }\r\n\r\n      this.value = \"\"\r\n    }\r\n\r\n  }\r\n\r\n\r\n  reset() {\r\n    this.value = \"\"\r\n  }\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === \"\";\r\n  }\r\n\r\n}\r\n","import SafeUtil from '../../util/SafeUtil';\r\nimport BaseEntity from '../base/BaseEntity';\r\nimport {UserRole} from './UserRole';\r\nimport {UserStatus, UserStatusList} from \"./UserStatus\";\r\nimport ImageUtil from \"../../util/ImageUtil\";\r\nimport defaultAvatarPath from \"../../../assets/image/avatar.png\";\r\nimport Filter from \"../base/filter/Filter\";\r\nimport SortFilter from \"../base/filter/SortFilter\";\r\nimport InputFilter from '../base/filter/InputFilter';\r\nimport SelectionFilter from \"../base/filter/SelectionFilter\";\r\n\r\nexport default class User extends BaseEntity {\r\n\r\n  //\r\n  static URL_INFO = '/api/user/info';\r\n  static URL_LOGIN = '/api/user/login'\r\n  static URL_AUTHENTICATION_LOGIN = '/api/user/authentication/login'\r\n  static URL_REGISTER = '/api/user/register'\r\n  static URL_LOGOUT = '/api/user/logout'\r\n  static URL_USER_CHANGE_PASSWORD = '/api/user/change/password'\r\n  static URL_USER_RESET_PASSWORD = '/api/user/reset/password'\r\n  static URL_USER_TOGGLE_STATUS = '/api/user/toggle/status'\r\n  static URL_USER_TRANSFIGURATION = '/api/user/transfiguration'\r\n  static URL_USER_SCAN = '/api/user/scan'\r\n\r\n  role: UserRole = UserRole.GUEST\r\n  username: string | null = null\r\n  password: string | null = null\r\n  avatarUrl: string | null = null\r\n  lastIp: string | null = null\r\n  lastTime: Date = new Date()\r\n  //100Mb.\r\n  sizeLimit: number = 104857600\r\n  totalSize: number = 0\r\n  totalSizeLimit: number = -1\r\n  status: UserStatus = UserStatus.OK\r\n\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n\r\n    super(reactComponent);\r\n\r\n  }\r\n\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n\r\n    this.assignEntity(\"lastTime\", Date)\r\n\r\n  }\r\n\r\n\r\n  getFilters(): Filter[] {\r\n    return [\r\n      ...super.getFilters(),\r\n      new SortFilter(\"\", \"orderLastTime\"),\r\n      new InputFilter(\"\", \"username\", \"\"),\r\n      new SelectionFilter(\"\", \"status\", UserStatusList),\r\n\r\n    ]\r\n  }\r\n\r\n  getForm(): any {\r\n    return {\r\n      username: this.username,\r\n      password: this.password,\r\n      role: this.role,\r\n      avatarUrl: this.avatarUrl,\r\n      sizeLimit: this.sizeLimit,\r\n      totalSizeLimit: this.totalSizeLimit,\r\n      uuid: this.uuid ? this.uuid : null\r\n    };\r\n  }\r\n\r\n\r\n  getAvatarUrl(origin: boolean = false) {\r\n    if (this.avatarUrl) {\r\n      return ImageUtil.handleImageUrl(this.avatarUrl, origin)\r\n    } else {\r\n      return defaultAvatarPath\r\n    }\r\n  }\r\n\r\n  //\r\n  httpLogin(username: string, password: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n\r\n    let that = this;\r\n\r\n    let form = {\r\n      username,\r\n      password,\r\n    };\r\n\r\n    this.httpGet(User.URL_LOGIN, form, function (response: any) {\r\n\r\n      that.assign(response.data.data);\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback);\r\n\r\n  }\r\n\r\n  //\r\n  httpRegister(username: string, password: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n\r\n    let that = this;\r\n\r\n    let form = {\r\n      username,\r\n      password,\r\n    };\r\n\r\n    this.httpGet(User.URL_REGISTER, form, function (response: any) {\r\n\r\n      that.assign(response.data.data);\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback);\r\n\r\n  }\r\n\r\n  //\r\n  httpInfo(loginRequired: boolean, finalCallback?: any) {\r\n\r\n    let that = this;\r\n    if(loginRequired) {       // httpGet\r\n      this.httpGet(User.URL_INFO, {}, function (response: any) {\r\n        that.assign(response.data.data);\r\n      }, null, finalCallback);\r\n    } else {\r\n      this.httpPureGet(User.URL_INFO, {}, function (response: any) {\r\n        that.assign(response.data.data);\r\n      }, () => {}, finalCallback);\r\n    }\r\n  }\r\n\r\n\r\n  //\r\n  httpLogout(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n\r\n    let that = this;\r\n\r\n    let form = {};\r\n\r\n    this.httpGet(User.URL_LOGOUT, form, function (response: any) {\r\n\r\n      console.info('');\r\n\r\n      that.assign(new User())\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback);\r\n\r\n  }\r\n\r\n\r\n  httpChangePassword(oldPassword: string, newPassword: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n    this.httpPost(User.URL_USER_CHANGE_PASSWORD, {\r\n      'oldPassword': oldPassword,\r\n      'newPassword': newPassword\r\n    }, function (response: any) {\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n\r\n    }, errorCallback)\r\n  }\r\n\r\n  httpResetPassword(password: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    this.httpPost(User.URL_USER_RESET_PASSWORD, {\r\n      'userUuid': this.uuid,\r\n      'password': password\r\n    }, function (response: any) {\r\n\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n\r\n    }, errorCallback)\r\n  }\r\n\r\n\r\n  httpToggleStatus(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n    this.httpPost(User.URL_USER_TOGGLE_STATUS, {'uuid': this.uuid}, function (response: any) {\r\n\r\n      that.assign(response.data.data);\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n\r\n    }, errorCallback)\r\n  }\r\n\r\n  httpAuthenticationLogin(authentication: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n    let form = {authentication}\r\n    this.httpPost(User.URL_AUTHENTICATION_LOGIN, form, function (response: any) {\r\n\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n\r\n    }, errorCallback)\r\n  }\r\n\r\n  httpTransfiguration(successCallback: (text: string) => void, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n    let form = {'uuid': this.uuid}\r\n    this.httpPost(User.URL_USER_TRANSFIGURATION, form, function (response: any) {\r\n\r\n      successCallback(response.data.msg)\r\n\r\n    }, errorCallback)\r\n  }\r\n\r\n\r\n  httpScan(successCallback: (text: string) => void, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n    let form = {'uuid': this.uuid}\r\n    this.httpPost(User.URL_USER_SCAN, form, function (response: any) {\r\n\r\n      successCallback(response.data.msg)\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import SelectionOption from \"../../base/option/SelectionOption\";\r\nimport Lang from \"../../global/Lang\";\r\n\r\nenum ScanScopeType {\r\n  ALL = \"ALL\",\r\n  CUSTOM = \"CUSTOM\",\r\n}\r\n\r\nconst ScanScopeTypes: ScanScopeType[] = Object.keys(ScanScopeType).map(\r\n  (k) => k as ScanScopeType\r\n);\r\n\r\nconst ScanScopeTypeMap: { [key in keyof typeof ScanScopeType]: SelectionOption } = {\r\n  ALL: {\r\n    name: Lang.t(\"user.allUsers\"),\r\n    value: \"ALL\",\r\n  },\r\n  CUSTOM: {\r\n    name: Lang.t(\"user.partialUsers\"),\r\n    value: \"CUSTOM\",\r\n  },\r\n};\r\n\r\nlet ScanScopeTypeList: SelectionOption[] = [];\r\nScanScopeTypes.forEach((type: ScanScopeType) => {\r\n  ScanScopeTypeList.push(ScanScopeTypeMap[type]);\r\n});\r\n\r\nexport { ScanScopeType, ScanScopeTypeMap, ScanScopeTypeList };\r\n","/**\r\n * \r\n * \r\n */\r\nimport Base from \"../../base/Base\";\r\nimport MimeUtil from \"../../../util/MimeUtil\";\r\n\r\nexport default class PreviewEngine extends Base {\r\n  /**\r\n   * url\r\n   * {originUrl} urleg: https://tank.eyeblue.cn/api/alien/download/2a0ceee1-744c-4c82-4215-69c382597a50/abstract-free-photo-2210x1473.jpg\r\n   * {url} publicUrl=originUrlpublicUrloriginUrldownloadToken eg: https://tank.eyeblue.cn/api/alien/download/2a0ceee1-744c-4c82-4215-69c382597a50/abstract-free-photo-2210x1473.jpg?downloadTokenUuid=6bdba52f-af6b-49ae-5a5d-fd80bfb01d3b\r\n   * {b64Url} \r\n   */\r\n  url: string = \"\";\r\n\r\n  /**\r\n   * \r\n   * *\r\n   * .   xls,doc,ppt,xlsx,docx,pptx\r\n   */\r\n  extensions: string = \"\";\r\n\r\n  /**\r\n   * \r\n   */\r\n  previewInSite: boolean = true;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  getForm(): any {\r\n    return {\r\n      url: this.url,\r\n      extensions: this.extensions,\r\n      previewInSite: this.previewInSite,\r\n    };\r\n  }\r\n\r\n  //\r\n  static defaultPreviewEngines(): PreviewEngine[] {\r\n    let defaultEngines: PreviewEngine[] = [];\r\n\r\n    //office\r\n    let officeEngine: PreviewEngine = new PreviewEngine();\r\n    officeEngine.url =\r\n      \"https://view.officeapps.live.com/op/embed.aspx?src={url}\";\r\n    officeEngine.extensions = \"doc,ppt,xls,docx,pptx,xlsx\";\r\n    officeEngine.previewInSite = true;\r\n    defaultEngines.push(officeEngine);\r\n\r\n    //\r\n    let globalEngine: PreviewEngine = new PreviewEngine();\r\n    globalEngine.url = \"{originUrl}\";\r\n    globalEngine.extensions = \"*\";\r\n    globalEngine.previewInSite = true;\r\n    defaultEngines.push(globalEngine);\r\n\r\n    return defaultEngines;\r\n  }\r\n\r\n  //\r\n  canPreview(fileName: string): boolean {\r\n    let extension: string = MimeUtil.getExtensionWithoutDot(fileName);\r\n    if (!extension) {\r\n      return false;\r\n    }\r\n\r\n    let canHandle = false;\r\n    if (this.extensions === \"*\") {\r\n      canHandle = true;\r\n    } else {\r\n      let parts: string[] = this.extensions.split(\",\");\r\n      for (let part of parts) {\r\n        if (\r\n          extension === part.toLowerCase() ||\r\n          \".\" + extension === part.toLowerCase()\r\n        ) {\r\n          canHandle = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return canHandle;\r\n  }\r\n}\r\n","/**\r\n * \r\n * \r\n */\r\nimport Base from \"../../base/Base\";\r\nimport PreviewEngine from \"./PreviewEngine\";\r\nimport MimeUtil from \"../../../util/MimeUtil\";\r\nimport MessageBoxUtil from \"../../../util/MessageBoxUtil\";\r\n\r\n/**\r\n * \r\n */\r\nexport default class PreviewConfig extends Base {\r\n\r\n  /**\r\n   * \r\n   */\r\n  previewEngines: PreviewEngine[] = []\r\n\r\n  constructor() {\r\n\r\n    super()\r\n\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n\r\n    this.assignList(\"previewEngines\", PreviewEngine)\r\n  }\r\n\r\n\r\n  getForm(): any {\r\n\r\n    let forms = this.previewEngines.map((item: PreviewEngine, index: number) => {\r\n      return item.getForm()\r\n    })\r\n\r\n    return {\r\n      previewEngines: forms\r\n    };\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import SelectionOption from \"../../base/option/SelectionOption\";\r\nimport Lang from \"../../global/Lang\";\r\n\r\nenum ScanCronType {\r\n  TEN_SECONDS = \"TEN_SECONDS\",\r\n  THIRTY_SECONDS = \"THIRTY_SECONDS\",\r\n  MINUTE = \"MINUTE\",\r\n  HOUR = \"HOUR\",\r\n  CUSTOM = \"CUSTOM\",\r\n}\r\n\r\nconst ScanCronTypes: ScanCronType[] = Object.keys(ScanCronType).map(\r\n  (k) => k as ScanCronType\r\n);\r\n\r\nconst ScanCronTypeMap: { [key in keyof typeof ScanCronType]: SelectionOption } = {\r\n  TEN_SECONDS: {\r\n    name: Lang.t(\"preference.scanPerTenSeconds\"),\r\n    value: \"@every 10s\",\r\n  },\r\n  THIRTY_SECONDS: {\r\n    name: Lang.t(\"preference.scanPerThirtySeconds\"),\r\n    value: \"@every 30s\",\r\n  },\r\n  MINUTE: {\r\n    name: Lang.t(\"preference.scanPerMinute\"),\r\n    value: \"@every 1m\",\r\n  },\r\n  HOUR: {\r\n    name: Lang.t(\"preference.scanPerHour\"),\r\n    value: \"0 * * * *\",\r\n  },\r\n  CUSTOM: {\r\n    name: Lang.t(\"preference.scanCustom\"),\r\n    value: \"CUSTOM\",\r\n  },\r\n};\r\n\r\nconst ScanCronTypeList: SelectionOption[] = [];\r\nScanCronTypes.forEach((type: ScanCronType) => {\r\n  ScanCronTypeList.push(ScanCronTypeMap[type]);\r\n});\r\n\r\nconst ScanCronTypeValueList: string[] = [];\r\nScanCronTypes.forEach((type: ScanCronType) => {\r\n  ScanCronTypeValueList.push(ScanCronTypeMap[type].value);\r\n});\r\n\r\nexport { ScanCronType, ScanCronTypeMap, ScanCronTypeList, ScanCronTypeValueList };\r\n","/**\r\n * \r\n */\r\nimport { LabeledValue } from 'antd/lib/select';\r\nimport Base from \"../../base/Base\";\r\nimport { ScanScopeType } from \"./ScanScopeType\";\r\nimport { ScanCronType } from \"./ScanCronType\";\r\n\r\nexport default class ScanConfig extends Base {\r\n  // \r\n  enable: boolean = false;\r\n  // cron \r\n  cron: string | null = null;\r\n  //  or \r\n  scope: ScanScopeType = ScanScopeType.ALL;\r\n  // \r\n  usernames: string[] = [];\r\n\r\n  // \r\n  cronType: string | null = null;\r\n  users: LabeledValue[] = [];\r\n\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n  }\r\n\r\n  getForm(): any {\r\n    return {\r\n      enable: this.enable,\r\n      scope: this.scope,\r\n      cron: this.cronType === ScanCronType.CUSTOM ? this.cron : this.cronType,\r\n      usernames: this.usernames,\r\n    };\r\n  }\r\n}\r\n","import SafeUtil from '../../util/SafeUtil';\r\nimport BaseEntity from '../base/BaseEntity';\r\nimport PreviewConfig from \"./model/PreviewConfig\";\r\nimport JsonUtil from \"../../util/JsonUtil\";\r\nimport ScanConfig from \"./model/ScanConfig\";\r\n\r\n\r\nexport default class Preference extends BaseEntity {\r\n\r\n  //\r\n  static URL_API_PREFERENCE_FETCH = '/api/preference/fetch'\r\n  static URL_API_SYSTEM_CLEANUP = '/api/preference/system/cleanup'\r\n  static URL_API_PREFERENCE_EDIT_PREVIEW_CONFIG = '/api/preference/edit/preview/config'\r\n  static URL_API_PREFERENCE_EDIT_SCAN = '/api/preference/edit/scan/config'\r\n  static URL_API_PREFERENCE_SCAN_ONCE = '/api/preference/scan/once'\r\n\r\n\r\n  //\r\n  name: string = \"\"\r\n\r\n  //logo\r\n  logoUrl: string | null = null\r\n  faviconUrl: string | null = null\r\n\r\n  //\r\n  copyright: string = \"\"\r\n  record: string = \"\"\r\n\r\n  //\r\n  downloadDirMaxSize: number = -1\r\n  //\r\n  downloadDirMaxNum: number = -1\r\n  //\r\n  defaultTotalSizeLimit: number = -1\r\n  //\r\n  deletedKeepDays: number = 7\r\n  //\r\n  allowRegister: boolean = false\r\n  //\r\n  previewConfig: PreviewConfig = new PreviewConfig()\r\n  //\r\n  scanConfig: ScanConfig = new ScanConfig()\r\n  //\r\n  version: string | null = null\r\n\r\n\r\n  //****************************************/\r\n  //\r\n  installed: boolean = true\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n\r\n    super(reactComponent);\r\n\r\n  }\r\n\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n\r\n    this.assignEntity(\"previewConfig\", PreviewConfig)\r\n    this.assignEntity(\"scanConfig\", ScanConfig)\r\n  }\r\n\r\n  getRecycleBinStatus() {\r\n    return this.deletedKeepDays > 0\r\n  }\r\n\r\n  getForm(): any {\r\n    return {\r\n      name: this.name,\r\n      logoUrl: this.logoUrl,\r\n      faviconUrl: this.faviconUrl,\r\n      copyright: this.copyright,\r\n      record: this.record,\r\n      downloadDirMaxNum: this.downloadDirMaxNum,\r\n      downloadDirMaxSize: this.downloadDirMaxSize,\r\n      defaultTotalSizeLimit: this.defaultTotalSizeLimit,\r\n      deletedKeepDays: this.deletedKeepDays,\r\n      allowRegister: this.allowRegister,\r\n      previewConfig: JsonUtil.toJson(this.previewConfig.getForm()),\r\n      scanConfig: JsonUtil.toJson(this.scanConfig.getForm())\r\n    };\r\n  }\r\n\r\n\r\n  //titlefavicon\r\n  updateTitleAndFavicon() {\r\n\r\n    if (this.faviconUrl) {\r\n      //favicon\r\n      let link: any = document.querySelector(\"link[rel*='icon']\") || document.createElement('link');\r\n      link.type = 'image/x-icon';\r\n      link.rel = 'shortcut icon';\r\n      link.href = this.faviconUrl;\r\n      document.getElementsByTagName('head')[0].appendChild(link);\r\n    }\r\n\r\n    document.title = this.name\r\n\r\n  }\r\n\r\n  httpFetch(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n    this.httpPost(Preference.URL_API_PREFERENCE_FETCH, {}, function (response: any) {\r\n\r\n      that.assign(response.data.data);\r\n\r\n      that.updateTitleAndFavicon()\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n  httpSystemCleanup(password: string, successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n    this.httpPost(Preference.URL_API_SYSTEM_CLEANUP, {password}, function (response: any) {\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n  httpSavePreviewEngine(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    const that = this\r\n    this.httpPost(Preference.URL_API_PREFERENCE_EDIT_PREVIEW_CONFIG, this.getForm(), function(response: any) {\r\n\r\n      that.assign(response.data.data);\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback);\r\n\r\n  }\r\n\r\n  httpSaveScan(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    const that = this\r\n    this.httpPost(Preference.URL_API_PREFERENCE_EDIT_SCAN, this.getForm(), function(response: any) {\r\n\r\n      that.assign(response.data.data);\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback);\r\n\r\n  }\r\n\r\n  httpScanOnce(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    this.httpGet(Preference.URL_API_PREFERENCE_SCAN_ONCE, {}, function (response: any) {\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","/**\r\n * \r\n * BaseUser, Preference.\r\n * Sun\r\n */\r\nimport User from \"../user/User\";\r\nimport Preference from \"../preference/Preference\";\r\nimport Matter from \"../matter/Matter\";\r\n\r\n\r\nexport default class Moon {\r\n\r\n  //.\r\n  user: User = new User()\r\n\r\n  //\r\n  preference: Preference = new Preference()\r\n\r\n  //store\r\n  private static singleton: Moon | null = null\r\n\r\n  //\r\n  static getSingleton(): Moon {\r\n    if (Moon.singleton == null) {\r\n      Moon.singleton = new Moon();\r\n\r\n    }\r\n\r\n    return Moon.singleton\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport {Link, RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Login.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport {Button, Col, Form, Input, Row} from 'antd';\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport {LockOutlined, UserOutlined} from '@ant-design/icons';\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\n\r\ninterface IProps extends RouteComponentProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class Login extends TankComponent<IProps, IState> {\r\n\r\n  user: User = Moon.getSingleton().user\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    //\r\n    this.logout()\r\n  }\r\n\r\n  //\r\n  logout() {\r\n\r\n    let that = this\r\n\r\n    this.user.httpLogout(function () {\r\n      //\r\n      Sun.updateFrame()\r\n    })\r\n\r\n  }\r\n\r\n  onFinish(values: any) {\r\n\r\n\r\n    let that = this\r\n\r\n    let user = that.user\r\n\r\n    user.httpLogin(values[\"username\"], values[\"password\"], function () {\r\n      MessageBoxUtil.success(Lang.t(\"user.loginSuccess\"))\r\n\r\n      that.props.history.push('/')\r\n\r\n    })\r\n\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n    let preference: Preference = Moon.getSingleton().preference\r\n\r\n\r\n    return (\r\n      <div className=\"user-login\">\r\n\r\n        <Row>\r\n          <Col xs={{span: 24}} md={{span: 8, offset: 6}}>\r\n\r\n            <div className=\"welcome\">\r\n              {Lang.t(\"user.welcomeLogin\")}\r\n            </div>\r\n\r\n            <Form\r\n              name=\"basic\"\r\n              initialValues={{remember: true}}\r\n              onFinish={this.onFinish.bind(this)}\r\n              onFinishFailed={this.onFinishFailed.bind(this)}\r\n            >\r\n              <Form.Item\r\n                name=\"username\"\r\n                rules={[{required: true, message: Lang.t(\"user.enterUsername\")}]}\r\n              >\r\n                <Input size=\"large\" placeholder={Lang.t(\"user.enterUsername\")} prefix={<UserOutlined/>}/>\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                name=\"password\"\r\n                rules={[{required: true, message: Lang.t(\"user.enterPassword\")}]}\r\n              >\r\n                <Input.Password size=\"large\" placeholder={Lang.t(\"user.enterPassword\")} prefix={<LockOutlined/>}/>\r\n              </Form.Item>\r\n\r\n              <Form.Item>\r\n                <Button type=\"primary\" icon={<UserOutlined/>} block={true} htmlType=\"submit\">\r\n                  {Lang.t(\"user.login\")}\r\n                </Button>\r\n              </Form.Item>\r\n\r\n              {\r\n                preference.allowRegister && (\r\n                  <div className=\"text-right\">\r\n                    <Link to={\"/user/register\"}>\r\n                      <span className=\"link\">{Lang.t(\"user.toToRegister\")}</span>\r\n                    </Link>\r\n                  </div>\r\n                )\r\n              }\r\n\r\n\r\n            </Form>\r\n\r\n          </Col>\r\n        </Row>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {Link, RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Register.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport {Button, Col, Form, Input, Row} from 'antd';\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport {LockOutlined, UserOutlined} from '@ant-design/icons';\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\n\r\ninterface IProps extends RouteComponentProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class Register extends TankComponent<IProps, IState> {\r\n\r\n  user: User = Moon.getSingleton().user\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  onFinish(values: any) {\r\n\r\n    let that = this\r\n\r\n    let user = that.user\r\n\r\n    user.httpRegister(values[\"username\"], values[\"password\"], function () {\r\n      MessageBoxUtil.success(Lang.t(\"user.loginSuccess\"))\r\n\r\n      that.props.history.push('/')\r\n\r\n    })\r\n\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    return (\r\n      <div className=\"user-register\">\r\n\r\n        <Row>\r\n          <Col xs={{span: 24}} md={{span: 8, offset: 6}}>\r\n\r\n            <div className=\"welcome\">\r\n              {Lang.t(\"user.welcomeRegister\")}\r\n            </div>\r\n\r\n            <Form\r\n              name=\"basic\"\r\n              initialValues={{remember: true}}\r\n              onFinish={this.onFinish.bind(this)}\r\n              onFinishFailed={this.onFinishFailed.bind(this)}\r\n            >\r\n              <Form.Item\r\n                name=\"username\"\r\n                rules={[{required: true, message: Lang.t(\"user.enterUsername\")}]}\r\n              >\r\n                <Input size=\"large\" placeholder={Lang.t(\"user.enterUsername\")} prefix={<UserOutlined/>}/>\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                name=\"password\"\r\n                rules={[{required: true, message: Lang.t(\"user.enterPassword\")}]}\r\n              >\r\n                <Input.Password size=\"large\" placeholder={Lang.t(\"user.enterPassword\")} prefix={<LockOutlined/>}/>\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                name=\"rePassword\"\r\n                dependencies={['password']}\r\n                hasFeedback\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: Lang.t(\"user.enterPassword\"),\r\n                  },\r\n                  ({getFieldValue}) => ({\r\n                    validator(rule, value) {\r\n                      if (!value || getFieldValue('password') === value) {\r\n                        return Promise.resolve();\r\n                      }\r\n                      return Promise.reject(Lang.t(\"user.passwordNotSame\"));\r\n                    },\r\n                  }),\r\n                ]}\r\n              >\r\n\r\n                <Input.Password size=\"large\" placeholder={Lang.t(\"user.confirmPassword\")} prefix={<LockOutlined/>}/>\r\n              </Form.Item>\r\n\r\n              <Form.Item>\r\n                <Button type=\"primary\" icon={<UserOutlined/>} block={true} htmlType=\"submit\">\r\n                  {Lang.t(\"user.register\")}\r\n                </Button>\r\n              </Form.Item>\r\n\r\n\r\n              <div className=\"text-right\">\r\n                <Link to={\"/user/login\"}>\r\n                  <span className=\"link\">{Lang.t(\"user.goToLogin\")}</span>\r\n                </Link>\r\n              </div>\r\n\r\n\r\n            </Form>\r\n\r\n          </Col>\r\n        </Row>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import BaseEntity from './BaseEntity';\r\nimport NumberUtil from '../../util/NumberUtil';\r\nimport SafeUtil from '../../util/SafeUtil';\r\nimport BrowserUtil from '../../util/BrowserUtil';\r\nimport StringUtil from '../../util/StringUtil';\r\nimport ObjectUtil from '../../util/ObjectUtil';\r\nimport Filter from './filter/Filter';\r\nimport SortFilter from './filter/SortFilter';\r\nimport HttpBase from './HttpBase';\r\n\r\n/**\r\n * \r\n * \r\n */\r\nexport default class Pager<T> extends HttpBase {\r\n\r\n  static MAX_PAGE_SIZE = 500;\r\n\r\n  /**\r\n   *  0\r\n   */\r\n  page: number = 0;\r\n  /**\r\n   * \r\n   */\r\n  pageSize: number = 10;\r\n  /**\r\n   * \r\n   */\r\n  totalItems: number = 0;\r\n  /**\r\n   * \r\n   */\r\n  totalPages: number = 0;\r\n\r\n  /**\r\n   * \r\n   */\r\n  data: T[] = [];\r\n\r\n  /**\r\n   * \r\n   */\r\n  Clazz: any = null;\r\n\r\n  /**\r\n   * url\r\n   */\r\n  urlPage: string | null = null;\r\n\r\n  /**\r\n   * \r\n   */\r\n  filters: Filter[] = [];\r\n\r\n  /**\r\n   * \r\n   */\r\n  history: boolean = false;\r\n\r\n\r\n  constructor(reactComponent: React.Component | null, Clazz: any, pageSize = 20) {\r\n\r\n    super(reactComponent);\r\n\r\n    this.pageSize = pageSize;\r\n\r\n    //js\r\n    if (Clazz && (Clazz.prototype instanceof BaseEntity)) {\r\n      this.Clazz = Clazz;\r\n\r\n      let urlPage = Clazz.prototype.getUrlList();\r\n      if (urlPage) {\r\n        this.urlPage = urlPage;\r\n      } else {\r\n        console.error(Clazz + 'url');\r\n      }\r\n\r\n      if (Clazz.prototype.getFilters) {\r\n\r\n        //\r\n        this.filters = Clazz.prototype.getFilters();\r\n\r\n      } else {\r\n\r\n        console.error('The Clazz MUST define a prototype method named \\'getFilters\\'');\r\n\r\n      }\r\n\r\n    } else {\r\n      console.error('You MUST specify a Clazz extended BaseEntity');\r\n    }\r\n  }\r\n\r\n  //objthis\r\n  assign(obj: any) {\r\n\r\n    super.assign(obj);\r\n\r\n    this.assignList('data', this.Clazz);\r\n\r\n  }\r\n\r\n\r\n  //queryfilterskeyvalue.\r\n  //filters\r\n  //\r\n  enableHistory() {\r\n    this.history = true;\r\n\r\n    let queryPageNum: string | null = BrowserUtil.getQueryByName('page');\r\n    let queryPageSize: string | null = BrowserUtil.getQueryByName('pageSize');\r\n\r\n    if (queryPageNum !== null && queryPageNum !== '') {\r\n      this.page = parseInt(queryPageNum);\r\n    }\r\n\r\n    if (queryPageSize !== null && queryPageSize !== '') {\r\n      this.pageSize = parseInt(queryPageSize);\r\n    }\r\n\r\n    if (!NumberUtil.isInteger(this.page)) {\r\n      this.page = 0;\r\n    }\r\n    if (!NumberUtil.isInteger(this.pageSize)) {\r\n      this.pageSize = 10;\r\n    }\r\n\r\n\r\n    //\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n\r\n      let filter: Filter = this.filters[i];\r\n\r\n      let queryValue = BrowserUtil.getQueryByName(filter.key);\r\n\r\n      if (queryValue !== null && queryValue !== '') {\r\n\r\n        filter.putValue(queryValue);\r\n\r\n      } else {\r\n        filter.reset();\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  //\r\n  resetFilter() {\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      filter.reset();\r\n    }\r\n  };\r\n\r\n  //\r\n  resetSortFilters() {\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      if (filter instanceof SortFilter) {\r\n        filter.reset();\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  //\r\n  setFilterValue(key: string, value: any) {\r\n    if (!this.filters || !this.filters.length) {\r\n      return;\r\n    }\r\n\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n\r\n      let filter = this.filters[i];\r\n\r\n      if (filter.key === key) {\r\n        filter.putValue(value);\r\n      }\r\n\r\n    }\r\n  };\r\n\r\n  setFilterValues(obj: any) {\r\n    const keys = Object.keys(obj);\r\n    if(keys.length) {\r\n      keys.forEach(key => this.setFilterValue(key, obj[key]))\r\n    }\r\n  };\r\n\r\n\r\n  //keyFilter\r\n  removeFilter(key: string) {\r\n    if (!this.filters || !this.filters.length) {\r\n      return;\r\n    }\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      if (filter.key === key) {\r\n        this.filters.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  //FilterfilterNbFilter\r\n  showFilter(key: string, visible = true) {\r\n    if (!this.filters || !this.filters.length) {\r\n      return;\r\n    }\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      if (filter.key === key) {\r\n        filter.visible = visible;\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  showAllFilter(visible = true) {\r\n    if (!this.filters || !this.filters.length) {\r\n      return;\r\n    }\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      filter.visible = visible;\r\n    }\r\n  }\r\n\r\n  //keyfilter\r\n  getFilter(key: string): Filter | null {\r\n    if (!this.filters || !this.filters.length) {\r\n      return null;\r\n    }\r\n\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      if (filter.key === key) {\r\n        return filter;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  //keyfilter\r\n  getFilterValue(key: string) {\r\n    let filter = this.getFilter(key);\r\n    if (!filter) {\r\n      return null\r\n    } else {\r\n      return filter.getValueString()\r\n    }\r\n  };\r\n\r\n\r\n  /**\r\n   * sortfilter\r\n   * \r\n   */\r\n  getCurrentSortFilter(): Filter | null {\r\n\r\n    if (!this.filters || !this.filters.length) {\r\n      return null;\r\n    }\r\n\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n      if (filter instanceof SortFilter) {\r\n        if (!filter.isEmpty()) {\r\n          return filter;\r\n        }\r\n      }\r\n\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n  //filter\r\n  getParams(): { [s: string]: string | number } {\r\n\r\n    let params: { [s: string]: string | number } = {\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n    };\r\n\r\n    if (!this.filters || !this.filters.length) {\r\n      return params;\r\n    }\r\n\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      let filter = this.filters[i];\r\n\r\n      if (!filter.isEmpty()) {\r\n        params[filter.key] = filter.getValueString();\r\n      }\r\n    }\r\n\r\n    return params;\r\n  };\r\n\r\n\r\n  //\r\n  isEmpty(): boolean {\r\n    return !this.data || !this.data.length;\r\n  }\r\n\r\n  //\r\n  httpList(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n\r\n    let that = this;\r\n\r\n    let params: { [s: string]: string | number } = this.getParams();\r\n\r\n\r\n    if (this.history) {\r\n      window.history.replaceState({}, '', window.location.pathname + '?' + ObjectUtil.param(params));\r\n    }\r\n\r\n\r\n    //\r\n    this.errorMessage = null;\r\n\r\n    this.httpGet(this.urlPage, params, function(response: any) {\r\n      // handle success\r\n\r\n      that.assign(response.data.data);\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, function(errorMessage: any, response: any) {\r\n\r\n      //\r\n      that.data = [];\r\n\r\n      SafeUtil.safeCallback(errorCallback)(errorMessage, response);\r\n\r\n    }, finalCallback);\r\n\r\n  }\r\n\r\n\r\n  //pagertable PaginationConfig\r\n  getPagination(): any | false {\r\n    let that = this;\r\n\r\n    if (this.totalPages > 1) {\r\n      return {\r\n        current: that.page + 1,\r\n        pageSize: that.pageSize,\r\n        total: that.totalItems,\r\n        showTotal: (totalNum: number) => '' + totalNum + '',\r\n        showSizeChanger: true,\r\n      };\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n\r\n  }\r\n\r\n  //,table\r\n  getDefaultSortOrder(columnKey: string): any | boolean {\r\n\r\n    //\r\n    let filterKey = 'order' + StringUtil.capitalize(columnKey);\r\n\r\n    //\r\n    let sortFilter = this.getFilter(filterKey);\r\n\r\n    if (sortFilter && (sortFilter instanceof SortFilter)) {\r\n\r\n      let antdSortValue: any | null = sortFilter.getAntdValue();\r\n      if (antdSortValue) {\r\n        return antdSortValue;\r\n      } else {\r\n        return false;\r\n      }\r\n\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  //table  TODO: PaginationConfig SorterResult TableCurrentDataSource\r\n  tableOnChange(pagination: any, filters: any, sorter: any, extra: any) {\r\n    let that = this;\r\n\r\n    if (pagination.current !== undefined) {\r\n      that.page = pagination.current - 1;\r\n    }\r\n\r\n    if (pagination.pageSize !== undefined) {\r\n\r\n      that.pageSize = pagination.pageSize;\r\n    }\r\n\r\n\r\n    //sort\r\n    that.resetSortFilters();\r\n    if (!StringUtil.isEmptyObject(sorter)) {\r\n\r\n      //\r\n      let filterKey = 'order' + StringUtil.capitalize(StringUtil.underScoreToCamel(sorter.field));\r\n\r\n\r\n      //\r\n      that.setFilterValue(filterKey, sorter.order);\r\n\r\n    }\r\n\r\n    //\r\n    that.httpList();\r\n  }\r\n\r\n  //data\r\n  clear() {\r\n    this.data = [];\r\n    this.page = 0;\r\n    this.totalItems = 0;\r\n    this.totalPages = 0;\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import MimeUtil from \"./MimeUtil\";\r\nimport StringUtil from \"./StringUtil\";\r\nimport Lang from \"../model/global/Lang\";\r\nimport CSV from \"comma-separated-values\";\r\n\r\nexport default class FileUtil {\r\n  static isImage(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return StringUtil.startWith(mimeType, \"image\");\r\n  }\r\n\r\n  static isPdf(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return StringUtil.startWith(mimeType, \"application/pdf\");\r\n  }\r\n\r\n  static isText(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return StringUtil.startWith(mimeType, \"text\");\r\n  }\r\n\r\n  static isDoc(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return (\r\n      StringUtil.startWith(mimeType, \"application/msword\") ||\r\n      StringUtil.startWith(\r\n        mimeType,\r\n        \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\r\n      )\r\n    );\r\n  }\r\n\r\n  static isPpt(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return (\r\n      StringUtil.startWith(mimeType, \"application/vnd.ms-powerpoint\") ||\r\n      StringUtil.startWith(\r\n        mimeType,\r\n        \"application/vnd.openxmlformats-officedocument.presentationml.presentation\"\r\n      )\r\n    );\r\n  }\r\n\r\n  static isXls(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return (\r\n      StringUtil.startWith(mimeType, \"application/vnd.ms-excel\") ||\r\n      StringUtil.startWith(\r\n        mimeType,\r\n        \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n      )\r\n    );\r\n  }\r\n\r\n  static isAudio(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return StringUtil.startWith(mimeType, \"audio\");\r\n  }\r\n\r\n  static isVideo(name: string | null): boolean {\r\n    let mimeType = MimeUtil.getMimeType(name);\r\n    return StringUtil.startWith(mimeType, \"video\");\r\n  }\r\n\r\n  static isPsd(name: string | null): boolean {\r\n    let extension = MimeUtil.getExtension(name);\r\n    return extension === \".psd\";\r\n  }\r\n\r\n  /**\r\n   * imageIconimageIcon\r\n   * @param name\r\n   * @param idDir\r\n   */\r\n  static getIcon(name: string | null, idDir: boolean = false): any {\r\n    if (idDir) {\r\n      return require(\"../../assets/image/file/folder.svg\");\r\n    }\r\n\r\n    if (FileUtil.isPdf(name)) {\r\n      return require(\"../../assets/image/file/pdf.svg\");\r\n    } else if (FileUtil.isDoc(name)) {\r\n      return require(\"../../assets/image/file/doc.svg\");\r\n    } else if (FileUtil.isPpt(name)) {\r\n      return require(\"../../assets/image/file/ppt.svg\");\r\n    } else if (FileUtil.isXls(name)) {\r\n      return require(\"../../assets/image/file/xls.svg\");\r\n    } else if (FileUtil.isAudio(name)) {\r\n      return require(\"../../assets/image/file/audio.svg\");\r\n    } else if (\r\n      FileUtil.isVideo(name) ||\r\n      MimeUtil.getExtension(name) === \".mkv\"\r\n    ) {\r\n      return require(\"../../assets/image/file/video.svg\");\r\n    } else if (FileUtil.isText(name)) {\r\n      return require(\"../../assets/image/file/text.svg\");\r\n    } else if (FileUtil.isPsd(name)) {\r\n      return require(\"../../assets/image/file/psd.svg\");\r\n    } else if (FileUtil.isImage(name)) {\r\n      return require(\"../../assets/image/file/image.svg\");\r\n    } else if (\r\n      StringUtil.endWith(name, \"zip\") ||\r\n      StringUtil.endWith(name, \"rar\") ||\r\n      StringUtil.endWith(name, \"7z\") ||\r\n      StringUtil.endWith(name, \"tar\") ||\r\n      StringUtil.endWith(name, \"tar\") ||\r\n      StringUtil.endWith(name, \"gz\")\r\n    ) {\r\n      return require(\"../../assets/image/file/archive.svg\");\r\n    } else {\r\n      return require(\"../../assets/image/file/file.svg\");\r\n    }\r\n  }\r\n\r\n\r\n  //\r\n  //human readable file size\r\n  static humanFileSize(bytes: number, si: boolean = false): string {\r\n    if (bytes == -1) {\r\n      return Lang.t(\"preference.noLimit\")\r\n    }\r\n\r\n    let thresh = si ? 1000 : 1024\r\n    if (Math.abs(bytes) < thresh) {\r\n      return bytes + ' B'\r\n    }\r\n    let units = si\r\n      ? ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']\r\n      : ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\r\n    let u = -1\r\n    do {\r\n      bytes /= thresh\r\n      ++u\r\n    } while (Math.abs(bytes) >= thresh && u < units.length - 1)\r\n    return bytes.toFixed(1) + ' ' + units[u]\r\n  }\r\n\r\n  static getErrorLogsToCSVUrl(logs: object) {\r\n    const _utf = \"\\uFEFF\"; // utf-8\r\n    if (window.Blob && window.URL && window.URL.createObjectURL) {\r\n      const csvStr = new CSV(logs, {\r\n        header: [\"filename\", \"path\", \"errorMsg\"],\r\n      }).encode();\r\n      const blob = new Blob([_utf + csvStr], {\r\n        type: \"text/csv\",\r\n      });\r\n      return URL.createObjectURL(blob);\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n}\r\n","import React from 'react';\r\n\r\nimport {Input} from 'antd';\r\nimport InputFilter from \"../../../common/model/base/filter/InputFilter\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\n\r\n\r\ninterface IProps {\r\n  inputFilter: InputFilter\r\n  onChange?: (value: string | null) => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class InputFilterBox extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n\r\n  }\r\n\r\n  //filter\r\n  onValueChange(event: any) {\r\n\r\n    let that = this\r\n\r\n    let inputFilter: InputFilter = this.props.inputFilter\r\n\r\n    inputFilter.value = event.target.value\r\n\r\n    //\r\n    SafeUtil.safeCallback(that.props.onChange)(inputFilter.value)\r\n\r\n    //UI\r\n    that.setState({})\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let inputFilter: InputFilter = this.props.inputFilter\r\n\r\n    return (\r\n      <span className=\"filter-block input-filter-box\">\r\n          <span className=\"filter-cell\">\r\n              <span className=\"filter-name\">\r\n                {inputFilter.name}\r\n              </span>\r\n              <span className=\"filter-body\">\r\n                <Input\r\n                  placeholder={inputFilter.placeholder}\r\n                  value={inputFilter.value}\r\n                  onChange={this.onValueChange.bind(this)}/>\r\n              </span>\r\n          </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","import Filter from \"./Filter\";\r\nimport DateUtil from \"../../../util/DateUtil\";\r\n\r\n\r\n/**\r\n *\r\n * \r\n *\r\n */\r\nexport default class DateTimeFilter extends Filter {\r\n\r\n  //\r\n  format: string\r\n\r\n  //null\r\n  value: Date | null = null\r\n\r\n  constructor(name: string, code: string, format?: string, visible?: boolean) {\r\n    super(name, code, visible)\r\n    if (format) {\r\n      this.format = format\r\n    } else {\r\n      this.format = DateUtil.DEFAULT_FORMAT\r\n    }\r\n  }\r\n\r\n  //\r\n  getValueString(): string {\r\n    if (this.value) {\r\n      return DateUtil.format(this.value, this.format)\r\n    } else {\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n\r\n  //\r\n  putValue(value: string) {\r\n\r\n    this.value = DateUtil.parse(value)\r\n  }\r\n\r\n\r\n  reset() {\r\n    this.value = null\r\n  }\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === null;\r\n  }\r\n\r\n\r\n\r\n}\r\n","import React from 'react';\r\n\r\nimport {DatePicker} from 'antd';\r\nimport moment from \"moment\";\r\nimport DateTimeFilter from \"../../../common/model/base/filter/DateTimeFilter\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\n\r\ninterface IProps {\r\n  dateTimeFilter: DateTimeFilter\r\n  onChange?: (value: Date | null) => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\n\r\nclass DateTimeFilterBox extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  //filter\r\n  onValueChange(momentTime: moment.Moment | null, dateString: string) {\r\n\r\n    let that = this\r\n\r\n    let filter = this.props.dateTimeFilter\r\n\r\n    if (momentTime) {\r\n\r\n      filter.value = momentTime.toDate()\r\n\r\n    } else {\r\n      filter.value = null\r\n    }\r\n\r\n    //\r\n    SafeUtil.safeCallback(that.props.onChange)(filter.value)\r\n\r\n    //UI\r\n    that.setState({})\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let dateTimeFilter = this.props.dateTimeFilter\r\n\r\n    let value: moment.Moment | undefined = undefined\r\n    if (dateTimeFilter.value) {\r\n      value = moment(dateTimeFilter.value)\r\n    }\r\n\r\n    return (\r\n      <span className=\"filter-block date-time-filter-box\">\r\n          <span className=\"filter-cell\">\r\n              <span className=\"filter-name\">\r\n                {dateTimeFilter.name}\r\n              </span>\r\n              <span className=\"filter-body\">\r\n\r\n                <DatePicker\r\n                  showTime\r\n                  format={dateTimeFilter.format}\r\n                  value={value}\r\n                  placeholder=\"\"\r\n                  onChange={(date: moment.Moment | null, dateString: string) => {\r\n                    that.onValueChange(date, dateString)\r\n                  }}/>\r\n              </span>\r\n          </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DateTimeFilterBox;\r\n","import Filter from \"./Filter\";\r\n\r\n\r\n/**\r\n *\r\n * Checkbox\r\n *\r\n */\r\nexport default class CheckFilter extends Filter {\r\n\r\n  //null\r\n  value: boolean | null = null\r\n\r\n  constructor(name: string, code: string, visible?: boolean) {\r\n    super(name, code, visible)\r\n  }\r\n\r\n\r\n  //[null,true,false] => [\"\",\"true\",\"false\"]\r\n  getValueString(): string {\r\n    let stringValue = \"\"\r\n    if (this.value === true) {\r\n      stringValue = \"true\"\r\n    } else if (this.value === false) {\r\n      stringValue = \"false\"\r\n    } else {\r\n      stringValue = \"\"\r\n    }\r\n    return stringValue\r\n  }\r\n\r\n  //\r\n  putValue(value: any) {\r\n\r\n    if (value === \"true\" || value === true) {\r\n      this.value = true\r\n    } else if (value === \"false\" || value === false) {\r\n      this.value = false\r\n    } else {\r\n      this.value = null\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.value = null\r\n  }\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === null;\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\n\r\nimport {Select} from 'antd';\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport CheckFilter from \"../../../common/model/base/filter/CheckFilter\";\r\n\r\nconst Option = Select.Option;\r\n\r\ninterface IProps {\r\n  checkFilter: CheckFilter\r\n  onChange?: (value: boolean | null) => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class CheckFilterBox extends React.Component <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  //filter\r\n  onValueChange = (value: string) => {\r\n\r\n    let that = this\r\n\r\n    let checkFilter = this.props.checkFilter\r\n\r\n    checkFilter.putValue(value)\r\n\r\n    //\r\n    SafeUtil.safeCallback(that.props.onChange)(checkFilter.value)\r\n\r\n    //UI\r\n    that.setState({})\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let checkFilter = this.props.checkFilter\r\n\r\n    //\r\n    let backValue = checkFilter.getValueString()\r\n\r\n    return (\r\n      <span className=\"filter-block check-filter-box\">\r\n\r\n        <span className=\"filter-cell\">\r\n          <span className=\"filter-name\">\r\n            {checkFilter.name}\r\n          </span>\r\n\r\n          <Select value={backValue} style={{minWidth: 120}}\r\n                  onChange={this.onValueChange}>\r\n            <Option key={0} value={\"\"}></Option>\r\n            <Option key={1} value={\"true\"}></Option>\r\n            <Option key={2} value={\"false\"}></Option>\r\n          </Select>\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\n\r\nimport {Radio, Select} from 'antd';\r\nimport SelectionFilter from \"../../../common/model/base/filter/SelectionFilter\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport SelectionOption from \"../../../common/model/base/option/SelectionOption\";\r\nimport SelectionFilterType from \"../../../common/model/base/filter/SelectionFilterType\";\r\n\r\n\r\nconst Option = Select.Option;\r\n\r\ninterface IProps {\r\n  selectionFilter: SelectionFilter\r\n  onChange?: (value: string) => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class SelectionFilterBox extends React.Component <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  //filter\r\n  onValueChange = (value: any) => {\r\n\r\n    let that = this\r\n\r\n    let selectionFilter = this.props.selectionFilter\r\n\r\n    selectionFilter.value = value\r\n\r\n    //\r\n    SafeUtil.safeCallback(that.props.onChange)()\r\n\r\n    //UI\r\n    that.setState({})\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let selectionFilter = this.props.selectionFilter\r\n\r\n    if (selectionFilter.selectionType === SelectionFilterType.COMBOBOX) {\r\n      return (\r\n        <span className=\"filter-block selection-combobox-filter-box\">\r\n          <span className=\"filter-cell\">\r\n            <span className=\"filter-name\">\r\n              {selectionFilter.name}\r\n            </span>\r\n            <Select value={selectionFilter.value} style={{minWidth: 120}} onChange={this.onValueChange}>\r\n              <Option key={-1} value={\"\"}></Option>\r\n              {\r\n                selectionFilter.options.map((item: SelectionOption, index: number) => {\r\n                  return <Option key={index} value={item.value}>{item.name}</Option>\r\n                })\r\n              }\r\n            </Select>\r\n          </span>\r\n        </span>\r\n      );\r\n    } else {\r\n      return (\r\n        <span className=\"filter-block selection-button-filter-box\">\r\n          <span className=\"filter-cell\">\r\n              <span className=\"filter-name\">\r\n                  {selectionFilter.name}\r\n              </span>\r\n              <Radio.Group\r\n                onChange={(e) => {\r\n                  this.onValueChange(e.target.value)\r\n                }}\r\n                //\"\"\r\n                value={selectionFilter.value === '' ? undefined : selectionFilter.value}\r\n              >\r\n                <Radio.Button value={''}></Radio.Button>\r\n                {selectionFilter.options ?\r\n                  selectionFilter.options.map((item: SelectionOption, index: number) => {\r\n                    return <Radio.Button key={index} value={item.value}>{item.name}</Radio.Button>\r\n                  })\r\n                  : null}\r\n              </Radio.Group>\r\n          </span>\r\n        </span>\r\n\r\n      );\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\n\r\nimport {Select} from 'antd';\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport SortFilter from \"../../../common/model/base/filter/SortFilter\";\r\nimport SortDirection from \"../../../common/model/base/SortDirection\";\r\n\r\nconst Option = Select.Option;\r\n\r\ninterface IProps {\r\n  sortFilter: SortFilter\r\n  onChange?: (value: SortDirection | null) => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class SortFilterBox extends React.Component <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  //filter\r\n  onValueChange = (value: string) => {\r\n\r\n    let that = this\r\n\r\n    let sortFilter = this.props.sortFilter\r\n\r\n    sortFilter.putValue(value)\r\n\r\n    //\r\n    SafeUtil.safeCallback(that.props.onChange)(sortFilter.value)\r\n\r\n    //UI\r\n    that.setState({})\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let sortFilter = this.props.sortFilter\r\n\r\n    return (\r\n      <span className=\"filter-block sort-filter-box\">\r\n\r\n        <span className=\"filter-cell\">\r\n          <span className=\"filter-name\">\r\n            {sortFilter.name}\r\n          </span>\r\n\r\n          <Select value={sortFilter.getValueString()} style={{minWidth: 120}}\r\n                  onChange={this.onValueChange}>\r\n            <Option key={0} value={\"\"}></Option>\r\n            <Option key={1} value={SortDirection.DESC}></Option>\r\n            <Option key={2} value={SortDirection.ASC}></Option>\r\n          </Select>\r\n        </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import SelectionFilter from \"./SelectionFilter\";\r\nimport SelectionFilterType from \"./SelectionFilterType\";\r\n\r\n\r\n/**\r\n *\r\n * \r\n *\r\n */\r\nexport default class HttpSelectionFilter extends SelectionFilter {\r\n\r\n  //\r\n  url: string\r\n\r\n  constructor(name: string, code: string, url: string, selectionType?: SelectionFilterType, visible?: boolean) {\r\n    super(name, code, [], selectionType, visible)\r\n    this.url = url\r\n  }\r\n\r\n  //\r\n  //\r\n  putValue(value: string) {\r\n    this.value = value\r\n  }\r\n\r\n  //\r\n  //httpHttpSelectionFilter\r\n  strictPutValue(value: string) {\r\n    super.putValue(value)\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\n\r\nimport {Radio, Select} from \"antd\"\r\nimport HttpUtil from \"../../../common/util/HttpUtil\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport SelectionOption from \"../../../common/model/base/option/SelectionOption\";\r\nimport HttpSelectionFilter from \"../../../common/model/base/filter/HttpSelectionFilter\";\r\nimport SelectionFilterType from \"../../../common/model/base/filter/SelectionFilterType\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\n\r\n\r\nconst Option = Select.Option;\r\n\r\ninterface IProps {\r\n  httpSelectionFilter: HttpSelectionFilter\r\n  onChange?: (value: string) => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n\r\nexport default class HttpSelectionFilterBox extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.refresh()\r\n  }\r\n\r\n  refresh() {\r\n    //\r\n    let that = this\r\n\r\n    let filter = this.props.httpSelectionFilter\r\n\r\n    let url = filter.url\r\n\r\n    HttpUtil.httpGet(url, {}, function (response: any) {\r\n\r\n      //\r\n      filter.options = response.data.data\r\n      filter.strictPutValue(filter.value)\r\n\r\n      that.updateUI()\r\n    })\r\n\r\n  }\r\n\r\n  //filter\r\n  onValueChange = (value: any) => {\r\n    let that = this\r\n\r\n    let filter = this.props.httpSelectionFilter\r\n\r\n    filter.value = value\r\n\r\n    //\r\n    SafeUtil.safeCallback(that.props.onChange)(filter.value)\r\n\r\n    //UI\r\n    that.updateUI()\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let filter = this.props.httpSelectionFilter\r\n\r\n    let selectionOptions = filter.options\r\n\r\n    if (filter.selectionType === SelectionFilterType.COMBOBOX) {\r\n      return (\r\n        <span className=\"filter-block http-selection-combobox-filter-box\">\r\n        <span className=\"filter-cell\">\r\n          <span className=\"filter-name\">\r\n                {filter.name}\r\n            </span>\r\n          <Select value={filter.value} style={{minWidth: 180}} onChange={this.onValueChange}>\r\n            <Option key={-1} value={\"\"}></Option>\r\n            {\r\n              selectionOptions.map((item: SelectionOption, index: number) => {\r\n                return <Option title={item.name} key={index} value={item.value}>{item.name}</Option>\r\n              })\r\n            }\r\n          </Select>\r\n        </span>\r\n    </span>);\r\n    } else {\r\n      return (\r\n        <span className=\"filter-block http-selection-button-filter-box\">\r\n          <span className=\"filter-cell\">\r\n\r\n            <span className=\"filter-name\">\r\n                  {filter.name}\r\n              </span>\r\n              <Radio.Group\r\n                onChange={(e) => {\r\n                  this.onValueChange(e.target.value)\r\n                }}\r\n                //\"\"\r\n                value={filter.value === '' ? undefined : filter.value}\r\n              >\r\n                <Radio.Button value={''}></Radio.Button>\r\n                {\r\n                  selectionOptions.map((item: SelectionOption, index: number) => {\r\n                    return <Radio.Button key={index} value={item.value}>{item.name}</Radio.Button>\r\n                  })\r\n                }\r\n              </Radio.Group>\r\n          </span>\r\n        </span>\r\n\r\n      );\r\n    }\r\n\r\n\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\n\r\nimport {DatePicker} from 'antd';\r\nimport moment from \"moment\";\r\nimport {default as DateFilter} from \"../../../common/model/base/filter/DateFilter\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\n\r\ninterface IProps {\r\n  dateFilter: DateFilter\r\n  onChange?: (value: Date | null) => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\n\r\nclass DateFilterBox extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  //filter\r\n  onValueChange(momentTime: moment.Moment | null, dateString: string) {\r\n\r\n    let that = this\r\n\r\n    let filter = this.props.dateFilter\r\n\r\n    if (momentTime) {\r\n\r\n      filter.value = momentTime.toDate()\r\n\r\n    } else {\r\n      filter.value = null\r\n    }\r\n\r\n    //\r\n    SafeUtil.safeCallback(that.props.onChange)(filter.value)\r\n\r\n    //UI\r\n    that.setState({})\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let dateFilter = this.props.dateFilter\r\n\r\n    let value: moment.Moment | undefined = undefined\r\n    if (dateFilter.value) {\r\n      value = moment(dateFilter.value)\r\n    }\r\n\r\n    return (\r\n      <span className=\"filter-block date-time-filter-box\">\r\n          <span className=\"filter-cell\">\r\n              <span className=\"filter-name\">\r\n                {dateFilter.name}\r\n              </span>\r\n              <span className=\"filter-body\">\r\n\r\n                <DatePicker\r\n                  showTime\r\n                  format={dateFilter.format}\r\n                  value={value}\r\n                  placeholder=\"\"\r\n                  onChange={(date: moment.Moment | null, dateString: string) => {\r\n                    that.onValueChange(date, dateString)\r\n                  }}/>\r\n              </span>\r\n          </span>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DateFilterBox;\r\n","import Filter from \"./Filter\";\r\nimport DateUtil from \"../../../util/DateUtil\";\r\n\r\n\r\n/**\r\n *\r\n * \r\n *\r\n */\r\nexport default class DateFilter extends Filter {\r\n\r\n  //\r\n  format: string\r\n\r\n  //null\r\n  value: Date | null = null\r\n\r\n  constructor(name: string, code: string, format?: string, visible?: boolean) {\r\n    super(name, code, visible)\r\n    if (format) {\r\n      this.format = format\r\n    } else {\r\n      this.format = DateUtil.DATE_FORMAT\r\n    }\r\n  }\r\n\r\n  //\r\n  getValueString(): string {\r\n    if (this.value) {\r\n      return DateUtil.format(this.value, this.format)\r\n    } else {\r\n      return \"\"\r\n    }\r\n  }\r\n\r\n\r\n  //\r\n  putValue(value: string) {\r\n\r\n    this.value = DateUtil.parse(value)\r\n  }\r\n\r\n\r\n  reset() {\r\n    this.value = null\r\n  }\r\n\r\n  isEmpty(): boolean {\r\n    return this.value === null;\r\n  }\r\n\r\n\r\n\r\n}\r\n","import React from 'react';\r\nimport './FilterPanel.less';\r\nimport SafeUtil from '../../../common/util/SafeUtil';\r\nimport Filter from '../../../common/model/base/filter/Filter';\r\nimport InputFilter from '../../../common/model/base/filter/InputFilter';\r\nimport InputFilterBox from './InputFilterBox';\r\nimport DateTimeFilter from '../../../common/model/base/filter/DateTimeFilter';\r\nimport DateTimeFilterBox from './DateTimeFilterBox';\r\nimport CheckFilter from '../../../common/model/base/filter/CheckFilter';\r\nimport CheckFilterBox from './CheckFilterBox';\r\nimport SelectionFilter from '../../../common/model/base/filter/SelectionFilter';\r\nimport SelectionFilterBox from './SelectionFilterBox';\r\nimport SortFilter from '../../../common/model/base/filter/SortFilter';\r\nimport SortFilterBox from './SortFilterBox';\r\nimport HttpSelectionFilter from '../../../common/model/base/filter/HttpSelectionFilter';\r\nimport HttpSelectionFilterBox from './HttpSelectionFilterBox';\r\nimport {Button} from 'antd';\r\n\r\nimport DateFilterBox from './DateFilterBox';\r\nimport DateFilter from '../../../common/model/base/filter/DateFilter';\r\n\r\n\r\ninterface IProps {\r\n  onChange?: (value: any, key: any) => void\r\n\r\n  filters: Filter[]\r\n\r\n  //Selection  Button\r\n  selectionButtonLoose?: boolean\r\n\r\n  //\r\n  onReset?: () => void\r\n\r\n  //\r\n  onSearch?: () => void\r\n\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\n\r\n/**\r\n * \r\n * \r\n * css\r\n */\r\nexport default class FilterPanel extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  //filter\r\n  onChildChange(value: any, key: any) {\r\n\r\n    let that = this;\r\n\r\n    //\r\n    SafeUtil.safeCallback(that.props.onChange)(value, key);\r\n\r\n    //UI\r\n    that.setState({});\r\n\r\n  }\r\n\r\n  //filter\r\n  onReset() {\r\n\r\n    let that = this;\r\n    let filters = that.props.filters;\r\n\r\n    for (let i = 0; i < filters.length; i++) {\r\n      let filter = filters[i];\r\n      filter.reset();\r\n    }\r\n\r\n\r\n    //\r\n    SafeUtil.safeCallback(that.props.onReset)();\r\n\r\n    //UI\r\n    that.setState({});\r\n  }\r\n\r\n\r\n  //filter\r\n  onSearch() {\r\n\r\n    let that = this;\r\n\r\n    //\r\n    SafeUtil.safeCallback(that.props.onSearch)();\r\n\r\n    //UI\r\n    that.setState({});\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n    //router\r\n    let filters = this.props.filters;\r\n\r\n    let needSearchButton: boolean = !!this.props.onSearch;\r\n\r\n    let needResetButton: boolean = !!this.props.onReset;\r\n\r\n    return (\r\n      <div className={`widget-filter-panel ${this.props.selectionButtonLoose ? 'selection-button-loose' : ''}`}>\r\n        {\r\n          filters.map(((filter: Filter, index: number) => {\r\n\r\n            if ((filter instanceof InputFilter) && filter.visible) {\r\n              return (\r\n                <InputFilterBox key={index} inputFilter={filter} onChange={(val) => {\r\n                  that.onChildChange(val, filter.key);\r\n                }}/>\r\n              );\r\n            } else if ((filter instanceof DateTimeFilter) && filter.visible) {\r\n              return (\r\n                <DateTimeFilterBox key={index} dateTimeFilter={filter} onChange={(val) => {\r\n                  that.onChildChange(val, filter.key);\r\n                }}/>\r\n              );\r\n            } else if ((filter instanceof DateFilter) && filter.visible) {\r\n              return (\r\n                <DateFilterBox key={index} dateFilter={filter} onChange={(val) => {\r\n                  that.onChildChange(val, filter.key);\r\n                }}/>\r\n              );\r\n            } else if ((filter instanceof CheckFilter) && filter.visible) {\r\n              return (\r\n                <CheckFilterBox key={index} checkFilter={filter} onChange={(val) => {\r\n                  that.onChildChange(val, filter.key);\r\n                }}/>\r\n              );\r\n            } else if ((filter instanceof HttpSelectionFilter) && filter.visible) {\r\n              //\r\n              return (\r\n                <HttpSelectionFilterBox key={index} httpSelectionFilter={filter}\r\n                                        onChange={(val) => {\r\n                                          that.onChildChange(val, filter.key);\r\n                                        }}/>\r\n              );\r\n            } else if ((filter instanceof SelectionFilter) && filter.visible) {\r\n              return (\r\n                <SelectionFilterBox key={index} selectionFilter={filter} onChange={(val) => {\r\n                  that.onChildChange(val, filter.key);\r\n                }}/>\r\n              );\r\n            } else if ((filter instanceof SortFilter) && filter.visible) {\r\n              return (\r\n                <SortFilterBox key={index} sortFilter={filter}\r\n                               onChange={(val) => {\r\n                                 that.onChildChange(val, filter.key);\r\n                               }}/>\r\n              );\r\n            } else {\r\n              return null;\r\n            }\r\n\r\n          }))\r\n        }\r\n\r\n        <div className=\"operation-area\">\r\n          <Button\r\n            className={`${needResetButton ? '' : 'display-none'}`}\r\n\r\n            onClick={this.onReset.bind(this)}>\r\n            \r\n          </Button>\r\n\r\n          <Button\r\n            className={`${needSearchButton ? '' : 'display-none'}`}\r\n            type=\"primary\"\r\n            onClick={this.onSearch.bind(this)}>\r\n            \r\n          </Button>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport {Empty} from 'antd';\r\nimport EmptyImage from \"../../assets/image/empty.svg\"\r\nimport ErrorImage from \"../../assets/image/error.png\"\r\nimport SafeUtil from \"../../common/util/SafeUtil\";\r\nimport \"./TableEmpty.less\"\r\nimport Pager from \"../../common/model/base/Pager\";\r\n\r\ninterface IProps {\r\n  pager: Pager<any>\r\n  onRefresh?: () => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nclass TableEmpty extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let pager = this.props.pager\r\n\r\n\r\n    let emptyContent = (\r\n      <div className=\"empty-content\">\r\n        <Empty\r\n          image={EmptyImage}\r\n          description=\"\"\r\n        >\r\n          <span className=\"link\" onClick={event => {\r\n            SafeUtil.safeCallback(that.props.onRefresh)()\r\n          }\r\n          }></span>\r\n        </Empty>\r\n      </div>\r\n    )\r\n    let errorContent = (\r\n      <div className=\"error-content\">\r\n        <Empty\r\n          image={ErrorImage}\r\n          description={pager.errorMessage}\r\n        >\r\n          <span className=\"link\" onClick={event => {\r\n            SafeUtil.safeCallback(that.props.onRefresh)()\r\n          }\r\n          }></span>\r\n        </Empty>\r\n      </div>\r\n    )\r\n\r\n    return (\r\n      <div className=\"widget-table-empty\">\r\n        {pager.errorMessage ? errorContent : (pager.data.length ? \"\" : emptyContent)}\r\n      </div>\r\n\r\n    )\r\n      ;\r\n  }\r\n}\r\n\r\nexport default TableEmpty;\r\n","import React from \"react\";\r\nimport \"./TankTitle.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\n\r\ninterface IProps {\r\n  name: React.ReactNode;\r\n}\r\n\r\ninterface IState {}\r\n\r\n/**\r\n * \r\n */\r\nexport default class TankTitle extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"widget-tank-title\">\r\n        <span className=\"item active\">\r\n          {this.props.name}\r\n        </span>\r\n        <span className=\"tool\">\r\n          {this.props.children}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import SafeUtil from \"./SafeUtil\";\r\n\r\nexport default class ClipboardUtil {\r\n\r\n\r\n  /**\r\n   * \r\n   *\r\n   */\r\n  static copy(text: string, successCallback: () => void, errorCallback?: () => void) {\r\n\r\n    let className = \"clipboard-textarea-util\"\r\n\r\n    let textAreaElement: HTMLTextAreaElement | null = document.querySelector(\".\" + className);\r\n\r\n    if (!textAreaElement) {\r\n      textAreaElement = document.createElement(\"textarea\")\r\n      textAreaElement.className = className\r\n      textAreaElement.style.cssText = \"position:fixed;opacity:0;z-index:0;width:5px;height:5px;\"\r\n      document.body.appendChild(textAreaElement)\r\n    }\r\n\r\n    textAreaElement.value = text\r\n    textAreaElement.select();\r\n\r\n    try {\r\n      let successful = document.execCommand('copy');\r\n      if (successful) {\r\n        successCallback()\r\n      } else {\r\n        SafeUtil.safeCallback(errorCallback)()\r\n      }\r\n    } catch (err) {\r\n      console.error('', err);\r\n      SafeUtil.safeCallback(errorCallback)()\r\n    }\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport Button from 'antd/lib/button';\r\nimport {Modal} from \"antd\"\r\nimport \"./TransfigurationModal.less\"\r\nimport User from \"../../../common/model/user/User\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport BrowserUtil from \"../../../common/util/BrowserUtil\";\r\nimport ClipboardUtil from \"../../../common/util/ClipboardUtil\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport Moon from \"../../../common/model/global/Moon\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  user: User\r\n  onClose: () => void\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class TransfigurationModal extends TankComponent<IProps, IState> {\r\n\r\n  authentication: string = \"\"\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    let that = this\r\n\r\n    this.props.user.httpTransfiguration(function (text: string) {\r\n\r\n      that.authentication = text\r\n      that.updateUI()\r\n\r\n    })\r\n\r\n  }\r\n\r\n  static open(user: User) {\r\n\r\n    let modal = Modal.success({\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\"\r\n      },\r\n      icon: null,\r\n      content: <TransfigurationModal\r\n        user={user}\r\n        onClose={() => {\r\n          modal.destroy()\r\n        }}/>,\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n\r\n    let that = this\r\n\r\n    let textToCopy = BrowserUtil.fullHost() + \"/user/authentication/\" + that.authentication\r\n\r\n    return (\r\n      <div className=\"widget-transfiguration-modal\">\r\n\r\n        <div className=\"text-center\">\r\n          <h2>\r\n            {Lang.t(\"user.transfigurationPromptText\")}\r\n          </h2>\r\n        </div>\r\n        <div>\r\n          {Lang.t(\"user.transfigurationPrompt\")}\r\n        </div>\r\n        <div>\r\n          {textToCopy}\r\n        </div>\r\n\r\n        <div className=\"text-center mt20\">\r\n\r\n          <Button className=\"ml20\" type=\"default\" onClick={() => {\r\n            this.props.onClose()\r\n          }}>{Lang.t(\"close\")}</Button>\r\n\r\n          <Button className=\"ml20\"\r\n                  type=\"primary\"\r\n                  onClick={() => {\r\n\r\n                    ClipboardUtil.copy(textToCopy, function () {\r\n                      MessageBoxUtil.success(Lang.t(\"copySuccess\"))\r\n                      that.props.onClose()\r\n                    }, function () {\r\n                      MessageBoxUtil.error(Lang.t(\"copyError\"))\r\n                    })\r\n                  }}>{Lang.t(\"copy\")}</Button>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport { Link, RouteComponentProps } from \"react-router-dom\";\r\nimport \"./List.less\";\r\nimport SortDirection from \"../../common/model/base/SortDirection\";\r\nimport Pager from \"../../common/model/base/Pager\";\r\nimport StringUtil from \"../../common/util/StringUtil\";\r\nimport FileUtil from \"../../common/util/FileUtil\";\r\nimport DateUtil from \"../../common/util/DateUtil\";\r\nimport FilterPanel from \"../widget/filter/FilterPanel\";\r\nimport TableEmpty from \"../widget/TableEmpty\";\r\nimport User from \"../../common/model/user/User\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport { ColumnProps } from \"antd/lib/table\";\r\nimport { Table, Button, Modal, Tag, Tooltip } from \"antd\";\r\nimport {\r\n  CheckCircleOutlined,\r\n  PlusOutlined,\r\n  StopOutlined,\r\n  UserSwitchOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { UserRoleMap } from \"../../common/model/user/UserRole\";\r\nimport { UserStatus, UserStatusMap } from \"../../common/model/user/UserStatus\";\r\nimport {\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  ExclamationCircleFilled,\r\n} from \"@ant-design/icons/lib\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Color from \"../../common/model/base/option/Color\";\r\nimport TransfigurationModal from \"./widget/TransfigurationModal\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class List extends TankComponent<IProps, IState> {\r\n  //\r\n  pager: Pager<User> = new Pager<User>(this, User, 10);\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    //\r\n    let that = this;\r\n\r\n    that.pager.enableHistory();\r\n\r\n    that.refresh();\r\n  }\r\n\r\n  search() {\r\n    let that = this;\r\n    that.pager.page = 0;\r\n    that.refresh();\r\n  }\r\n\r\n  refresh() {\r\n    let that = this;\r\n\r\n    //\r\n    if (!that.pager.getCurrentSortFilter()) {\r\n      that.pager.setFilterValue(\"orderCreateTime\", SortDirection.DESC);\r\n    }\r\n\r\n    that.pager.httpList();\r\n  }\r\n\r\n  toggleStatus(user: User) {\r\n    let that = this;\r\n    user.httpToggleStatus(function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n      that.updateUI();\r\n    });\r\n  }\r\n\r\n  delete(user: User) {\r\n    let that = this;\r\n    Modal.confirm({\r\n      title: Lang.t(\"user.deleteHint\", user.username),\r\n      icon: <ExclamationCircleFilled twoToneColor={Color.WARNING} />,\r\n      onOk: () => {\r\n        user.httpDel(function () {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          that.refresh();\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  transfiguration(user: User) {\r\n    let that = this;\r\n    TransfigurationModal.open(user);\r\n  }\r\n\r\n  render() {\r\n    let that = this;\r\n\r\n    //router\r\n    let match = this.props.match;\r\n\r\n    //pager\r\n    let pager = this.pager;\r\n\r\n    let user: User = Moon.getSingleton().user;\r\n\r\n    const columns: ColumnProps<User>[] = [\r\n      {\r\n        title: Lang.t(\"user.avatar\"),\r\n        dataIndex: \"avatarUrl\",\r\n        render: (text: any, record: User, index: number): React.ReactNode => (\r\n          <Link to={StringUtil.prePath(match.path) + \"/detail/\" + record.uuid}>\r\n            <img\r\n              alt=\"avatar\"\r\n              className=\"avatar-small cursor\"\r\n              src={record.getAvatarUrl()}\r\n            />\r\n          </Link>\r\n        ),\r\n      },\r\n      {\r\n        title: Lang.t(\"user.username\"),\r\n        dataIndex: \"username\",\r\n        render: (text: any, record: User, index: number): React.ReactNode => {\r\n          return (\r\n            <div>\r\n              <div>\r\n                <Link\r\n                  to={StringUtil.prePath(match.path) + \"/detail/\" + record.uuid}\r\n                >\r\n                  {record.username}\r\n                </Link>\r\n              </div>\r\n              {user.uuid === record.uuid && (\r\n                <div className=\"text-danger\">(It's you)</div>\r\n              )}\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        title: Lang.t(\"user.role\"),\r\n        dataIndex: \"role\",\r\n        render: (text: any, record: User, index: number): React.ReactNode => (\r\n          <Tag color={UserRoleMap[record.role].color}>\r\n            {UserRoleMap[record.role].name}\r\n          </Tag>\r\n        ),\r\n      },\r\n      {\r\n        title: Lang.t(\"user.singleFileSizeLimit\"),\r\n        dataIndex: \"sizeLimit\",\r\n        render: (text: any, record: User, index: number): React.ReactNode => (\r\n          <span>{FileUtil.humanFileSize(record.sizeLimit)}</span>\r\n        ),\r\n      },\r\n      {\r\n        title: Lang.t(\"user.totalFileSize\"),\r\n        dataIndex: \"totalSize\",\r\n        render: (text: any, record: User, index: number): React.ReactNode => (\r\n          <span>{FileUtil.humanFileSize(record.totalSize)}</span>\r\n        ),\r\n      },\r\n      {\r\n        title: Lang.t(\"user.totalFileSizeLimit\"),\r\n        dataIndex: \"totalSizeLimit\",\r\n        render: (text: any, record: User, index: number): React.ReactNode => (\r\n          <span>{FileUtil.humanFileSize(record.totalSizeLimit)}</span>\r\n        ),\r\n      },\r\n      {\r\n        title: Lang.t(\"user.status\"),\r\n        dataIndex: \"status\",\r\n        render: (text: any, record: User, index: number): React.ReactNode => (\r\n          <Tag color={UserStatusMap[record.status].color}>\r\n            {UserStatusMap[record.status].name}\r\n          </Tag>\r\n        ),\r\n      },\r\n      {\r\n        title: Lang.t(\"user.lastLogin\"),\r\n        dataIndex: \"lastTime\",\r\n        render: (text: any, record: User, index: number): React.ReactNode => (\r\n          <div>\r\n            <div>{record.lastIp}</div>\r\n            <div>{DateUtil.simpleDateTime(record.lastTime)}</div>\r\n          </div>\r\n        ),\r\n      },\r\n      {\r\n        title: Lang.t(\"createTime\"),\r\n        dataIndex: \"createTime\",\r\n        sorter: true,\r\n        sortOrder: pager.getDefaultSortOrder(\"createTime\"),\r\n        sortDirections: [SortDirection.DESCEND, SortDirection.ASCEND],\r\n        render: (text: any, record: User, index: number): React.ReactNode =>\r\n          DateUtil.simpleDateTime(text),\r\n      },\r\n      {\r\n        title: Lang.t(\"operation\"),\r\n        dataIndex: \"action\",\r\n        render: (text: any, record: User) => (\r\n          <span>\r\n            <Link\r\n              title={Lang.t(\"edit\")}\r\n              to={StringUtil.prePath(match.path) + \"/edit/\" + record.uuid}\r\n            >\r\n              <Tooltip title={Lang.t(\"edit\")}>\r\n                <EditOutlined className=\"btn-action\" />\r\n              </Tooltip>\r\n            </Link>\r\n\r\n            {record.status === UserStatus.OK && record.uuid !== user.uuid && (\r\n              <Tooltip title={Lang.t(\"user.disableUser\")}>\r\n                <StopOutlined\r\n                  className=\"btn-action\"\r\n                  style={{ color: Color.DANGER }}\r\n                  onClick={this.toggleStatus.bind(this, record)}\r\n                />\r\n              </Tooltip>\r\n            )}\r\n\r\n            {record.status === UserStatus.DISABLED &&\r\n              record.uuid !== user.uuid && (\r\n                <Tooltip title={Lang.t(\"user.activeUser\")}>\r\n                  <CheckCircleOutlined\r\n                    className=\"btn-action\"\r\n                    style={{ color: Color.SUCCESS }}\r\n                    onClick={this.toggleStatus.bind(this, record)}\r\n                  />\r\n                </Tooltip>\r\n              )}\r\n\r\n            {record.status === UserStatus.DISABLED &&\r\n              record.uuid !== user.uuid && (\r\n                <Tooltip title={Lang.t(\"user.deleteUser\")}>\r\n                  <DeleteOutlined\r\n                    className=\"btn-action\"\r\n                    style={{ color: Color.DANGER }}\r\n                    onClick={this.delete.bind(this, record)}\r\n                  />\r\n                </Tooltip>\r\n              )}\r\n\r\n            {record.uuid !== user.uuid && (\r\n              <Tooltip title={Lang.t(\"user.transfiguration\")}>\r\n                <UserSwitchOutlined\r\n                  className=\"btn-action\"\r\n                  style={{ color: Color.PRIMARY }}\r\n                  onClick={this.transfiguration.bind(this, record)}\r\n                />\r\n              </Tooltip>\r\n            )}\r\n          </span>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <div className=\"page-user-list\">\r\n        <TankTitle name={Lang.t(\"layout.users\")}>\r\n          <Link to={\"/user/create\"}>\r\n            <Button type={\"primary\"} icon={<PlusOutlined />}>\r\n              {Lang.t(\"user.createUser\")}\r\n            </Button>\r\n          </Link>\r\n        </TankTitle>\r\n\r\n        <div>\r\n          <FilterPanel\r\n            filters={pager.filters}\r\n            onChange={this.search.bind(this)}\r\n          />\r\n        </div>\r\n        <Table\r\n          rowKey=\"uuid\"\r\n          loading={pager.loading}\r\n          dataSource={pager.data}\r\n          columns={columns}\r\n          pagination={pager.getPagination()}\r\n          onChange={pager.tableOnChange.bind(pager)}\r\n          locale={{\r\n            emptyText: (\r\n              <TableEmpty pager={pager} onRefresh={this.refresh.bind(this)} />\r\n            ),\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport \"./InfoCell.less\"\r\nimport {Col, Row} from \"antd\"\r\n\r\ninterface IProps {\r\n  name: string\r\n  firstSpan?: number\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class InfoCell extends React.Component <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n    let name: string = this.props.name\r\n\r\n    let firstSpan: number = 8\r\n    if (this.props.firstSpan !== undefined) {\r\n      firstSpan = this.props.firstSpan\r\n    }\r\n    let secondSpan: number = 24 - firstSpan\r\n\r\n    return (\r\n      <Row className=\"castle-widget-info-cell\">\r\n        <Col span={firstSpan} className=\"info-cell-name\">{name}</Col>\r\n        <Col span={secondSpan} className=\"info-cell-content\">\r\n          {that.props.children}\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport VelocityReact from \"velocity-react\";\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class Expanding extends Component<IProps, IState> {\r\n  render() {\r\n    return (\r\n      <VelocityReact.VelocityTransitionGroup\r\n        enter={{ animation: \"slideDown\" }}\r\n        leave={{ animation: \"slideUp\" }}\r\n      >\r\n        {this.props.children}\r\n      </VelocityReact.VelocityTransitionGroup>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport InfoCell from \"../../widget/InfoCell\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport User from \"../../../common/model/user/User\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserRoleMap } from \"../../../common/model/user/UserRole\";\r\nimport { Tag, Tooltip } from \"antd\";\r\nimport FileUtil from \"../../../common/util/FileUtil\";\r\nimport {\r\n  UserStatus,\r\n  UserStatusMap,\r\n} from \"../../../common/model/user/UserStatus\";\r\nimport DateUtil from \"../../../common/util/DateUtil\";\r\nimport {\r\n  EditOutlined,\r\n  StopOutlined,\r\n  CheckCircleOutlined,\r\n  UserSwitchOutlined,\r\n  DeleteOutlined,\r\n  EllipsisOutlined,\r\n} from \"@ant-design/icons\";\r\nimport Color from \"../../../common/model/base/option/Color\";\r\nimport Expanding from \"../../widget/Expanding\";\r\nimport \"./MobileUserPanel.less\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport Sun from \"../../../common/model/global/Sun\";\r\n\r\ninterface IProps {\r\n  user: User;\r\n  isCurrentUser: boolean;\r\n  onToggleStatus: (user: User) => any;\r\n  onDelete: (user: User) => any;\r\n  onTransfiguration: (user: User) => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class MobileUserPanel extends TankComponent<IProps, IState> {\r\n  // \r\n  showMore: boolean = false;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  clickRow() {\r\n    Sun.navigateTo(`/user/detail/${this.props.user.uuid}`);\r\n  };\r\n\r\n  toggleHandles() {\r\n    this.showMore = !this.showMore;\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { user, isCurrentUser } = this.props;\r\n\r\n    return (\r\n      <div className=\"mobile-user\">\r\n        <div className=\"panel\" onClick={() => this.clickRow()}>\r\n          <img className=\"avatar\" src={user.getAvatarUrl()} />\r\n          <p className=\"username one-line\">{user.username}</p>\r\n          <Tag color={UserRoleMap[user.role].color}>\r\n            {UserRoleMap[user.role].name}\r\n          </Tag>\r\n          <EllipsisOutlined\r\n            className=\"btn-action navy f18 hot-area\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(this.toggleHandles())\r\n            }\r\n          />\r\n        </div>\r\n\r\n        <Expanding>\r\n          {this.showMore ? (\r\n            <div className=\"ml10 panel-detail\">\r\n              <InfoCell name={Lang.t(\"user.singleFileSizeLimit\")}>\r\n                <span>{FileUtil.humanFileSize(user.sizeLimit)}</span>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"user.totalFileSize\")}>\r\n                <span>{FileUtil.humanFileSize(user.totalSize)}</span>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"user.totalFileSizeLimit\")}>\r\n                <span>{FileUtil.humanFileSize(user.totalSizeLimit)}</span>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"user.status\")}>\r\n                <Tag color={UserStatusMap[user.status].color}>\r\n                  {UserStatusMap[user.status].name}\r\n                </Tag>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"user.lastLogin\")}>\r\n                <div>\r\n                  <div>{user.lastIp}</div>\r\n                  <div>{DateUtil.simpleDateTime(user.lastTime)}</div>\r\n                </div>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"createTime\")}>\r\n                <span>{DateUtil.simpleDateTime(user.createTime)}</span>\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"operation\")}>\r\n                <div>\r\n                  <Link title={Lang.t(\"edit\")} to={\"/user/edit/\" + user.uuid}>\r\n                    <Tooltip title={Lang.t(\"edit\")}>\r\n                      <EditOutlined className=\"btn-action\" />\r\n                    </Tooltip>\r\n                  </Link>\r\n                  {user.status === UserStatus.OK && !isCurrentUser && (\r\n                    <Tooltip title={Lang.t(\"user.disableUser\")}>\r\n                      <StopOutlined\r\n                        className=\"btn-action\"\r\n                        style={{ color: Color.DANGER }}\r\n                        onClick={() => this.props.onToggleStatus(user)}\r\n                      />\r\n                    </Tooltip>\r\n                  )}\r\n                  {user.status === UserStatus.DISABLED && !isCurrentUser && (\r\n                    <>\r\n                      <Tooltip title={Lang.t(\"user.activeUser\")}>\r\n                        <CheckCircleOutlined\r\n                          className=\"btn-action\"\r\n                          style={{ color: Color.SUCCESS }}\r\n                          onClick={() => this.props.onToggleStatus(user)}\r\n                        />\r\n                      </Tooltip>\r\n                      <Tooltip title={Lang.t(\"user.deleteUser\")}>\r\n                        <DeleteOutlined\r\n                          className=\"btn-action\"\r\n                          style={{ color: Color.DANGER }}\r\n                          onClick={() => this.props.onDelete(user)}\r\n                        />\r\n                      </Tooltip>\r\n                    </>\r\n                  )}\r\n                  {!isCurrentUser && (\r\n                    <Tooltip title={Lang.t(\"user.transfiguration\")}>\r\n                      <UserSwitchOutlined\r\n                        className=\"btn-action\"\r\n                        style={{ color: Color.PRIMARY }}\r\n                        onClick={() => this.props.onTransfiguration(user)}\r\n                      />\r\n                    </Tooltip>\r\n                  )}\r\n                </div>\r\n              </InfoCell>\r\n            </div>\r\n          ) : null}\r\n        </Expanding>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Link, RouteComponentProps } from \"react-router-dom\";\r\nimport \"./MobileList.less\";\r\nimport SortDirection from \"../../common/model/base/SortDirection\";\r\nimport Pager from \"../../common/model/base/Pager\";\r\nimport User from \"../../common/model/user/User\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport { Button, Modal, Input, Pagination } from \"antd\";\r\nimport { PlusOutlined, ExclamationCircleFilled } from \"@ant-design/icons\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Color from \"../../common/model/base/option/Color\";\r\nimport TransfigurationModal from \"./widget/TransfigurationModal\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport MobileUserPanel from \"./widget/MobileUserPanel\";\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class MobileList extends TankComponent<IProps, IState> {\r\n  //\r\n  pager: Pager<User> = new Pager<User>(this, User, 10);\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount(): void {\r\n    this.pager.enableHistory();\r\n    this.refresh();\r\n  }\r\n\r\n  search() {\r\n    this.pager.page = 0;\r\n    this.refresh();\r\n  };\r\n\r\n  refresh() {\r\n    //\r\n    if (!this.pager.getCurrentSortFilter()) {\r\n      this.pager.setFilterValue(\"orderCreateTime\", SortDirection.DESC);\r\n    }\r\n    this.pager.httpList();\r\n  };\r\n\r\n  toggleStatus(user: User) {\r\n    user.httpToggleStatus(() => {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n      this.updateUI();\r\n    });\r\n  };\r\n\r\n  delete(user: User) {\r\n    Modal.confirm({\r\n      title: Lang.t(\"user.deleteHint\", user.username),\r\n      icon: <ExclamationCircleFilled twoToneColor={Color.WARNING} />,\r\n      onOk: () => {\r\n        user.httpDel(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.refresh();\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  transfiguration(user: User) {\r\n    TransfigurationModal.open(user);\r\n  };\r\n\r\n  searchFile(value?: string) {\r\n    this.pager.resetFilter();\r\n    if (value) {\r\n      this.pager.setFilterValue(\"orderCreateTime\", SortDirection.DESC);\r\n      this.pager.setFilterValue(\"username\", value);\r\n      this.pager.httpList();\r\n    } else {\r\n      this.refresh();\r\n    }\r\n  };\r\n\r\n  changeSearch(e: any) {\r\n    if (!e.currentTarget.value) this.searchFile();\r\n  };\r\n\r\n  changePage(page: number) {\r\n    this.pager.page = page - 1; // page0\r\n    this.pager.httpList();\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { pager } = this;\r\n    const currentUser = Moon.getSingleton().user;\r\n    return (\r\n      <div className=\"page-user-list-mobile\">\r\n        <TankTitle name={Lang.t(\"layout.users\")}>\r\n          <Link to={\"/user/create\"}>\r\n            <Button type={\"primary\"} icon={<PlusOutlined />}>\r\n              {Lang.t(\"user.createUser\")}\r\n            </Button>\r\n          </Link>\r\n        </TankTitle>\r\n\r\n        <div>\r\n          <Input.Search\r\n            className=\"mb10\"\r\n            placeholder={Lang.t(\"user.searchUser\")}\r\n            onSearch={(value) => this.searchFile(value)}\r\n            onChange={this.changeSearch.bind(this)}\r\n            enterButton\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          {pager.data.map((user) => (\r\n            <MobileUserPanel\r\n              key={user.uuid!}\r\n              user={user}\r\n              isCurrentUser={currentUser.uuid === user.uuid}\r\n              onToggleStatus={this.toggleStatus.bind(this)}\r\n              onDelete={this.delete.bind(this)}\r\n              onTransfiguration={this.transfiguration.bind(this)}\r\n            />\r\n          ))}\r\n        </div>\r\n        <Pagination\r\n          className=\"mt10 pull-right\"\r\n          onChange={this.changePage.bind(this)}\r\n          current={pager.page + 1}\r\n          total={pager.totalItems}\r\n          pageSize={pager.pageSize}\r\n          hideOnSinglePage\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport \"./TankContentCard.less\"\r\nimport TankComponent from '../../common/component/TankComponent';\r\nimport {LoadingOutlined} from \"@ant-design/icons/lib\";\r\n\r\ninterface IProps {\r\n  loading?: boolean\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport default class TankContentCard extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    //\r\n    let that = this\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let content: React.ReactNode\r\n\r\n    if (that.props.loading) {\r\n      content = (\r\n        <div className='loading-area'>\r\n          <LoadingOutlined className='loading-icon'/>\r\n        </div>\r\n      )\r\n    } else {\r\n      content = that.props.children\r\n    }\r\n\r\n    return (\r\n      <div className=\"widget-tank-content-card\">\r\n        {content}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./ImagePreviewer.less\"\r\nimport PhotoSwipe from 'photoswipe'\r\nimport PhotoSwipeUIDefault from 'photoswipe/dist/photoswipe-ui-default'\r\n//PhotoSwipe\r\nimport \"photoswipe/dist/photoswipe.css\";\r\nimport \"photoswipe/dist/default-skin/default-skin.css\";\r\n\r\n\r\n/**\r\n * \r\n * \r\n */\r\nexport default class ImagePreviewer {\r\n\r\n  private static pswpDom(): HTMLElement {\r\n    let innerHTML = `\r\n    <!-- Background of PhotoSwipe.\r\n         It's a separate element as animating opacity is faster than rgba(). -->\r\n    <div class=\"pswp__bg\"></div>\r\n\r\n    <!-- Slides wrapper with overflow:hidden. -->\r\n    <div class=\"pswp__scroll-wrap\">\r\n\r\n        <!-- Container that holds slides.\r\n            PhotoSwipe keeps only 3 of them in the DOM to save memory.\r\n            Don't modify these 3 pswp__item elements, data is added later on. -->\r\n        <div class=\"pswp__container\">\r\n            <div class=\"pswp__item\"></div>\r\n            <div class=\"pswp__item\"></div>\r\n            <div class=\"pswp__item\"></div>\r\n        </div>\r\n\r\n        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->\r\n        <div class=\"pswp__ui pswp__ui--hidden\">\r\n\r\n            <div class=\"pswp__top-bar\">\r\n\r\n                <!--  Controls are self-explanatory. Order can be changed. -->\r\n\r\n                <div class=\"pswp__counter\"></div>\r\n\r\n                <button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button>\r\n\r\n                <button class=\"pswp__button pswp__button--share\" title=\"Share\"></button>\r\n\r\n                <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button>\r\n\r\n                <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button>\r\n\r\n                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->\r\n                <!-- element will get class pswp__preloader--active when preloader is running -->\r\n                <div class=\"pswp__preloader\">\r\n                    <div class=\"pswp__preloader__icn\">\r\n                      <div class=\"pswp__preloader__cut\">\r\n                        <div class=\"pswp__preloader__donut\"></div>\r\n                      </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">\r\n                <div class=\"pswp__share-tooltip\"></div>\r\n            </div>\r\n\r\n            <button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\">\r\n            </button>\r\n\r\n            <button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\">\r\n            </button>\r\n\r\n            <div class=\"pswp__caption\">\r\n                <div class=\"pswp__caption__center\"></div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    `\r\n\r\n    let div: HTMLElement = document.createElement('div');\r\n    div.className = \"pswp\";\r\n    div.setAttribute(\"tabIndex\", \"-1\")\r\n    div.setAttribute(\"role\", \"dialog\")\r\n    div.setAttribute(\"aria-hidden\", \"true\")\r\n\r\n    div.innerHTML = innerHTML\r\n\r\n    return div\r\n  }\r\n\r\n  //\r\n  static showSinglePhoto(url: string) {\r\n\r\n    ImagePreviewer.showMultiPhoto([url], 0)\r\n\r\n  }\r\n\r\n  //\r\n  static showMultiPhoto(urls: string[], index: number = 0) {\r\n\r\n    let that = this;\r\n    let items: PhotoSwipe.Item[] = [];\r\n    urls.forEach((url) => {\r\n      items.push({\r\n        src: url,\r\n        w: 0,\r\n        h: 0\r\n      })\r\n    })\r\n\r\n    let options = {\r\n      //\r\n      history: false,\r\n      //\r\n      fullscreenEl: false,\r\n      //\r\n      shareEl: false,\r\n      //\r\n      tapToToggleControls: false,\r\n      //0\r\n      index: index\r\n    };\r\n\r\n    //dom\r\n    let div = ImagePreviewer.pswpDom()\r\n    //body\r\n    document.body.appendChild(div);\r\n\r\n    let photoSwipe = new PhotoSwipe(div, PhotoSwipeUIDefault, items, options);\r\n\r\n    photoSwipe.listen('gettingData', function (index, item) {\r\n\r\n      if (!item.w || !item.h || item.w < 1 || item.h < 1) {\r\n\r\n        //\r\n        const img: HTMLImageElement = new Image()\r\n        img.onload = function () {\r\n          item.w = img.width\r\n          item.h = img.height\r\n          photoSwipe.updateSize(true); // reinit Items\r\n        }\r\n        img.src = item.src!\r\n      }\r\n    })\r\n    photoSwipe.init();\r\n\r\n    photoSwipe.listen('close', () => {\r\n      if (div.parentNode) {\r\n        //\r\n        div.parentNode.removeChild(div);\r\n      }\r\n    })\r\n    photoSwipe.listen('afterChange', () => {\r\n\r\n    })\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport Button from 'antd/lib/button';\r\nimport {Input, Modal} from \"antd\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\n\r\ninterface IProps {\r\n  value: string\r\n  title?: string\r\n  onSuccess: (val: string) => void\r\n  onClose: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n  innerValue: string\r\n}\r\n\r\nexport default class SingleTextModal extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {\r\n      innerValue: this.props.value\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  static open(title: string, initialValue: string, onSuccess: (text: string) => void) {\r\n\r\n    let modal = Modal.success({\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\"\r\n      },\r\n      icon: null,\r\n      content: <SingleTextModal\r\n        title={title}\r\n        value={initialValue}\r\n        onSuccess={(val: string) => {\r\n\r\n          modal.destroy()\r\n\r\n          onSuccess(val)\r\n\r\n        }}\r\n        onClose={() => {\r\n          modal.destroy()\r\n        }}/>,\r\n    })\r\n\r\n  }\r\n\r\n\r\n  onSubmitClick() {\r\n    if (this.state.innerValue) {\r\n      this.props.onSuccess(this.state.innerValue)\r\n    } else {\r\n      MessageBoxUtil.error(\"\")\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    return (\r\n      <div className=\"widget-single-text-modal\">\r\n\r\n        <div className=\"text-center\">\r\n          <h2>\r\n            {that.props.title}\r\n          </h2>\r\n        </div>\r\n\r\n        <Input value={this.state.innerValue} onChange={(e) => {\r\n          that.setState({\r\n            innerValue: e.target.value\r\n          })\r\n\r\n        }}/>\r\n\r\n        <div className=\"text-center mt20\">\r\n\r\n          <Button className=\"ml20\" type=\"default\" onClick={() => {\r\n            this.props.onClose()\r\n          }}></Button>\r\n\r\n          <Button className=\"ml20\"\r\n                  type=\"primary\"\r\n                  onClick={() => {\r\n                    this.onSubmitClick()\r\n                  }}></Button>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Button from 'antd/lib/button';\r\nimport {Form, Input, Modal} from \"antd\"\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport User from \"../../../common/model/user/User\";\r\nimport Moon from \"../../../common/model/global/Moon\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  user: User\r\n  onSuccess: () => void\r\n  onClose: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class ChangePasswordModal extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  static open(user: User, onSuccess: () => void) {\r\n\r\n    let modal = Modal.success({\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\"\r\n      },\r\n      icon: null,\r\n      content: <ChangePasswordModal\r\n        user={user}\r\n        onSuccess={() => {\r\n          modal.destroy()\r\n          onSuccess()\r\n        }}\r\n        onClose={() => {\r\n          modal.destroy()\r\n        }}/>,\r\n    })\r\n\r\n  }\r\n\r\n\r\n  onFinish(values: any) {\r\n\r\n\r\n    let that = this\r\n\r\n    let currentUser: User = this.props.user\r\n\r\n    currentUser.httpChangePassword(values[\"oldPassword\"], values[\"repeatPassword\"], function () {\r\n\r\n\r\n      that.props.onSuccess()\r\n\r\n    })\r\n\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    const layout = {\r\n      labelCol: {span: 8},\r\n      wrapperCol: {span: 16},\r\n    };\r\n    const tailLayout = {\r\n      wrapperCol: {offset: 8, span: 16},\r\n    };\r\n\r\n    return (\r\n      <div className=\"widget-single-text-modal\">\r\n\r\n        <div className=\"text-center\">\r\n          <h2>\r\n            {Lang.t(\"user.editSomebodyPassword\", that.props.user.username)}\r\n          </h2>\r\n        </div>\r\n\r\n        <Form\r\n          {...layout}\r\n          name=\"basic\"\r\n          onFinish={this.onFinish.bind(this)}\r\n          onFinishFailed={this.onFinishFailed.bind(this)}\r\n        >\r\n          <Form.Item\r\n            label={Lang.t(\"user.oldPassword\")}\r\n            name=\"oldPassword\"\r\n            rules={[{required: true, message: Lang.t(\"user.enterPassword\")}]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"user.newPassword\")}\r\n            name=\"password\"\r\n            rules={[{required: true, message: Lang.t(\"user.enterNewPassword\")}]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name=\"repeatPassword\"\r\n            label={Lang.t(\"user.confirmPassword\")}\r\n            dependencies={['password']}\r\n            hasFeedback\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: Lang.t(\"user.enterNewPassword\"),\r\n              },\r\n              ({getFieldValue}) => ({\r\n                validator(rule, value) {\r\n                  if (!value || getFieldValue('password') === value) {\r\n                    return Promise.resolve();\r\n                  }\r\n                  return Promise.reject(Lang.t(\"user.passwordNotSame\"));\r\n                },\r\n              }),\r\n            ]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n\r\n          <Form.Item {...tailLayout}>\r\n\r\n            <Button className=\"ml20\" type=\"default\" onClick={() => {\r\n              this.props.onClose()\r\n            }}>{Lang.t(\"close\")}</Button>\r\n\r\n            <Button className=\"ml20\"\r\n                    type=\"primary\" htmlType=\"submit\">{Lang.t(\"submit\")}</Button>\r\n\r\n          </Form.Item>\r\n\r\n        </Form>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport \"./Detail.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport { Button, Tag, Space } from \"antd\";\r\nimport InfoCell from \"../widget/InfoCell\";\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport DateUtil from \"../../common/util/DateUtil\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport { Link, RouteComponentProps } from \"react-router-dom\";\r\nimport ImagePreviewer from \"../widget/previewer/ImagePreviewer\";\r\nimport { UserRole, UserRoleMap } from \"../../common/model/user/UserRole\";\r\nimport FileUtil from \"../../common/util/FileUtil\";\r\nimport { UserStatus, UserStatusMap } from \"../../common/model/user/UserStatus\";\r\nimport BrowserUtil from \"../../common/util/BrowserUtil\";\r\nimport SingleTextModal from \"../widget/SingleTextModal\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport ChangePasswordModal from \"./widget/ChangePasswordModal\";\r\nimport {\r\n  EditOutlined,\r\n  UnlockOutlined,\r\n  UserSwitchOutlined,\r\n} from \"@ant-design/icons\";\r\nimport TransfigurationModal from \"./widget/TransfigurationModal\";\r\nimport { FileSyncOutlined, StopOutlined } from \"@ant-design/icons/lib\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\n\r\ninterface RouteParam {\r\n  uuid: string;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<RouteParam> {}\r\n\r\ninterface IState {}\r\n\r\nexport default class Detail extends TankComponent<IProps, IState> {\r\n  //\r\n  user: User = Moon.getSingleton().user;\r\n\r\n  //\r\n  currentUser: User = new User(this);\r\n\r\n  //sync loading.\r\n  syncLoading: boolean = false;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n    let match = this.props.match;\r\n    this.currentUser.uuid = match.params.uuid;\r\n    this.currentUser.httpDetail();\r\n  }\r\n\r\n  resetPassword() {\r\n    let that = this;\r\n\r\n    SingleTextModal.open(Lang.t(\"user.enterNewPassword\"), \"\", function (\r\n      text: string\r\n    ) {\r\n      that.currentUser.httpResetPassword(text, function (response: any) {\r\n        MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n      });\r\n    });\r\n  }\r\n\r\n  transfiguration() {\r\n    let user: User = this.user;\r\n    let currentUser: User = this.currentUser;\r\n    TransfigurationModal.open(currentUser);\r\n  }\r\n\r\n  toggleStatus() {\r\n    let that = this;\r\n    let user: User = this.user;\r\n    let currentUser: User = this.currentUser;\r\n    currentUser.httpToggleStatus(function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n      that.updateUI();\r\n    });\r\n  }\r\n\r\n  syncPhysics() {\r\n    let that = this;\r\n    let user: User = this.user;\r\n    let currentUser: User = this.currentUser;\r\n    this.syncLoading = true;\r\n    currentUser.httpScan(\r\n      function () {\r\n        MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n        that.updateUI();\r\n      },\r\n      null,\r\n      function () {\r\n        that.syncLoading = false;\r\n        that.updateUI();\r\n      }\r\n    );\r\n  }\r\n\r\n  changePassword() {\r\n    let user: User = this.user;\r\n    let currentUser: User = this.currentUser;\r\n    ChangePasswordModal.open(currentUser, function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const user: User = this.user;\r\n    const currentUser: User = this.currentUser;\r\n\r\n    const handles = (\r\n      <Space className={`handles ${Sun.getSingleton().isMobile ? 'handles-mobile': ''}`}>\r\n        {user.role === UserRole.ADMINISTRATOR && (\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<UnlockOutlined />}\r\n            onClick={this.resetPassword.bind(this)}\r\n          >\r\n            {Lang.t(\"user.resetPassword\")}\r\n          </Button>\r\n        )}\r\n\r\n        {user.role === UserRole.ADMINISTRATOR && (\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<UserSwitchOutlined />}\r\n            onClick={this.transfiguration.bind(this)}\r\n          >\r\n            {Lang.t(\"user.transfiguration\")}\r\n          </Button>\r\n        )}\r\n\r\n        {currentUser.uuid === user.uuid && (\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={this.changePassword.bind(this)}\r\n            icon={<UnlockOutlined />}\r\n          >\r\n            {Lang.t(\"user.changePassword\")}\r\n          </Button>\r\n        )}\r\n\r\n        <Link to={\"/user/edit/\" + currentUser.uuid}>\r\n          <Button type=\"primary\" icon={<EditOutlined />}>\r\n            {Lang.t(\"edit\")}\r\n          </Button>\r\n        </Link>\r\n\r\n        {user.role === UserRole.ADMINISTRATOR &&\r\n          currentUser.uuid !== user.uuid && (\r\n            <Button\r\n              type=\"primary\"\r\n              danger={currentUser.status === UserStatus.OK}\r\n              icon={<StopOutlined />}\r\n              onClick={this.toggleStatus.bind(this)}\r\n            >\r\n              {currentUser.status === UserStatus.OK\r\n                ? Lang.t(\"user.disable\")\r\n                : Lang.t(\"user.active\")}\r\n            </Button>\r\n          )}\r\n\r\n        {user.role === UserRole.ADMINISTRATOR && (\r\n          <Button\r\n            type=\"primary\"\r\n            icon={<FileSyncOutlined />}\r\n            loading={this.syncLoading}\r\n            onClick={this.syncPhysics.bind(this)}\r\n          >\r\n            {Lang.t(\"user.sync\")}\r\n          </Button>\r\n        )}\r\n      </Space>\r\n    );\r\n\r\n    return (\r\n      <div className=\"page-user-detail\">\r\n        <TankTitle name={Lang.t(\"user.profile\")}>\r\n          {!Sun.getSingleton().isMobile && handles}\r\n        </TankTitle>\r\n        {Sun.getSingleton().isMobile && handles}\r\n\r\n        <TankContentCard loading={currentUser.detailLoading}>\r\n          <div className=\"text-center mv20\">\r\n            <img\r\n              className=\"avatar-large\"\r\n              alt=\"avatar\"\r\n              src={currentUser.getAvatarUrl()}\r\n              onClick={() => {\r\n                ImagePreviewer.showSinglePhoto(currentUser.getAvatarUrl(true));\r\n              }}\r\n            />\r\n            <div className=\"f24\">{currentUser.username}</div>\r\n          </div>\r\n\r\n          <InfoCell name={Lang.t(\"user.role\")}>\r\n            <Tag color={UserRoleMap[currentUser.role].color}>\r\n              {UserRoleMap[currentUser.role].name}\r\n            </Tag>\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.singleFileSizeLimit\")}>\r\n            {FileUtil.humanFileSize(currentUser.sizeLimit)}\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.totalFileSizeLimit\")}>\r\n            {FileUtil.humanFileSize(currentUser.totalSizeLimit)}\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.totalFileSize\")}>\r\n            {FileUtil.humanFileSize(currentUser.totalSize)}\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.status\")}>\r\n            <Tag color={UserStatusMap[currentUser.status].color}>\r\n              {UserStatusMap[currentUser.status].name}\r\n            </Tag>\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.lastLoginIp\")}>\r\n            {currentUser.lastIp}\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.lastLoginTime\")}>\r\n            {DateUtil.simpleDateTime(currentUser.lastTime)}\r\n          </InfoCell>\r\n\r\n          <InfoCell name={Lang.t(\"user.webdavLink\")}>\r\n            {BrowserUtil.fullHost() + \"/api/dav\"}\r\n          </InfoCell>\r\n\r\n          {currentUser.role === UserRole.ADMINISTRATOR && (\r\n            <InfoCell name={Lang.t(\"user.docLink\")}>\r\n              <a\r\n                className=\"f14\"\r\n                href=\"https://tank-doc.eyeblue.cn\"\r\n                target=\"_blank\"\r\n              >\r\n                https://tank-doc.eyeblue.cn\r\n              </a>\r\n            </InfoCell>\r\n          )}\r\n        </TankContentCard>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default class EnvUtil {\r\n    static currentHost() {\r\n      return window.location.protocol + \"//\" + window.location.host;\r\n    }\r\n}\r\n","import \"./BrowserPreviewer.less\"\r\nimport React from \"react\";\r\nimport * as ReactDOM from 'react-dom';\r\nimport FileUtil from \"../../../common/util/FileUtil\";\r\nimport {CloseOutlined} from \"@ant-design/icons\";\r\n\r\ninterface IProps {\r\n  name: string\r\n  url: string\r\n  size: number\r\n  onClose: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n/**\r\n * \r\n * \r\n */\r\nexport default class BrowserPreviewer extends React.Component<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  //\r\n  static show(name: string, url: string, size: number) {\r\n\r\n    let that = this;\r\n\r\n    const div: Element = document.createElement('div');\r\n    document.body.appendChild(div);\r\n\r\n    let element: React.ReactElement = React.createElement(\r\n      BrowserPreviewer,\r\n      {\r\n        name: name,\r\n        url: url,\r\n        size: size,\r\n        onClose: () => {\r\n          //\r\n          const unmountResult = ReactDOM.unmountComponentAtNode(div);\r\n          if (unmountResult && div.parentNode) {\r\n\r\n            div.parentNode.removeChild(div);\r\n\r\n          }\r\n        }\r\n      }\r\n    )\r\n\r\n    //reactdiv\r\n    ReactDOM.render(element, div);\r\n\r\n  }\r\n\r\n  render() {\r\n    return <div className=\"browser-previewer\">\r\n      <div className=\"title-bar\">\r\n\r\n        <div className=\"left-part\">\r\n\r\n        </div>\r\n\r\n        <div className=\"middle-part\">\r\n          {this.props.name}({FileUtil.humanFileSize(this.props.size)})\r\n        </div>\r\n\r\n        <div className=\"right-part\">\r\n        <span className=\"close btn-action\">\r\n          <CloseOutlined onClick={() => {\r\n            this.props.onClose()\r\n          }}/>\r\n        </span>\r\n        </div>\r\n\r\n\r\n      </div>\r\n      <div className=\"frame-area\">\r\n        <iframe width=\"100%\" height=\"100%\" src={this.props.url}>\r\n          iframe may not supported.\r\n        </iframe>\r\n      </div>\r\n    </div>\r\n  }\r\n\r\n}\r\n\r\n","import BaseEntity from \"../../base/BaseEntity\";\r\nimport DateUtil from \"../../../util/DateUtil\";\r\nimport SafeUtil from \"../../../util/SafeUtil\";\r\n\r\nexport default class DownloadToken extends BaseEntity {\r\n  userUuid: string | null = null;\r\n  matterUuid: string | null = null;\r\n  expireTime: string | null = null;\r\n  ip: string | null = null;\r\n\r\n  static URL_FETCH_DOWNLOAD_TOKEN = \"/api/alien/fetch/download/token\";\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n    super(reactComponent);\r\n  }\r\n\r\n  getUrlPrefix() {\r\n    return \"/api/download/token\";\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n    this.assignEntity(\"expireTime\", Date);\r\n  }\r\n\r\n  getFilters() {\r\n    return [...super.getFilters()];\r\n  }\r\n\r\n  httpFetchDownloadToken(\r\n    matterUuid: string,\r\n    successCallback?: () => any,\r\n    errorCallback?: () => any\r\n  ) {\r\n    let that = this;\r\n    let date = new Date(new Date().getTime() + 10 * 60 * 1000);\r\n\r\n    let form = {\r\n      expireTime: DateUtil.simpleDateTime(date),\r\n      matterUuid,\r\n    };\r\n    this.httpPost(\r\n      DownloadToken.URL_FETCH_DOWNLOAD_TOKEN,\r\n      form,\r\n      function (response: any) {\r\n        that.assign(response.data.data);\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n}\r\n","import \"./ImagePreviewer.less\";\r\nimport MimeUtil from \"../../../common/util/MimeUtil\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport Moon from \"../../../common/model/global/Moon\";\r\nimport PreviewEngine from \"../../../common/model/preference/model/PreviewEngine\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport BrowserPreviewer from \"./BrowserPreviewer\";\r\nimport DownloadToken from \"../../../common/model/download/token/DownloadToken\";\r\n\r\n/**\r\n * \r\n */\r\nexport default class PreviewerHelper {\r\n\r\n  static b64EncodeUnicode(str: string) {\r\n    // first we use encodeURIComponent to get percent-encoded UTF-8,\r\n    // then we convert the percent encodings into raw bytes which\r\n    // can be fed into btoa.\r\n    return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,\r\n      // function toSolidBytes(match, p1) {\r\n      (match, p1) => {\r\n        // console.debug('match: ' + match);\r\n        return String.fromCharCode((\"0x\" + p1) as any);\r\n      }));\r\n  }\r\n\r\n  static b64DecodeUnicode(str: string) {\r\n    // Going backwards: from bytestream, to percent-encoding, to original string.\r\n    return decodeURIComponent(atob(str).split('').map(function (c) {\r\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n    }).join(''));\r\n  }\r\n\r\n  /**\r\n   * url\r\n   */\r\n  static prepareMatterUrl(\r\n    matter: Matter,\r\n    needTokenUrl: boolean,\r\n    successCallback: (matterUrl: string) => void\r\n  ) {\r\n    if (needTokenUrl) {\r\n      //token.\r\n      let downloadToken = new DownloadToken();\r\n      downloadToken.httpFetchDownloadToken(matter.uuid!, function () {\r\n        let matterUrl = matter.getPreviewUrl(downloadToken.uuid!);\r\n\r\n        successCallback(matterUrl);\r\n      });\r\n    } else {\r\n      successCallback(matter.getPreviewUrl());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param matter \r\n   * @param previewUrl urlpreviewUrl\r\n   */\r\n  static preview(matter: Matter, previewUrl?: string) {\r\n    let fileName: string = matter.name;\r\n    let extension: string = MimeUtil.getExtensionWithoutDot(fileName);\r\n    if (!extension) {\r\n      MessageBoxUtil.warning(fileName + \" \");\r\n      return;\r\n    }\r\n\r\n    //\r\n    let previewConfig = Moon.getSingleton().preference.previewConfig;\r\n\r\n    let previewEngine: PreviewEngine | null = null;\r\n\r\n    //\r\n    for (let engine of previewConfig.previewEngines) {\r\n      if (engine.canPreview(fileName)) {\r\n        previewEngine = engine;\r\n        break;\r\n      }\r\n    }\r\n\r\n    //\r\n    if (previewEngine === null) {\r\n      let defaultEngines = PreviewEngine.defaultPreviewEngines();\r\n      for (let engine of defaultEngines) {\r\n        if (engine.canPreview(fileName)) {\r\n          previewEngine = engine;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (previewEngine === null) {\r\n      MessageBoxUtil.warning(fileName + \" \");\r\n    } else {\r\n      let targetUrl = previewEngine.url;\r\n\r\n      const engine: PreviewEngine = previewEngine;\r\n\r\n      if (previewUrl) {\r\n        targetUrl = targetUrl.replace(\"{originUrl}\", previewUrl);\r\n        targetUrl = targetUrl.replace(\"{b64Url}\", previewUrl);\r\n        targetUrl = targetUrl.replace(\"{url}\", previewUrl);\r\n        if (engine.previewInSite) {\r\n          BrowserPreviewer.show(fileName, targetUrl, matter.size);\r\n        } else {\r\n          window.open(targetUrl);\r\n        }\r\n      } else {\r\n        const needToken = matter.privacy && (targetUrl.indexOf(\"{url}\") !== -1||targetUrl.indexOf(\"{b64Url}\") !== -1)\r\n\r\n        PreviewerHelper.prepareMatterUrl(matter, needToken, function (url) {\r\n          targetUrl = targetUrl.replace(\"{originUrl}\", matter.getPreviewUrl());\r\n          targetUrl = targetUrl.replace(\"{b64Url}\", encodeURIComponent(PreviewerHelper.b64EncodeUnicode(url)));\r\n          targetUrl = targetUrl.replace(\"{url}\", encodeURIComponent(url));\r\n          if (engine.previewInSite) {\r\n            BrowserPreviewer.show(fileName, targetUrl, matter.size);\r\n          } else {\r\n            window.open(targetUrl);\r\n          }\r\n        });\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n","import { message } from \"antd\";\r\nimport axios, { CancelTokenSource } from \"axios\";\r\nimport BaseEntity from \"../base/BaseEntity\";\r\nimport Filter from \"../base/filter/Filter\";\r\nimport HttpUtil from \"../../util/HttpUtil\";\r\nimport FileUtil from \"../../util/FileUtil\";\r\nimport ImageUtil from \"../../util/ImageUtil\";\r\nimport EnvUtil from \"../../util/EnvUtil\";\r\nimport InputFilter from \"../base/filter/InputFilter\";\r\nimport CheckFilter from \"../base/filter/CheckFilter\";\r\nimport SortFilter from \"../base/filter/SortFilter\";\r\nimport MimeUtil from \"../../util/MimeUtil\";\r\nimport StringUtil from \"../../util/StringUtil\";\r\nimport NumberUtil from \"../../util/NumberUtil\";\r\nimport SafeUtil from \"../../util/SafeUtil\";\r\nimport ImagePreviewer from \"../../../pages/widget/previewer/ImagePreviewer\";\r\nimport MessageBoxUtil from \"../../util/MessageBoxUtil\";\r\nimport PreviewerHelper from \"../../../pages/widget/previewer/PreviewerHelper\";\r\n\r\nexport default class Matter extends BaseEntity {\r\n  puuid: string = \"\";\r\n  userUuid: string = \"\";\r\n  dir: boolean = false;\r\n  alien: boolean = false;\r\n  name: string = \"\";\r\n  md5: string | null = null;\r\n  size: number = 0;\r\n  privacy: boolean = true;\r\n  path: string | null = null;\r\n  times: number = 0;\r\n  //\r\n  visitTime: Date | null = null;\r\n  parent: Matter | null = null;\r\n  // \r\n  deleted: boolean = false;\r\n  deleteTime: Date | null = null;\r\n\r\n  /*\r\n  UI\r\n   */\r\n  //\r\n  check: boolean = false;\r\n  editMode: boolean = false;\r\n\r\n  //\r\n  filter: string = \"*\";\r\n  //\r\n  //\r\n  uploadHint: string | null = null;\r\n  //file\r\n  file: File | null = null;\r\n  // 0-1\r\n  progress: number = 0;\r\n  // byte/s\r\n  speed: number = 0;\r\n  //source\r\n  cancelSource: CancelTokenSource = axios.CancelToken.source();\r\n\r\n  static URL_MATTER_CREATE_DIRECTORY = \"/api/matter/create/directory\";\r\n  static URL_MATTER_SOFT_DELETE = \"/api/matter/soft/delete\";\r\n  static URL_MATTER_SOFT_DELETE_BATCH = \"/api/matter/soft/delete/batch\";\r\n  static URL_MATTER_RECOVERY = \"/api/matter/recovery\";\r\n  static URL_MATTER_RECOVERY_BATCH = \"/api/matter/recovery/batch\";\r\n  static URL_MATTER_DELETE = \"/api/matter/delete\";\r\n  static URL_MATTER_DELETE_BATCH = \"/api/matter/delete/batch\";\r\n  static URL_MATTER_RENAME = \"/api/matter/rename\";\r\n  static URL_CHANGE_PRIVACY = \"/api/matter/change/privacy\";\r\n  static URL_MATTER_MOVE = \"/api/matter/move\";\r\n  static URL_MATTER_DOWNLOAD = \"/api/matter/download\";\r\n  static URL_MATTER_UPLOAD = \"/api/matter/upload\";\r\n  static URL_MATTER_ZIP = \"/api/matter/zip\";\r\n\r\n  static MATTER_ROOT = \"root\";\r\n\r\n  //zip\r\n  static downloadZip(uuidsString: string) {\r\n    window.open(\r\n      EnvUtil.currentHost() + Matter.URL_MATTER_ZIP + \"?uuids=\" + uuidsString\r\n    );\r\n  }\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n    super(reactComponent);\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n    this.assignEntity(\"parent\", Matter);\r\n    this.assignEntity(\"visitTime\", Date);\r\n    this.assignEntity(\"deleteTime\", Date);\r\n  }\r\n\r\n  getForm(): any {\r\n    return {\r\n      userUuid: this.userUuid,\r\n      puuid: this.puuid,\r\n      uuid: this.uuid ? this.uuid : null,\r\n      dir: this.dir,\r\n      alien: this.alien,\r\n      name: this.name,\r\n      md5: this.md5,\r\n      size: this.size,\r\n      privacy: this.privacy,\r\n      path: this.path,\r\n      times: this.times,\r\n      parent: this.parent,\r\n    };\r\n  }\r\n\r\n  getFilters(): Filter[] {\r\n    return [\r\n      ...super.getFilters(),\r\n      new InputFilter(\"uuid\", \"puuid\", null, false),\r\n      new InputFilter(\"\", \"userUuid\", null, false),\r\n      new InputFilter(\"\", \"name\"),\r\n      new CheckFilter(\"\", \"dir\"),\r\n      new CheckFilter(\"\", \"alien\"),\r\n      new CheckFilter(\"\", \"deleted\"),\r\n      new SortFilter(\"\", \"orderDir\"),\r\n      new SortFilter(\"\", \"orderTimes\"),\r\n      new SortFilter(\"\", \"orderSize\"),\r\n      new SortFilter(\"\", \"orderName\"),\r\n      new InputFilter(\"\", \"extensions\"),\r\n      new InputFilter(\"uuid\", \"shareUuid\"),\r\n      new InputFilter(\"\", \"shareCode\"),\r\n      new InputFilter(\"\", \"shareRootUuid\"),\r\n      new SortFilter(\"\", \"orderDeleteTime\"),\r\n    ];\r\n  }\r\n\r\n  getUrlPrefix() {\r\n    return \"/api/matter\";\r\n  }\r\n\r\n  isImage() {\r\n    return FileUtil.isImage(this.name);\r\n  }\r\n\r\n  isPdf() {\r\n    return FileUtil.isPdf(this.name);\r\n  }\r\n\r\n  isText() {\r\n    return FileUtil.isText(this.name);\r\n  }\r\n\r\n  isDoc() {\r\n    return FileUtil.isDoc(this.name);\r\n  }\r\n\r\n  isPpt() {\r\n    return FileUtil.isPpt(this.name);\r\n  }\r\n\r\n  isXls() {\r\n    return FileUtil.isXls(this.name);\r\n  }\r\n\r\n  isAudio() {\r\n    return FileUtil.isAudio(this.name);\r\n  }\r\n\r\n  isVideo() {\r\n    return FileUtil.isVideo(this.name);\r\n  }\r\n\r\n  isPsd() {\r\n    return FileUtil.isPsd(this.name);\r\n  }\r\n\r\n  getIcon() {\r\n    if (FileUtil.isImage(this.name)) {\r\n      return ImageUtil.handleImageUrl(this.getPreviewUrl(), false, 100, 100);\r\n    } else {\r\n      return FileUtil.getIcon(this.name, this.dir);\r\n    }\r\n  }\r\n\r\n  //\r\n  download(downloadUrl?: string | null) {\r\n    if (!downloadUrl) {\r\n      downloadUrl = this.getDownloadUrl();\r\n    }\r\n    window.open(downloadUrl);\r\n  }\r\n\r\n  // previewUrl.\r\n  preview(previewUrl?: string | null) {\r\n    let shareMode = true;\r\n    if (previewUrl) {\r\n      shareMode = true;\r\n    } else {\r\n      shareMode = false;\r\n      previewUrl = this.getPreviewUrl();\r\n    }\r\n\r\n    if (this.isImage()) {\r\n      ImagePreviewer.showSinglePhoto(previewUrl);\r\n    } else {\r\n      if (shareMode) {\r\n        PreviewerHelper.preview(this, previewUrl);\r\n      } else {\r\n        PreviewerHelper.preview(this);\r\n      }\r\n    }\r\n  }\r\n\r\n  httpCreateDirectory(\r\n    successCallback?: any,\r\n    errorCallback?: any,\r\n    finallyCallback?: any\r\n  ) {\r\n    let that = this;\r\n    let form = { userUuid: that.userUuid, name: that.name, puuid: that.puuid };\r\n\r\n    return this.httpPost(\r\n      Matter.URL_MATTER_CREATE_DIRECTORY,\r\n      form,\r\n      function (response: any) {\r\n        that.assign(response.data.data);\r\n        typeof successCallback === \"function\" && successCallback(response);\r\n      },\r\n      errorCallback,\r\n      finallyCallback\r\n    );\r\n  }\r\n\r\n  httpSoftDelete(successCallback?: any, errorCallback?: any) {\r\n    this.httpPost(\r\n      Matter.URL_MATTER_SOFT_DELETE,\r\n      { uuid: this.uuid },\r\n      function (response: any) {\r\n        typeof successCallback === \"function\" && successCallback(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  httpSoftDeleteBatch(\r\n    uuids: string,\r\n    successCallback?: any,\r\n    errorCallback?: any\r\n  ) {\r\n    this.httpPost(\r\n      Matter.URL_MATTER_SOFT_DELETE_BATCH,\r\n      { uuids: uuids },\r\n      function (response: any) {\r\n        typeof successCallback === \"function\" && successCallback(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  httpDelete(successCallback?: any, errorCallback?: any) {\r\n    this.httpPost(\r\n      Matter.URL_MATTER_DELETE,\r\n      { uuid: this.uuid },\r\n      function (response: any) {\r\n        typeof successCallback === \"function\" && successCallback(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  httpDeleteBatch(uuids: string, successCallback?: any, errorCallback?: any) {\r\n    this.httpPost(\r\n      Matter.URL_MATTER_DELETE_BATCH,\r\n      { uuids: uuids },\r\n      function (response: any) {\r\n        typeof successCallback === \"function\" && successCallback(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  httpRecovery(successCallback?: any, errorCallback?: any) {\r\n    this.httpPost(\r\n      Matter.URL_MATTER_RECOVERY,\r\n      { uuid: this.uuid },\r\n      function (response: any) {\r\n        typeof successCallback === \"function\" && successCallback(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  httpRecoveryBatch(uuids: string, successCallback?: any, errorCallback?: any) {\r\n    this.httpPost(\r\n      Matter.URL_MATTER_RECOVERY_BATCH,\r\n      { uuids: uuids },\r\n      function (response: any) {\r\n        typeof successCallback === \"function\" && successCallback(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  httpRename(\r\n    name: string,\r\n    successCallback?: any,\r\n    errorCallback?: any,\r\n    finallyCallback?: any\r\n  ) {\r\n    let that = this;\r\n    this.httpPost(\r\n      Matter.URL_MATTER_RENAME,\r\n      { uuid: this.uuid, name: name },\r\n      function (response: any) {\r\n        that.assign(response.data.data);\r\n        typeof successCallback === \"function\" && successCallback(response);\r\n      },\r\n      errorCallback,\r\n      finallyCallback\r\n    );\r\n  }\r\n\r\n  httpChangePrivacy(\r\n    privacy: boolean,\r\n    successCallback?: any,\r\n    errorCallback?: any\r\n  ) {\r\n    let that = this;\r\n    this.httpPost(\r\n      Matter.URL_CHANGE_PRIVACY,\r\n      { uuid: this.uuid, privacy: privacy },\r\n      function (response: any) {\r\n        that.privacy = privacy;\r\n        if (typeof successCallback === \"function\") {\r\n          successCallback(response);\r\n          message.success(response.data.msg);\r\n        } else {\r\n          message.success(response.data.msg);\r\n        }\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  httpMove(\r\n    srcUuids: string,\r\n    destUuid: string,\r\n    successCallback?: any,\r\n    errorCallback?: any\r\n  ) {\r\n    let form: any = { srcUuids: srcUuids };\r\n    if (destUuid) {\r\n      form.destUuid = destUuid;\r\n    } else {\r\n      form.destUuid = \"root\";\r\n    }\r\n    this.httpPost(\r\n      Matter.URL_MATTER_MOVE,\r\n      form,\r\n      function (response: any) {\r\n        typeof successCallback === \"function\" && successCallback(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  /*\r\n  \r\n   */\r\n\r\n  //filemetaData\r\n  validate() {\r\n    if (!this.file) {\r\n      this.errorMessage = \"\";\r\n      return false;\r\n    }\r\n\r\n    this.name = this.file.name;\r\n    if (!this.name) {\r\n      this.errorMessage = \"\";\r\n      return false;\r\n    }\r\n\r\n    this.size = this.file.size;\r\n\r\n    this.errorMessage = null;\r\n    return true;\r\n  }\r\n\r\n  //\r\n  validateFilter() {\r\n    let filter = this.filter;\r\n    if (filter === null || filter === \"\") {\r\n      this.errorMessage = \"-1\";\r\n      console.error(\".-1\");\r\n      return false;\r\n    }\r\n    if (filter !== \"*\") {\r\n      let regex1 = /^(image|audio|video|text)(\\|(image|audio|video|text))*$/g;\r\n      let regex2 = /^(\\.[\\w]+)(\\|\\.[\\w]+)*$/;\r\n      //  image|audio|video|text\r\n\r\n      if (!regex1.test(filter)) {\r\n        //\r\n        if (!regex2.test(filter)) {\r\n          this.errorMessage = \"-2\";\r\n          console.error(\".-2\");\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n\r\n    //validate privacy\r\n    let privacy = this.privacy;\r\n    if (!privacy) {\r\n      if (privacy !== false) {\r\n        this.errorMessage = \"privacyBoolean\";\r\n        console.error(\"privacyBoolean.\");\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  //\r\n  validateFileType() {\r\n    if (!this.filter) {\r\n      this.errorMessage = \"\";\r\n      return false;\r\n    }\r\n    if (this.filter === \"*\") {\r\n      this.errorMessage = null;\r\n      return true;\r\n    }\r\n\r\n    let type = MimeUtil.getMimeType(this.name);\r\n    let extension = MimeUtil.getExtension(this.name);\r\n    let simpleType = type.substring(0, type.indexOf(\"/\"));\r\n\r\n    //androidbug.\r\n    if (StringUtil.startWith(this.name, \"image%3A\")) {\r\n      extension = \"jpg\";\r\n      simpleType = \"image\";\r\n    } else if (StringUtil.startWith(this.name, \"video%3A\")) {\r\n      extension = \"mp4\";\r\n      simpleType = \"video\";\r\n    } else if (StringUtil.startWith(this.name, \"audio%3A\")) {\r\n      extension = \"mp3\";\r\n      simpleType = \"audio\";\r\n    }\r\n\r\n    if (StringUtil.containStr(this.filter, extension)) {\r\n      this.errorMessage = null;\r\n      return true;\r\n    }\r\n\r\n    if (simpleType) {\r\n      if (StringUtil.containStr(this.filter, simpleType)) {\r\n        this.errorMessage = null;\r\n        return true;\r\n      }\r\n    }\r\n    this.errorMessage = \"\";\r\n    return false;\r\n  }\r\n\r\n  //\r\n  httpUpload(successCallback?: any, failureCallback?: any) {\r\n    let that = this;\r\n\r\n    //\r\n    if (!this.validate()) {\r\n      return;\r\n    }\r\n\r\n    //\r\n    if (!this.validateFilter()) {\r\n      return;\r\n    }\r\n\r\n    //\r\n    if (!this.validateFileType()) {\r\n      MessageBoxUtil.error(\"\");\r\n      return;\r\n    }\r\n\r\n    //chromeffIE9\r\n    let formData = new FormData();\r\n\r\n    formData.append(\"userUuid\", that.userUuid);\r\n    formData.append(\"puuid\", that.puuid);\r\n    formData.append(\"file\", that.file!);\r\n    formData.append(\"alien\", that.alien.toString());\r\n    formData.append(\"privacy\", that.privacy.toString());\r\n\r\n    //\r\n    let lastTimeStamp = new Date().getTime();\r\n    let lastSize = 0;\r\n\r\n    that.loading = true;\r\n\r\n    HttpUtil.httpPostFile(\r\n      Matter.URL_MATTER_UPLOAD,\r\n      formData,\r\n      function (response: any) {\r\n        that.uuid = response.data.data.uuid;\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      },\r\n      function (err: any) {\r\n        if (axios.isCancel(err)) {\r\n          that.clear();\r\n          SafeUtil.safeCallback(failureCallback)();\r\n          return;\r\n        }\r\n        const response = err.response;\r\n        that.errorMessage = response;\r\n        that.clear();\r\n        that.defaultErrorHandler(response);\r\n        SafeUtil.safeCallback(failureCallback)(that.getErrorMessage(response));\r\n      },\r\n      function () {\r\n        that.loading = false;\r\n      },\r\n      function (event) {\r\n        //\r\n        that.progress = event.loaded / event.total;\r\n\r\n        let currentTime = new Date().getTime();\r\n        let deltaTime = currentTime - lastTimeStamp;\r\n\r\n        //1s\r\n        if (deltaTime > 1000) {\r\n          lastTimeStamp = currentTime;\r\n\r\n          let currentSize = event.loaded;\r\n          let deltaSize = currentSize - lastSize;\r\n          lastSize = currentSize;\r\n\r\n          that.speed = NumberUtil.parseInt(\r\n            (deltaSize / (deltaTime / 1000)).toFixed(0)\r\n          );\r\n        }\r\n        that.updateUI();\r\n      },\r\n      {\r\n        cancelToken: that.cancelSource.token,\r\n      }\r\n    );\r\n  }\r\n\r\n  cancelUpload() {\r\n    this.cancelSource.cancel();\r\n  }\r\n\r\n  //\r\n  clear() {\r\n    //filter,privacy\r\n    let matter = new Matter();\r\n    matter.filter = this.filter;\r\n    matter.privacy = this.privacy;\r\n    matter.errorMessage = this.errorMessage;\r\n    matter.uploadHint = this.uploadHint;\r\n    this.assign(matter);\r\n  }\r\n\r\n  getPreviewUrl(downloadTokenUuid?: string): string {\r\n    return `${EnvUtil.currentHost()}/api/alien/preview/${this.uuid}/${\r\n      this.name\r\n    }${downloadTokenUuid ? \"?downloadTokenUuid=\" + downloadTokenUuid : \"\"}`;\r\n  }\r\n\r\n  getDownloadUrl(downloadTokenUuid?: string): string {\r\n    return `${EnvUtil.currentHost()}/api/alien/download/${this.uuid}/${\r\n      this.name\r\n    }${downloadTokenUuid ? \"?downloadTokenUuid=\" + downloadTokenUuid : \"\"}`;\r\n  }\r\n\r\n  getShareDownloadUrl(\r\n    shareUuid: string,\r\n    shareCode: string,\r\n    shareRootUuid: string\r\n  ): string {\r\n    return `${EnvUtil.currentHost()}/api/alien/download/${this.uuid}/${\r\n      this.name\r\n    }?shareUuid=${shareUuid}&shareCode=${shareCode}&shareRootUuid=${shareRootUuid}`;\r\n  }\r\n\r\n  getSharePreviewUrl(\r\n    shareUuid: string,\r\n    shareCode: string,\r\n    shareRootUuid: string\r\n  ): string {\r\n    return `${EnvUtil.currentHost()}/api/alien/preview/${this.uuid}/${\r\n      this.name\r\n    }?shareUuid=${shareUuid}&shareCode=${shareCode}&shareRootUuid=${shareRootUuid}`;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport StringUtil from \"../../../common/util/StringUtil\";\r\nimport { Progress } from \"antd\";\r\nimport { CloseOutlined } from \"@ant-design/icons\";\r\nimport \"./UploadMatterPanel.less\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  matter: Matter;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class UploadMatterPanel extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  format(percent: number) {\r\n    return `${percent.toFixed(1)}%`;\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.matter.reactComponent = this;\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: Readonly<IProps>, nextContext: any) {}\r\n  componentWillUnmount() {\r\n    this.props.matter.reactComponent = null;\r\n  }\r\n\r\n  render() {\r\n    const { matter } = this.props;\r\n    return (\r\n      <div className=\"upload-matter-panel\">\r\n        {matter.loading ? (\r\n          <div className=\"huge-block clearfix\">\r\n            <div className=\"media\">\r\n              <div className=\"media-body\">{matter.file!.name}</div>\r\n              <div className=\"media-cancel\">\r\n                <CloseOutlined onClick={() => matter.cancelUpload()} />\r\n              </div>\r\n            </div>\r\n            <Progress\r\n              className=\"progress\"\r\n              strokeColor={{\r\n                from: \"#108ee9\",\r\n                to: \"#87d068\",\r\n              }}\r\n              format={() => this.format(matter.progress * 100)}\r\n              percent={matter.progress * 100}\r\n              status=\"active\"\r\n            />\r\n            <div>\r\n              {`${Lang.t(\"matter.uploaded\")}: ${StringUtil.humanFileSize(\r\n                matter.file!.size * matter.progress\r\n              )}/${StringUtil.humanFileSize(matter.file!.size)} ${\r\n                matter.progress < 1\r\n                  ? `${Lang.t(\"matter.speed\")}:${StringUtil.humanFileSize(\r\n                      matter.speed\r\n                    )}s`\r\n                  : Lang.t(\"matter.finishingTip\")\r\n              }`}\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Moon from \"../../../common/model/global/Moon\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport ImagePreviewer from \"../../widget/previewer/ImagePreviewer\";\r\nimport { Input, Upload, Button } from \"antd\";\r\nimport UploadMatterPanel from \"./UploadMatterPanel\";\r\nimport \"./MatterImage.less\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport {RcCustomRequestOptions} from \"antd/lib/upload/interface\";\r\n\r\ninterface IProps {\r\n  value?: string;\r\n  onChange?: (value: string) => any;\r\n  preview?: boolean; //\r\n  previewWidth?: number;\r\n  filter?: string;\r\n  uploadHint?: string;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class MatterImage extends TankComponent<IProps, IState> {\r\n  // \r\n  manual = false;\r\n  matter = new Matter(this);\r\n  user = Moon.getSingleton().user;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  changeLink(e: any) {\r\n    SafeUtil.safeCallback(this.props.onChange)(e.target.value);\r\n  };\r\n\r\n  triggerUpload(fileObj: RcCustomRequestOptions) {\r\n    const { file } = fileObj;\r\n    const { filter = \"image\", uploadHint = \"\" } = this.props;\r\n    if (file) {\r\n      if (this.user.sizeLimit >= 0 && file.size > this.user.sizeLimit) {\r\n        MessageBoxUtil.error(\r\n          Lang.t(\"matter.sizeExceedLimit\", file.size, this.user.sizeLimit)\r\n        );\r\n        return;\r\n      }\r\n      this.matter.assign({\r\n        uploadHint,\r\n        filter,\r\n        file,\r\n        puuid: \"root\",\r\n        privacy: false,\r\n        dir: false,\r\n        alien: true,\r\n        userUuid: this.user.uuid,\r\n      });\r\n      this.matter.httpUpload(\r\n        () => {\r\n          SafeUtil.safeCallback(this.props.onChange)(\r\n            this.matter.getPreviewUrl()\r\n          );\r\n          this.matter = new Matter();\r\n          this.updateUI();\r\n        },\r\n        () => this.updateUI()\r\n      );\r\n    }\r\n  };\r\n\r\n  toggleHandle() {\r\n    this.manual = !this.manual;\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { manual, matter } = this;\r\n    const {\r\n      value,\r\n      preview = true,\r\n      previewWidth = 200,\r\n      uploadHint,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"matter-image\">\r\n        <div className=\"tiny-block\">\r\n          {preview && value ? (\r\n            <img\r\n              className=\"p10 mb10 bg-white br5 border\"\r\n              style={{ width: `${previewWidth}px` }}\r\n              src={value}\r\n              onClick={() => ImagePreviewer.showSinglePhoto(value)}\r\n            />\r\n          ) : null}\r\n        </div>\r\n        <div className=\"composite-box\">\r\n          {manual ? (\r\n            <Input\r\n              className=\"content\"\r\n              placeholder={Lang.t(\"matter.fillInPicLink\")}\r\n              value={value}\r\n              onChange={e => this.changeLink(e)}\r\n            />\r\n          ) : (\r\n            <Upload\r\n              className=\"content\"\r\n              customRequest={e => this.triggerUpload(e)}\r\n              showUploadList={false}\r\n            >\r\n              <Button className=\"wp100 border-short\">{Lang.t(\"matter.chooseImage\")}</Button>\r\n            </Upload>\r\n          )}\r\n          <Button className=\"handle\" type=\"primary\" onClick={() => this.toggleHandle()}>\r\n            {manual ? Lang.t(\"matter.uploadMode\") : Lang.t(\"matter.fillMode\")}\r\n          </Button>\r\n        </div>\r\n        {uploadHint ? <div className=\"italic\">{uploadHint}</div> : null}\r\n        <UploadMatterPanel matter={matter} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Edit.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport {Button, Form, Input, InputNumber, Select} from 'antd';\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport FileUtil from \"../../common/util/FileUtil\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport {FormInstance} from \"antd/lib/form\";\r\nimport {SaveOutlined} from \"@ant-design/icons/lib\";\r\nimport {UserRole, UserRoleList} from \"../../common/model/user/UserRole\";\r\nimport ColorSelectionOption from \"../../common/model/base/option/ColorSelectionOption\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport MatterImage from \"../matter/widget/MatterImage\";\r\n\r\n\r\ninterface RouteParam {\r\n  uuid: string\r\n}\r\n\r\n\r\ninterface IProps extends RouteComponentProps<RouteParam> {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class Edit extends TankComponent<IProps, IState> {\r\n\r\n  formRef = React.createRef<FormInstance>();\r\n\r\n  createMode: boolean = false\r\n\r\n  //\r\n  user: User = Moon.getSingleton().user\r\n\r\n  //\r\n  currentUser: User = new User(this)\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n    this.currentUser.role = UserRole.USER\r\n  }\r\n\r\n  componentDidMount() {\r\n    let match = this.props.match;\r\n\r\n    if (match.params.uuid) {\r\n      this.createMode = false;\r\n      this.currentUser.uuid = match.params.uuid;\r\n      this.currentUser.httpDetail();\r\n    } else {\r\n      this.createMode = true;\r\n      this.updateUI()\r\n    }\r\n\r\n  }\r\n\r\n  onFinish(values: any) {\r\n\r\n\r\n    let that = this\r\n\r\n    let user: User = this.user\r\n    let currentUser: User = this.currentUser\r\n\r\n    currentUser.assign(values)\r\n\r\n    currentUser.httpSave(function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"))\r\n\r\n      //\r\n      if (user.uuid === currentUser.uuid) {\r\n        user.assign(currentUser)\r\n      }\r\n\r\n      Sun.navigateBack()\r\n    })\r\n\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n\r\n  };\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let user: User = this.user\r\n    let currentUser: User = this.currentUser\r\n\r\n    const layout = {\r\n      labelCol: {span: 6},\r\n      wrapperCol: {span: 18},\r\n    };\r\n\r\n    //\r\n    let editSelf: boolean = false\r\n    if (!this.createMode && user.uuid === currentUser.uuid) {\r\n      editSelf = true\r\n    }\r\n\r\n    //\r\n    let roleEditable: boolean = false\r\n    if (this.createMode || (user.uuid !== currentUser.uuid && user.role === UserRole.ADMINISTRATOR)) {\r\n      roleEditable = true\r\n    }\r\n\r\n    return (\r\n\r\n      <div className=\"page-user-edit\">\r\n\r\n        <TankTitle name={this.createMode ? Lang.t(\"user.createUser\") : Lang.t(\"user.editUser\")}>\r\n\r\n        </TankTitle>\r\n\r\n        <TankContentCard loading={currentUser.detailLoading}>\r\n\r\n          <Form\r\n            {...layout}\r\n            name=\"basic\"\r\n            ref={this.formRef}\r\n            onFinish={this.onFinish.bind(this)}\r\n            onFinishFailed={this.onFinishFailed.bind(this)}\r\n            onValuesChange={() => {\r\n              that.updateUI()\r\n            }}\r\n          >\r\n            {editSelf && (\r\n              <Form.Item\r\n                label={Lang.t(\"user.avatar\")}\r\n                name=\"avatarUrl\"\r\n                initialValue={currentUser.avatarUrl}\r\n              >\r\n                <MatterImage />\r\n              </Form.Item>\r\n            )}\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"user.username\")}\r\n              name=\"username\"\r\n              initialValue={currentUser.username}\r\n              rules={[{required: true, message: Lang.t(\"user.enterUsername\")}]}\r\n            >\r\n              <Input disabled={!this.createMode}/>\r\n            </Form.Item>\r\n\r\n            {\r\n              this.createMode && (\r\n                <Form.Item\r\n                  label={Lang.t(\"user.password\")}\r\n                  name=\"password\"\r\n                  rules={[{required: true, message: Lang.t(\"user.enterPassword\")}]}\r\n                >\r\n                  <Input.Password/>\r\n                </Form.Item>\r\n              )\r\n            }\r\n\r\n            {\r\n              this.createMode && (\r\n                <Form.Item\r\n                  name=\"confirmPassword\"\r\n                  label={Lang.t(\"user.confirmPassword\")}\r\n                  dependencies={['password']}\r\n                  hasFeedback\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: Lang.t(\"user.enterPassword\"),\r\n                    },\r\n                    ({getFieldValue}) => ({\r\n                      validator(rule, value) {\r\n                        if (!value || getFieldValue('password') === value) {\r\n                          return Promise.resolve();\r\n                        }\r\n                        return Promise.reject(Lang.t(\"user.passwordNotSame\"));\r\n                      },\r\n                    }),\r\n                  ]}\r\n                >\r\n                  <Input.Password/>\r\n                </Form.Item>\r\n              )\r\n            }\r\n            <Form.Item\r\n              label={Lang.t(\"user.role\")}\r\n              name=\"role\"\r\n              initialValue={currentUser.role}\r\n            >\r\n              <Select disabled={!roleEditable}>\r\n                {\r\n                  UserRoleList.filter((item: ColorSelectionOption, index: number) => {\r\n                    return item.value !== UserRole.GUEST\r\n                  }).map((item: ColorSelectionOption, index: number) => {\r\n                    return <Select.Option key={index} value={item.value}>{item.name}</Select.Option>\r\n                  })\r\n                }\r\n              </Select>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"user.singleFileSizeLimit\")}\r\n              required={true}\r\n            >\r\n              <Form.Item\r\n                name=\"sizeLimit\"\r\n                rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n                initialValue={currentUser.sizeLimit}\r\n                noStyle\r\n              >\r\n                <InputNumber min={-1} className='w150' disabled={user.role !== UserRole.ADMINISTRATOR}/>\r\n              </Form.Item>\r\n              <span\r\n                className=\"pl10\"> {Lang.t(\"user.current\")}:\r\n                {(this.formRef && this.formRef.current) ?\r\n                  FileUtil.humanFileSize(this.formRef.current.getFieldValue(\"sizeLimit\"))\r\n                  : FileUtil.humanFileSize(currentUser.sizeLimit)}\r\n              </span>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"user.totalFileSizeLimit\")}\r\n              required={true}\r\n            >\r\n              <Form.Item\r\n                name=\"totalSizeLimit\"\r\n                rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n                initialValue={currentUser.totalSizeLimit}\r\n                noStyle\r\n              >\r\n                <InputNumber min={-1} className='w150' disabled={user.role !== UserRole.ADMINISTRATOR}/>\r\n              </Form.Item>\r\n              <span\r\n                className=\"pl10\"> {Lang.t(\"user.current\")}:\r\n                {(this.formRef && this.formRef.current) ?\r\n                  FileUtil.humanFileSize(this.formRef.current.getFieldValue(\"totalSizeLimit\"))\r\n                  : FileUtil.humanFileSize(currentUser.totalSizeLimit)}\r\n              </span>\r\n            </Form.Item>\r\n\r\n            <div className=\"text-right\">\r\n              <Button type=\"primary\" htmlType=\"submit\" icon={<SaveOutlined/>}>\r\n                {this.createMode ? Lang.t(\"create\") : Lang.t(\"save\")}\r\n              </Button>\r\n            </div>\r\n\r\n          </Form>\r\n        </TankContentCard>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Edit.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\n\r\ninterface RouteParam {\r\n  authentication: string\r\n}\r\n\r\n\r\ninterface IProps extends RouteComponentProps<RouteParam> {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class Authentication extends TankComponent<IProps, IState> {\r\n\r\n  //\r\n  user: User = Moon.getSingleton().user\r\n\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    let match = this.props.match;\r\n\r\n\r\n\r\n    this.user.httpAuthenticationLogin(match.params.authentication, function () {\r\n      //\r\n      //Sun.navigateTo(\"/\")\r\n      window.location.href = \"/\"\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let user: User = this.user\r\n\r\n    return (\r\n      <div className=\"page-user-authentication\">\r\n        {Lang.t(\"user.redirecting\")}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import \"./PreviewEngineCell.less\";\r\nimport React from \"react\";\r\nimport PreviewEngine from \"../../../common/model/preference/model/PreviewEngine\";\r\nimport {Tag, Tooltip} from \"antd\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport InfoCell from \"../../widget/InfoCell\";\r\n\r\ninterface IProps {\r\n  engine: PreviewEngine;\r\n  order?: number; // 1\r\n}\r\n\r\nexport default function PreviewEngineCell(props: IProps) {\r\n  const {engine, order} = props;\r\n\r\n  return (\r\n    <div className=\"preview-engine-cell\">\r\n      <div className=\"engine-box\">\r\n        <p className=\"title\">\r\n          {order ? Lang.t(\"preference.previewEngine\", order) : Lang.t(\"preference.defaultPreview\")}\r\n        </p>\r\n        <InfoCell name={Lang.t(\"preference.engineReg\")}>\r\n          {engine.url === '{originUrl}' ? '{url}' : engine.url}\r\n        </InfoCell>\r\n        <InfoCell name={Lang.t(\"preference.engineSuffix\")}>\r\n          {engine.extensions}\r\n        </InfoCell>\r\n      </div>\r\n      <div className=\"tip-box\">\r\n        {\r\n          order ? null : (\r\n            <Tooltip title={Lang.t(\"preference.defaultPreviewDesc\")}>\r\n              <Tag className=\"tip mr10\" color=\"success\">\r\n                {Lang.t(\"preference.defaultPreview\")}\r\n              </Tag>\r\n            </Tooltip>\r\n          )\r\n        }\r\n        <Tooltip title={Lang.t(\"preference.enginePreview\")}>\r\n          {engine.previewInSite ? (\r\n            <Tag className=\"tip mr0\" color=\"purple\">\r\n              {Lang.t(\"preference.previewCurrent\")}\r\n            </Tag>\r\n          ) : (\r\n            <Tag className=\"tip mr0\" color=\"purple\">\r\n              {Lang.t(\"preference.previewOpen\")}\r\n            </Tag>\r\n          )}\r\n        </Tooltip>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React, {Children} from \"react\";\r\nimport {Link, RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Index.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport {Button, Divider, Empty, Tag, Tooltip, message} from \"antd\";\r\nimport {\r\n  EditOutlined,\r\n  ThunderboltOutlined,\r\n  ScanOutlined,\r\n} from \"@ant-design/icons\";\r\nimport InfoCell from \"../widget/InfoCell\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport FileUtil from \"../../common/util/FileUtil\";\r\nimport ImagePreviewer from \"../widget/previewer/ImagePreviewer\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport SingleTextModal from \"../widget/SingleTextModal\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport {\r\n  ScanScopeType,\r\n  ScanScopeTypeMap,\r\n} from \"../../common/model/preference/model/ScanScopeType\";\r\nimport PreviewEngineCell from \"./widget/PreviewEngineCell\";\r\nimport PreviewEngine from \"../../common/model/preference/model/PreviewEngine\";\r\n\r\ninterface IProps extends RouteComponentProps {\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class Index extends TankComponent<IProps, IState> {\r\n  user: User = Moon.getSingleton().user;\r\n\r\n  preference: Preference = Moon.getSingleton().preference;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refresh();\r\n  }\r\n\r\n  //refresh preference.\r\n  refresh() {\r\n    let that = this;\r\n\r\n    that.preference.httpFetch(function () {\r\n      that.updateUI();\r\n    });\r\n  }\r\n\r\n  cleanup() {\r\n    let that = this;\r\n    let preference = this.preference;\r\n\r\n    SingleTextModal.open(\r\n      Lang.t(\"preference.systemCleanupPrompt\"),\r\n      \"\",\r\n      function (text: string) {\r\n        preference.httpSystemCleanup(text, function () {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  immediateScan() {\r\n    const hide = message.loading(Lang.t(\"preference.scanLoading\"), 0);\r\n    this.preference.httpScanOnce(\r\n      () => {\r\n        message.success(Lang.t(\"operationSuccess\"));\r\n      },\r\n      null,\r\n      hide\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      previewConfig: {previewEngines},\r\n      scanConfig,\r\n    } = this.preference;\r\n\r\n    return (\r\n      <div className=\"page-preference-index\">\r\n        <TankTitle name={Lang.t(\"layout.setting\")}>\r\n          <Button\r\n            className={\"ml10\"}\r\n            type={\"primary\"}\r\n            danger={true}\r\n            onClick={this.cleanup.bind(this)}\r\n            icon={<ThunderboltOutlined/>}\r\n          >\r\n            {Lang.t(\"preference.systemCleanup\")}\r\n          </Button>\r\n        </TankTitle>\r\n\r\n        <TankContentCard>\r\n          <div className=\"basic-info\">\r\n            <header>\r\n              <p className=\"title\">{Lang.t(\"preference.basic\")}</p>\r\n              <Link to={\"/preference/edit\"}>\r\n                <Button type={\"primary\"} icon={<EditOutlined/>}>\r\n                  {Lang.t(\"edit\")}\r\n                </Button>\r\n              </Link>\r\n            </header>\r\n            <InfoCell name={Lang.t(\"preference.websiteName\")}>\r\n              {this.preference.name}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.logo\")}>\r\n              {this.preference.logoUrl && (\r\n                <img\r\n                  src={this.preference.logoUrl}\r\n                  alt=\"logo\"\r\n                  className=\"img-logo\"\r\n                  onClick={() => {\r\n                    ImagePreviewer.showSinglePhoto(this.preference.logoUrl!);\r\n                  }}\r\n                />\r\n              )}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={\"favicon\"}>\r\n              {this.preference.faviconUrl && (\r\n                <img\r\n                  src={this.preference.faviconUrl}\r\n                  alt=\"logo\"\r\n                  className=\"img-favicon\"\r\n                  onClick={() => {\r\n                    ImagePreviewer.showSinglePhoto(this.preference.faviconUrl!);\r\n                  }}\r\n                />\r\n              )}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.copyright\")}>\r\n              <span\r\n                dangerouslySetInnerHTML={{__html: this.preference.copyright}}\r\n              />\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.extraInfo\")}>\r\n              <span\r\n                dangerouslySetInnerHTML={{__html: this.preference.record}}\r\n              />\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.zipMaxNumLimit\")}>\r\n              {this.preference.downloadDirMaxNum === -1\r\n                ? Lang.t(\"preference.noLimit\")\r\n                : this.preference.downloadDirMaxNum}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.zipMaxSizeLimit\")}>\r\n              {FileUtil.humanFileSize(this.preference.downloadDirMaxSize)}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.userDefaultSizeLimit\")}>\r\n              {FileUtil.humanFileSize(this.preference.defaultTotalSizeLimit)}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.matterBinDefaultSaveDay\")}>\r\n              {this.preference.deletedKeepDays} \r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.allowRegister\")}>\r\n              {this.preference.allowRegister ? Lang.t(\"yes\") : Lang.t(\"no\")}\r\n            </InfoCell>\r\n\r\n            <InfoCell name={Lang.t(\"preference.docLink\")}>\r\n              <a href={\"https://tank-doc.eyeblue.cn/zh\"} target=\"_blank\">\r\n                https://tank-doc.eyeblue.cn/zh\r\n              </a>\r\n            </InfoCell>\r\n          </div>\r\n\r\n          <Divider/>\r\n\r\n          <div className=\"preview-info\">\r\n            <header>\r\n              <p className=\"title\">{Lang.t(\"preference.preview\")}</p>\r\n              <Link to={\"/preference/engine/edit\"}>\r\n                <Button type={\"primary\"} icon={<EditOutlined/>}>\r\n                  {Lang.t(\"edit\")}\r\n                </Button>\r\n              </Link>\r\n            </header>\r\n            <div className=\"content\">\r\n              {previewEngines.map((engine, index) => (\r\n                <PreviewEngineCell\r\n                  key={index}\r\n                  engine={engine}\r\n                  order={index + 1}\r\n                />\r\n              ))}\r\n              {Children.toArray(\r\n                PreviewEngine.defaultPreviewEngines().map((engine) => (\r\n                  <PreviewEngineCell engine={engine}/>\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <Divider/>\r\n\r\n          <div className=\"scan-info\">\r\n            <header>\r\n              <p className=\"title\">{Lang.t(\"preference.scan\")}</p>\r\n              <div>\r\n                {scanConfig.enable ? (\r\n                  <Button\r\n                    type=\"primary\"\r\n                    className=\"mr10\"\r\n                    icon={<ScanOutlined/>}\r\n                    onClick={() => this.immediateScan()}\r\n                  >\r\n                    \r\n                  </Button>) : \"\"}\r\n\r\n                <Link to={\"/preference/scan/edit\"}>\r\n                  <Button type={\"primary\"} icon={<EditOutlined/>}>\r\n                    {Lang.t(\"edit\")}\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            </header>\r\n            <div className=\"content\">\r\n              {scanConfig.enable ? (\r\n                <>\r\n                  <InfoCell name={Lang.t(\"preference.scanCron\")}>\r\n                    {scanConfig.cron}\r\n                  </InfoCell>\r\n                  <InfoCell name={Lang.t(\"preference.scanScope\")}>\r\n                    {ScanScopeTypeMap[scanConfig.scope].name}\r\n                  </InfoCell>\r\n                  {scanConfig.scope === ScanScopeType.CUSTOM && (\r\n                    <InfoCell name={Lang.t(\"preference.scanUsers\")}>\r\n                      {scanConfig.usernames.join(\", \")}\r\n                    </InfoCell>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <Empty description={Lang.t(\"preference.disabledScan\")}/>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </TankContentCard>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Edit.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport User from \"../../common/model/user/User\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport {Button, Form, Input, InputNumber, Switch} from \"antd\";\r\nimport {SaveOutlined} from \"@ant-design/icons\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport FileUtil from \"../../common/util/FileUtil\";\r\nimport {FormInstance} from \"antd/lib/form\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport MatterImage from \"../matter/widget/MatterImage\";\r\n\r\ninterface IProps extends RouteComponentProps {\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class Edit extends TankComponent<IProps, IState> {\r\n  formRef = React.createRef<FormInstance>();\r\n\r\n  user: User = Moon.getSingleton().user;\r\n  preference: Preference = Moon.getSingleton().preference;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n\r\n    this.preference.detailLoading = true;\r\n  }\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    that.refreshPreference();\r\n  }\r\n\r\n  refreshPreference() {\r\n    let that = this;\r\n\r\n    that.preference.httpFetch(function () {\r\n      that.preference.detailLoading = false;\r\n      that.updateUI();\r\n    });\r\n  }\r\n\r\n  onFinish(values: any) {\r\n\r\n\r\n    let that = this;\r\n\r\n    let user = that.user;\r\n\r\n    that.preference.assign(values);\r\n\r\n    that.preference.httpSave(function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n\r\n      Sun.updateFrame();\r\n\r\n      Sun.navigateTo(\"/preference/index\");\r\n    });\r\n  }\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n\r\n  }\r\n\r\n  render() {\r\n    let that = this;\r\n\r\n    let preference = that.preference;\r\n\r\n    const layout = {\r\n      labelCol: {span: 6},\r\n      wrapperCol: {span: 18},\r\n    };\r\n\r\n    let initialValues: any = preference.getForm();\r\n\r\n    return (\r\n      <div className=\"page-preference-edit\">\r\n        <TankTitle name={Lang.t(\"preference.editPreference\")} />\r\n\r\n        <TankContentCard loading={preference.detailLoading}>\r\n          <Form\r\n            {...layout}\r\n            name=\"basic\"\r\n            ref={this.formRef}\r\n            initialValues={initialValues}\r\n            onFinish={this.onFinish.bind(this)}\r\n            onFinishFailed={this.onFinishFailed.bind(this)}\r\n            onValuesChange={() => that.updateUI()}\r\n          >\r\n            <Form.Item\r\n              label={Lang.t(\"preference.websiteName\")}\r\n              name=\"name\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: Lang.t(\"preference.enterWebsiteName\"),\r\n                },\r\n              ]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"logo\" name=\"logoUrl\">\r\n              <MatterImage uploadHint={Lang.t(\"preference.logoSquare\")} />\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"favicon\" name=\"faviconUrl\">\r\n              <MatterImage\r\n                filter=\".ico\"\r\n                previewWidth={60}\r\n                uploadHint={Lang.t(\"preference.onlyAllowIco\")}\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item label={Lang.t(\"preference.copyright\")} name=\"copyright\">\r\n              <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item label={Lang.t(\"preference.extraInfo\")} name=\"record\">\r\n              <Input />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"preference.zipMaxNumLimit\")}\r\n              name=\"downloadDirMaxNum\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: Lang.t(\"preference.enterZipMaxNumLimit\"),\r\n                },\r\n              ]}\r\n            >\r\n              <InputNumber min={-1} max={1000} className=\"w150\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"preference.zipMaxSizeLimit\")}\r\n              required={true}\r\n            >\r\n              <Form.Item\r\n                name=\"downloadDirMaxSize\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: Lang.t(\"preference.enterZipMaxSizeLimit\"),\r\n                  },\r\n                ]}\r\n                noStyle\r\n              >\r\n                <InputNumber min={-1} className=\"w150\" />\r\n              </Form.Item>\r\n              <span className=\"pl10\">\r\n                {Lang.t(\"preference.current\")}:\r\n                {this.formRef && this.formRef.current\r\n                  ? FileUtil.humanFileSize(\r\n                      this.formRef.current.getFieldValue(\"downloadDirMaxSize\")\r\n                    )\r\n                  : FileUtil.humanFileSize(preference.defaultTotalSizeLimit)}\r\n              </span>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"preference.userDefaultSizeLimit\")}\r\n              required={true}\r\n            >\r\n              <Form.Item\r\n                name=\"defaultTotalSizeLimit\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: Lang.t(\"preference.enterUserDefaultSizeLimit\"),\r\n                  },\r\n                ]}\r\n                noStyle\r\n              >\r\n                <InputNumber min={-1} className=\"w150\" />\r\n              </Form.Item>\r\n              <span className=\"pl10\">\r\n                {Lang.t(\"preference.current\")}:\r\n                {this.formRef && this.formRef.current\r\n                  ? FileUtil.humanFileSize(\r\n                      this.formRef.current.getFieldValue(\r\n                        \"defaultTotalSizeLimit\"\r\n                      )\r\n                    )\r\n                  : FileUtil.humanFileSize(preference.defaultTotalSizeLimit)}\r\n              </span>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"preference.matterBinDefaultSaveDay\")}\r\n              required={true}\r\n            >\r\n              <Form.Item\r\n                name=\"deletedKeepDays\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: Lang.t(\"preference.enterMatterBinDefaultSaveDay\"),\r\n                  },\r\n                ]}\r\n                noStyle\r\n              >\r\n                <InputNumber min={0} className=\"w150\" />\r\n              </Form.Item>\r\n              <span className=\"pl10\">\r\n                {Lang.t(\"preference.matterBinDefaultTip\")}\r\n              </span>\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              label={Lang.t(\"preference.allowRegister\")}\r\n              name=\"allowRegister\"\r\n              required={true}\r\n              valuePropName=\"checked\"\r\n            >\r\n              <Switch />\r\n            </Form.Item>\r\n\r\n            <div className=\"text-right\">\r\n              <Button type=\"primary\" htmlType=\"submit\" icon={<SaveOutlined />}>\r\n                {Lang.t(\"save\")}\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </TankContentCard>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./PreviewEngineEditCell.less\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport PreviewEngine from \"../../../common/model/preference/model/PreviewEngine\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\nimport { Form, Input, Switch, Tooltip } from \"antd\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport { QuestionCircleOutlined } from \"@ant-design/icons\";\r\n\r\ninterface IProps {\r\n  previewEngine: PreviewEngine;\r\n  index: number;\r\n  onDelete: () => void;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class PreviewEngineEditCell extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { previewEngine } = this.props;\r\n\r\n    return (\r\n      <div className=\"widget-preview-engine-cell\">\r\n        <div className=\"engine-title\">\r\n          <span>{Lang.t(\"preference.engine\", this.props.index + 1)}</span>\r\n          <span>\r\n            <DeleteOutlined\r\n              className=\"btn-action text-danger\"\r\n              onClick={() => {\r\n                this.props.onDelete();\r\n              }}\r\n            />\r\n          </span>\r\n        </div>\r\n        <div className=\"engine-content\">\r\n          <Form.Item\r\n            label={\r\n              <Tooltip title={Lang.t(\"preference.engineRegHelper\")}>\r\n                <div>\r\n                  {Lang.t(\"preference.engineReg\")}\r\n                  <QuestionCircleOutlined className=\"btn-action text-warning\" />\r\n                </div>\r\n              </Tooltip>\r\n            }\r\n            rules={[\r\n              { required: true, message: Lang.t(\"preference.engineRegHelper\") },\r\n            ]}\r\n          >\r\n            <Input\r\n              value={previewEngine.url}\r\n              placeholder={Lang.t(\"preference.engineRegPlaceHolder\")}\r\n              onChange={(e) => {\r\n                previewEngine.url = e.target.value;\r\n                this.updateUI();\r\n              }}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={\r\n              <Tooltip title={Lang.t(\"preference.engineSuffixPlaceHolder\")}>\r\n                <div>\r\n                  {Lang.t(\"preference.engineSuffix\")}\r\n                  <QuestionCircleOutlined className=\"btn-action text-warning\" />\r\n                </div>\r\n              </Tooltip>\r\n            }\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: Lang.t(\"preference.engineSuffixPlaceHolder\"),\r\n              },\r\n            ]}\r\n          >\r\n            <Input\r\n              value={previewEngine.extensions}\r\n              placeholder={Lang.t(\"preference.engineSuffixPlaceHolder\")}\r\n              onChange={(e) => {\r\n                previewEngine.extensions = e.target.value;\r\n                this.updateUI();\r\n              }}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={\r\n              <Tooltip\r\n                title={`${Lang.t(\"preference.previewCurrent\")} or ${Lang.t(\r\n                  \"preference.previewOpen\"\r\n                )}`}\r\n              >\r\n                <div>\r\n                  {Lang.t(\"preference.previewCurrent\")}\r\n                  <QuestionCircleOutlined className=\"btn-action text-warning\" />\r\n                </div>\r\n              </Tooltip>\r\n            }\r\n          >\r\n            <Switch\r\n              checked={previewEngine.previewInSite}\r\n              onChange={(val) => {\r\n                previewEngine.previewInSite = val;\r\n                this.updateUI();\r\n              }}\r\n            />\r\n          </Form.Item>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./PreviewConfigPanel.less\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport PreviewConfig from \"../../../common/model/preference/model/PreviewConfig\";\r\nimport PreviewEngine from \"../../../common/model/preference/model/PreviewEngine\";\r\nimport PreviewEngineEditCell from \"./PreviewEngineEditCell\";\r\nimport { Button } from \"antd\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  previewConfig: PreviewConfig;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class PreviewConfigPanel extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  addEngine() {\r\n    let previewConfig: PreviewConfig = this.props.previewConfig;\r\n\r\n    let engine: PreviewEngine = new PreviewEngine();\r\n\r\n    previewConfig.previewEngines.push(engine);\r\n\r\n    this.updateUI();\r\n  };\r\n\r\n  delEngineCell(index: number) {\r\n    this.props.previewConfig.previewEngines.splice(index, 1);\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { previewConfig } = this.props;\r\n\r\n    return (\r\n      <div className=\"widget-preview-config-panel\">\r\n        {previewConfig.previewEngines.map(\r\n          (previewEngine: PreviewEngine, index: number) => {\r\n            return (\r\n              <PreviewEngineEditCell\r\n                key={index}\r\n                previewEngine={previewEngine}\r\n                index={index}\r\n                onDelete={() => {\r\n                  this.delEngineCell(index);\r\n                }}\r\n              />\r\n            );\r\n          }\r\n        )}\r\n\r\n        <Button\r\n          type=\"dashed\"\r\n          block={true}\r\n          icon={<PlusOutlined />}\r\n          onClick={() => this.addEngine()}\r\n        >\r\n          {Lang.t(\"preference.newEngine\")}\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {RouteComponentProps} from \"react-router-dom\";\r\nimport \"./PreviewEngineEdit.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport {Button, Form, Tooltip} from \"antd\";\r\nimport {FormInstance} from \"antd/lib/form\";\r\nimport {SaveOutlined} from \"@ant-design/icons\";\r\nimport PreviewConfigPanel from \"./widget/PreviewConfigPanel\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport {QuestionCircleOutlined} from \"@ant-design/icons/lib\";\r\n\r\ninterface IProps extends RouteComponentProps {\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class PreviewEngineEdit extends TankComponent<IProps, IState> {\r\n  formRef = React.createRef<FormInstance>();\r\n  preference: Preference = Moon.getSingleton().preference;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.preference.detailLoading = true;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refresh();\r\n  }\r\n\r\n  refresh() {\r\n    this.preference.httpFetch(() => {\r\n      this.preference.detailLoading = false;\r\n      this.updateUI();\r\n    });\r\n  };\r\n\r\n  finish(values: any) {\r\n    this.preference.assign(values);\r\n    this.preference.httpSavePreviewEngine(function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n      Sun.updateFrame();\r\n      Sun.navigateTo(\"/preference/index\");\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {preference} = this;\r\n    const layout = {\r\n      labelCol: {span: 6},\r\n      wrapperCol: {span: 18},\r\n    };\r\n\r\n    return (\r\n      <div className=\"preference-preview-engine-edit\">\r\n        <TankTitle name={Lang.t(\"preference.editPreviewEngine\")}/>\r\n        <TankContentCard loading={preference.detailLoading}>\r\n          <Form\r\n            {...layout}\r\n            name=\"preview-engine\"\r\n            ref={this.formRef}\r\n            onFinish={e => this.finish(e)}\r\n            onValuesChange={this.updateUI}\r\n          >\r\n            <Form.Item label={<Tooltip title={Lang.t(\"preference.engineUsageHint\")}>\r\n              <div>\r\n                {Lang.t(\"preference.previewConfig\")}\r\n                <QuestionCircleOutlined className=\"btn-action text-warning\"/>\r\n              </div>\r\n            </Tooltip>}>\r\n              <PreviewConfigPanel previewConfig={preference.previewConfig}/>\r\n            </Form.Item>\r\n            <div className=\"text-right\">\r\n              <Button type=\"primary\" htmlType=\"submit\" icon={<SaveOutlined/>}>\r\n                {Lang.t(\"save\")}\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </TankContentCard>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport \"./ScanEdit.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport { Button, Form, Input, Select, Spin, Switch } from \"antd\";\r\nimport { FormInstance } from \"antd/lib/form\";\r\nimport { SaveOutlined } from \"@ant-design/icons\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport {\r\n  ScanScopeType,\r\n  ScanScopeTypeList,\r\n} from \"../../common/model/preference/model/ScanScopeType\";\r\nimport {\r\n  ScanCronType,\r\n  ScanCronTypeList,\r\n  ScanCronTypeValueList,\r\n} from \"../../common/model/preference/model/ScanCronType\";\r\nimport Pager from \"../../common/model/base/Pager\";\r\nimport User from \"../../common/model/user/User\";\r\nimport SortDirection from \"../../common/model/base/SortDirection\";\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class ScanEdit extends TankComponent<IProps, IState> {\r\n  formRef = React.createRef<FormInstance>();\r\n\r\n  preference: Preference = Moon.getSingleton().preference;\r\n  pager: Pager<User> = new Pager<User>(this, User, 10);\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.preference.detailLoading = true;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.preference.httpFetch(() => {\r\n      this.preference.detailLoading = false;\r\n\r\n      // \r\n      this.preference.scanConfig.cronType = this.preference.scanConfig.cron;\r\n      if (\r\n        !ScanCronTypeValueList.includes(this.preference.scanConfig.cronType!)\r\n      ) {\r\n        this.preference.scanConfig.cronType = ScanCronType.CUSTOM;\r\n      }\r\n\r\n      if (this.preference.scanConfig.scope !== ScanScopeType.ALL) {\r\n        this.preference.scanConfig.users = this.preference.scanConfig.usernames.map(\r\n          (name: string) => ({\r\n            label: name,\r\n            value: name,\r\n          })\r\n        );\r\n      }\r\n\r\n      this.updateUI();\r\n    });\r\n  }\r\n\r\n  finish(values: any) {\r\n    if (values.scope === ScanScopeType.CUSTOM) {\r\n      this.preference.scanConfig.assign({\r\n        ...values,\r\n        usernames: values.users.map((item: any) => item.value),\r\n      });\r\n    } else {\r\n      this.preference.scanConfig.assign(values);\r\n    }\r\n\r\n    this.preference.httpSaveScan(function () {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n      Sun.updateFrame();\r\n      Sun.navigateTo(\"/preference/index\");\r\n    });\r\n  };\r\n\r\n  changeEnableScan(value: boolean) {\r\n    this.preference.scanConfig.enable = value;\r\n    this.updateUI();\r\n  };\r\n\r\n  changeCronType(value: ScanCronType) {\r\n    this.preference.scanConfig.cronType = value;\r\n    this.updateUI();\r\n  };\r\n\r\n  changeScopeType(value: ScanScopeType) {\r\n    this.preference.scanConfig.scope = value;\r\n    this.updateUI();\r\n  };\r\n\r\n  fetchUser(value: any) {\r\n    this.pager.resetFilter();\r\n    this.pager.setFilterValue(\"orderCreateTime\", SortDirection.DESC);\r\n    this.pager.setFilterValue(\"username\", value);\r\n    this.pager.httpList();\r\n  };\r\n\r\n  render() {\r\n    const { preference, pager } = this;\r\n\r\n    const layout = {\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 18 },\r\n    };\r\n\r\n    return (\r\n      <div className=\"preference-scan-edit\">\r\n        <TankTitle name={Lang.t(\"preference.editScan\")} />\r\n        <TankContentCard loading={preference.detailLoading}>\r\n          <Form\r\n            {...layout}\r\n            name=\"preview-engine\"\r\n            ref={this.formRef}\r\n            initialValues={preference.scanConfig}\r\n            onFinish={this.finish.bind(this)}\r\n            onValuesChange={() => this.updateUI}\r\n          >\r\n            <Form.Item\r\n              label={Lang.t(\"preference.enableScan\")}\r\n              valuePropName=\"checked\"\r\n              name=\"enable\"\r\n            >\r\n              <Switch onChange={this.changeEnableScan.bind(this)} />\r\n            </Form.Item>\r\n            {preference.scanConfig.enable && (\r\n              <>\r\n                <Form.Item\r\n                  label={Lang.t(\"preference.scanCron\")}\r\n                  name=\"cronType\"\r\n                >\r\n                  <Select onChange={this.changeCronType.bind(this)}>\r\n                    {ScanCronTypeList.map((option) => (\r\n                      <Select.Option key={option.value} value={option.value}>\r\n                        {option.name}\r\n                      </Select.Option>\r\n                    ))}\r\n                  </Select>\r\n                </Form.Item>\r\n                {preference.scanConfig.cronType === ScanCronType.CUSTOM && (\r\n                  <Form.Item\r\n                    label={Lang.t(\"preference.cron\")}\r\n                    name=\"cron\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: Lang.t(\"preference.cronValidate\"),\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                )}\r\n                <Form.Item label={Lang.t(\"preference.scanScope\")} name=\"scope\">\r\n                  <Select onChange={this.changeScopeType.bind(this)}>\r\n                    {ScanScopeTypeList.map((option) => (\r\n                      <Select.Option key={option.value} value={option.value}>\r\n                        {option.name}\r\n                      </Select.Option>\r\n                    ))}\r\n                  </Select>\r\n                </Form.Item>\r\n                {preference.scanConfig.scope === ScanScopeType.CUSTOM && (\r\n                  <Form.Item\r\n                    label={Lang.t(\"preference.scanUsers\")}\r\n                    name=\"users\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: Lang.t(\"preference.chooseUsersValidate\"),\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Select\r\n                      mode=\"multiple\"\r\n                      labelInValue\r\n                      placeholder={Lang.t(\"preference.chooseUsers\")}\r\n                      notFoundContent={\r\n                        pager.loading ? <Spin size=\"small\" /> : null\r\n                      }\r\n                      filterOption={false}\r\n                      onSearch={this.fetchUser.bind(this)}\r\n                      style={{ width: \"100%\" }}\r\n                    >\r\n                      {pager.data.map((user: User) => (\r\n                        <Select.Option\r\n                          key={user.username!}\r\n                          value={user.username!}\r\n                        >\r\n                          {user.username}\r\n                        </Select.Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                )}\r\n              </>\r\n            )}\r\n            <div className=\"text-right\">\r\n              <Button type=\"primary\" htmlType=\"submit\" icon={<SaveOutlined />}>\r\n                {Lang.t(\"save\")}\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </TankContentCard>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport \"./RatePanel.less\"\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport {ArrowDownOutlined, ArrowUpOutlined} from \"@ant-design/icons/lib\";\r\nimport Color from \"../../../common/model/base/option/Color\";\r\n\r\ninterface IProps {\r\n  name: string\r\n  standardValue: number\r\n  compareValue: number\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class RatePanel extends TankComponent <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  getValue(): number {\r\n    if (this.props.standardValue === 0) {\r\n      if (this.props.compareValue === 0) {\r\n        return 0;\r\n      } else {\r\n        return 100;\r\n      }\r\n    } else {\r\n      let v1 = this.props.compareValue - this.props.standardValue\r\n      let v2 = v1 / this.props.standardValue\r\n      return parseInt((v2 * 100).toFixed(0))\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n    let name: string = this.props.name\r\n\r\n    let noData: boolean = this.props.standardValue === 0 && this.props.compareValue === 0\r\n    let infinite: boolean = this.props.standardValue === 0 && this.props.compareValue > 0\r\n    let value: number = this.getValue()\r\n\r\n    return (\r\n      <span className=\"widget-rate-panel\">\r\n\r\n            <span className=\"name\">{name}</span>\r\n\r\n        {infinite ? (\r\n          <span className=\"infinite\"></span>\r\n        ) : (\r\n          noData ? (\r\n            <span className=\"no-data\"> - </span>\r\n          ) : (\r\n            <span>{value > 0 ? '+' : ''}{value}%</span>\r\n          )\r\n        )}\r\n\r\n        {\r\n          (!noData && value < 0) &&\r\n          (<ArrowDownOutlined style={{fontSize: 16, color: Color.SUCCESS}}/>)\r\n        }\r\n\r\n        {\r\n          (!noData && (infinite || value >= 0)) &&\r\n          (<ArrowUpOutlined style={{fontSize: 16, color: Color.DANGER}}/>)\r\n        }\r\n\r\n      </span>\r\n    )\r\n  }\r\n}\r\n\r\n","import SafeUtil from '../../util/SafeUtil';\r\nimport BaseEntity from '../base/BaseEntity';\r\nimport Filter from \"../base/filter/Filter\";\r\nimport SortFilter from \"../base/filter/SortFilter\";\r\n\r\n\r\nexport default class Dashboard extends BaseEntity {\r\n\r\n  static URL_ACTIVE_IP_TOP10 = \"/api/dashboard/active/ip/top10\"\r\n  static URL_ETL = \"/api/dashboard/etl\"\r\n\r\n  invokeNum: number = 0;\r\n  totalInvokeNum: number = 0;\r\n  uv: number = 0;\r\n  totalUv: number = 0;\r\n  matterNum: number = 0;\r\n  totalMatterNum: number = 0;\r\n  fileSize: number = 0;\r\n  totalFileSize: number = 0;\r\n  avgCost: number = 0;\r\n  dt: string = \"\";\r\n\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n\r\n    super(reactComponent);\r\n\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n\r\n  }\r\n\r\n  getFilters(): Filter[] {\r\n    return [\r\n      ...super.getFilters(),\r\n      new SortFilter(\"DT\", \"orderDt\"),\r\n\r\n    ]\r\n  }\r\n\r\n  httpActiveIpTop10(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n    this.httpPost(Dashboard.URL_ACTIVE_IP_TOP10, {}, function (response: any) {\r\n\r\n      SafeUtil.safeCallback(successCallback)(response.data.data);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n\r\n  httpEtl(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n    this.httpPost(Dashboard.URL_ETL, {}, function (response: any) {\r\n\r\n      SafeUtil.safeCallback(successCallback)(response.data.data);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {Link, RouteComponentProps} from \"react-router-dom\";\r\nimport \"./Index.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport {Alert, Col, Row} from 'antd';\r\nimport RatePanel from \"./widget/RatePanel\";\r\nimport ReactEcharts from 'echarts-for-react';\r\nimport Echarts from 'echarts';\r\nimport theme from \"./theme.json\"\r\nimport Pager from \"../../common/model/base/Pager\";\r\nimport Dashboard from '../../common/model/dashboard/Dashboard';\r\nimport DateUtil from '../../common/util/DateUtil';\r\nimport SortDirection from \"../../common/model/base/SortDirection\";\r\nimport FileUtil from \"../../common/util/FileUtil\";\r\nimport Matter from '../../common/model/matter/Matter';\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\n\r\nEcharts.registerTheme('tank_theme', theme);\r\n\r\ninterface IProps extends RouteComponentProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\ninterface IpStruct {\r\n  ip: string\r\n  times: number\r\n}\r\n\r\nexport default class Index extends TankComponent<IProps, IState> {\r\n\r\n\r\n  //\r\n  pager: Pager<Dashboard> = new Pager<Dashboard>(this, Dashboard, 15);\r\n\r\n  //\r\n  dashboard: Dashboard = new Dashboard(this)\r\n  yesterdayDashboard: Dashboard = new Dashboard(this)\r\n\r\n  matterPager: Pager<Matter> = new Pager<Matter>(this, Matter, 10);\r\n\r\n  activeIpTop10: IpStruct[] = []\r\n\r\n  //**********************************/\r\n  days: number = 15\r\n  //x\r\n  dateStrings: string[] = []\r\n\r\n  //\r\n  standardWeekInvokeNum: number = 0\r\n  compareWeekInvokeNum: number = 0\r\n  //\r\n  standardDayInvokeNum: number = 0\r\n  compareDayInvokeNum: number = 0\r\n  //UV\r\n  standardWeekUv: number = 0\r\n  compareWeekUv: number = 0\r\n  //UV\r\n  standardDayUv: number = 0\r\n  compareDayUv: number = 0\r\n  //\r\n  standardWeekMatterNum: number = 0\r\n  compareWeekMatterNum: number = 0\r\n  //\r\n  standardDayMatterNum: number = 0\r\n  compareDayMatterNum: number = 0\r\n  //\r\n  standardWeekSize: number = 0\r\n  compareWeekSize: number = 0\r\n  //\r\n  standardDaySize: number = 0\r\n  compareDaySize: number = 0\r\n\r\n  invokeListOption: any = {\r\n    tooltip: {},\r\n    legend: {\r\n      data: ['PV', 'UV']\r\n    },\r\n    xAxis: {\r\n      name: Lang.t(\"assign.date\"),\r\n      data: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\r\n    },\r\n    yAxis: {\r\n      name: Lang.t(\"assign.num\")\r\n    },\r\n    series: [{\r\n      name: 'PV',\r\n      type: 'bar',\r\n      data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n    }, {\r\n      name: 'UV',\r\n      type: 'line',\r\n      data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n    }]\r\n  };\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.refresh()\r\n\r\n  }\r\n\r\n  refresh() {\r\n\r\n    this.updateDateStrings()\r\n    this.refreshDashboardPager()\r\n    this.refreshMatterPager()\r\n    this.refreshActiveIpTop10()\r\n  }\r\n\r\n  updateDateStrings() {\r\n    let that = this;\r\n    // \r\n    let arr = []\r\n    for (let d = that.days - 1; d >= 0; d--) {\r\n      let thenDate = new Date((new Date()).getTime() - d * 24 * 60 * 60 * 1000)\r\n      arr.push(DateUtil.simpleDate(thenDate))\r\n    }\r\n    that.dateStrings = arr\r\n  }\r\n\r\n  //15\r\n  refreshDashboardPager() {\r\n    let that = this;\r\n\r\n    this.pager.setFilterValue(\"orderDt\", SortDirection.DESC)\r\n\r\n    this.pager.httpList(function (response: any) {\r\n\r\n      let list = that.pager.data\r\n\r\n      if (list.length > 0) {\r\n        that.dashboard.assign(list[0])\r\n      }\r\n\r\n      if (list.length > 1) {\r\n        that.yesterdayDashboard.assign(list[1])\r\n      }\r\n\r\n      //map\r\n      let map: { [key: string]: Dashboard } = {}\r\n      for (let i = 0; i < list.length; i++) {\r\n        map[list[i].dt] = list[i]\r\n      }\r\n\r\n      let invokeNumData = []\r\n      let uvData = []\r\n      let matterNumData = []\r\n      let fileSizeData = []\r\n      for (let i = 0; i < that.days; i++) {\r\n        invokeNumData.push(0)\r\n        uvData.push(0)\r\n        matterNumData.push(0)\r\n        fileSizeData.push(0)\r\n      }\r\n\r\n      //\r\n      for (let i = 0; i < that.dateStrings.length; i++) {\r\n        let item = map[that.dateStrings[i]];\r\n        if (item) {\r\n          invokeNumData[i] = item.invokeNum\r\n          uvData[i] = item.uv\r\n          matterNumData[i] = item.matterNum\r\n          fileSizeData[i] = item.fileSize\r\n\r\n        }\r\n      }\r\n\r\n      //\r\n      that.standardWeekInvokeNum = 0\r\n      that.compareWeekInvokeNum = 0\r\n      //\r\n      that.standardDayInvokeNum = 0\r\n      that.compareDayInvokeNum = 0\r\n      //UV\r\n      that.standardWeekUv = 0\r\n      that.compareWeekUv = 0\r\n      //UV\r\n      that.standardDayUv = 0\r\n      that.compareDayUv = 0\r\n\r\n      //\r\n      that.standardWeekMatterNum = 0\r\n      that.compareWeekMatterNum = 0\r\n      //\r\n      that.standardDayMatterNum = 0\r\n      that.compareDayMatterNum = 0\r\n      //\r\n      that.standardWeekSize = 0\r\n      that.compareWeekSize = 0\r\n      //\r\n      that.standardDaySize = 0\r\n      that.compareDaySize = 0\r\n\r\n      for (let i = 0; i < that.days; i++) {\r\n        if (i >= 0 && i <= 6) {\r\n          that.standardWeekInvokeNum += invokeNumData[i]\r\n          that.standardWeekUv += uvData[i]\r\n          that.standardWeekMatterNum += matterNumData[i]\r\n          that.standardWeekSize += fileSizeData[i]\r\n\r\n        } else if (i >= 7 && i <= 13) {\r\n          that.compareWeekInvokeNum += invokeNumData[i]\r\n          that.compareWeekUv += uvData[i]\r\n          that.compareWeekMatterNum += matterNumData[i]\r\n          that.compareWeekSize += fileSizeData[i]\r\n        }\r\n        if (i === 12) {\r\n          that.standardDayInvokeNum = invokeNumData[i]\r\n          that.standardDayUv = uvData[i]\r\n          that.standardDayMatterNum = matterNumData[i]\r\n          that.standardDaySize = fileSizeData[i]\r\n\r\n        }\r\n        if (i === 13) {\r\n          that.compareDayInvokeNum = invokeNumData[i]\r\n          that.compareDayUv = uvData[i]\r\n          that.compareDayMatterNum = matterNumData[i]\r\n          that.compareDaySize = fileSizeData[i]\r\n        }\r\n      }\r\n\r\n\r\n      that.invokeListOption.xAxis.data = that.dateStrings.map((k) => k.substr(5))\r\n      that.invokeListOption.series[0].data = invokeNumData\r\n      that.invokeListOption.series[1].data = uvData\r\n\r\n      that.updateUI()\r\n    })\r\n\r\n  }\r\n\r\n  //10\r\n  refreshMatterPager() {\r\n    let that = this;\r\n    that.matterPager.setFilterValue(\"orderTimes\", SortDirection.DESC)\r\n    that.matterPager.httpList()\r\n  }\r\n\r\n  refreshActiveIpTop10() {\r\n    let that = this\r\n    that.dashboard.httpActiveIpTop10(function (data: any) {\r\n      that.activeIpTop10 = data\r\n      that.updateUI()\r\n    })\r\n  }\r\n\r\n  reRun() {\r\n    let that = this\r\n    that.dashboard.httpEtl(function (data: any) {\r\n\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"))\r\n\r\n      that.refresh()\r\n    })\r\n  }\r\n\r\n  onChartReady() {\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let dashboard: Dashboard = this.dashboard\r\n    let yesterdayDashboard: Dashboard = this.yesterdayDashboard\r\n\r\n    return (\r\n      <div className=\"page-dashboard-index\">\r\n\r\n        <TankTitle name={Lang.t(\"layout.dashboard\")}>\r\n        </TankTitle>\r\n\r\n        <Row gutter={18}>\r\n          <Col xs={24} sm={24} md={12} lg={6}>\r\n            <div className=\"text-block\">\r\n              <div className=\"upper\">\r\n                <div className=\"indicator\">{Lang.t(\"dashboard.totalInvokeNum\")}</div>\r\n                <div className=\"amount\">{dashboard.totalInvokeNum}</div>\r\n                <div>\r\n                  <RatePanel name={Lang.t(\"dashboard.weekRate\")} standardValue={this.standardWeekInvokeNum}\r\n                             compareValue={this.compareWeekInvokeNum}/>\r\n                  <RatePanel name={Lang.t(\"dashboard.dayRate\")} standardValue={this.standardDayInvokeNum}\r\n                             compareValue={this.compareDayInvokeNum}/>\r\n                </div>\r\n              </div>\r\n              <div className=\"lower\">\r\n                {Lang.t(\"dashboard.yesterdayInvoke\")}:{yesterdayDashboard.invokeNum}\r\n              </div>\r\n            </div>\r\n          </Col>\r\n\r\n          <Col xs={24} sm={24} md={12} lg={6}>\r\n            <div className=\"text-block\">\r\n              <div className=\"upper\">\r\n                <div className=\"indicator\">{Lang.t(\"dashboard.totalUV\")}</div>\r\n                <div className=\"amount\">{dashboard.totalUv}</div>\r\n                <div>\r\n                  <RatePanel name={Lang.t(\"dashboard.weekRate\")} standardValue={this.standardWeekUv}\r\n                             compareValue={this.compareWeekUv}/>\r\n                  <RatePanel name={Lang.t(\"dashboard.dayRate\")} standardValue={this.standardDayUv}\r\n                             compareValue={this.compareDayUv}/>\r\n                </div>\r\n              </div>\r\n              <div className=\"lower\">\r\n                {Lang.t(\"dashboard.yesterdayUV\")}:{yesterdayDashboard.uv}\r\n              </div>\r\n            </div>\r\n          </Col>\r\n\r\n\r\n          <Col xs={24} sm={24} md={12} lg={6}>\r\n            <div className=\"text-block\">\r\n              <div className=\"upper\">\r\n                <div className=\"indicator\">{Lang.t(\"dashboard.totalMatterNum\")}</div>\r\n                <div className=\"amount\">{dashboard.totalMatterNum}</div>\r\n                <div>\r\n                  <RatePanel name={Lang.t(\"dashboard.weekRate\")} standardValue={this.standardWeekMatterNum}\r\n                             compareValue={this.compareWeekMatterNum}/>\r\n                  <RatePanel name={Lang.t(\"dashboard.dayRate\")} standardValue={this.standardDayMatterNum}\r\n                             compareValue={this.compareDayMatterNum}/>\r\n                </div>\r\n              </div>\r\n              <div className=\"lower\">\r\n                {Lang.t(\"dashboard.yesterdayMatterNum\")}:{yesterdayDashboard.matterNum}\r\n              </div>\r\n            </div>\r\n          </Col>\r\n\r\n          <Col xs={24} sm={24} md={12} lg={6}>\r\n            <div className=\"text-block\">\r\n              <div className=\"upper\">\r\n                <div className=\"indicator\">{Lang.t(\"dashboard.totalFileSize\")}</div>\r\n                <div className=\"amount\">{FileUtil.humanFileSize(dashboard.totalFileSize)}</div>\r\n                <div>\r\n                  <RatePanel name={Lang.t(\"dashboard.weekRate\")} standardValue={this.standardWeekSize}\r\n                             compareValue={this.compareWeekSize}/>\r\n                  <RatePanel name={Lang.t(\"dashboard.dayRate\")} standardValue={this.standardDaySize}\r\n                             compareValue={this.compareDaySize}/>\r\n                </div>\r\n              </div>\r\n              <div className=\"lower\">\r\n                {Lang.t(\"dashboard.yesterdayMatterSize\")}:{FileUtil.humanFileSize(yesterdayDashboard.fileSize)}\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col span={24}>\r\n\r\n            <div className=\"figure-block\">\r\n              <div className=\"title\">\r\n                {Lang.t(\"dashboard.recentDayInvokeUV\", 15)}\r\n              </div>\r\n              <figure>\r\n                <ReactEcharts\r\n                  option={that.invokeListOption}\r\n                  notMerge={true}\r\n                  lazyUpdate={false}\r\n                  theme={\"tank_theme\"}\r\n                  onChartReady={this.onChartReady.bind(this)}\r\n                  showLoading={this.pager.loading}\r\n                  opts={{renderer: \"svg\"}}/>\r\n              </figure>\r\n            </div>\r\n\r\n\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row gutter={18}>\r\n          <Col xs={24} sm={24} md={12} lg={12}>\r\n\r\n            <div className=\"figure-block\">\r\n              <div className=\"title\">\r\n                {Lang.t(\"dashboard.downloadMatterTop10\")}\r\n              </div>\r\n              <div className=\"list-rank\">\r\n                <ul>\r\n                  {\r\n                    this.matterPager.data.map((matter: Matter, index: number) => {\r\n                      return (\r\n                        <li key={index}>\r\n                          <span className={`rank ${index < 3 ? 'top3' : ''}`}>{index + 1}</span>\r\n                          <Link className=\"name\" to={'/matter/detail/' + matter.uuid}>{matter.name}</Link>\r\n                          <span className=\"info\">{matter.times}</span>\r\n                        </li>\r\n                      )\r\n                    })\r\n                  }\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n\r\n          </Col>\r\n\r\n\r\n          <Col  xs={24} sm={24} md={12} lg={12}>\r\n\r\n            <div className=\"figure-block\">\r\n              <div className=\"title\">\r\n                {Lang.t(\"dashboard.activeIpTop10\")}\r\n              </div>\r\n              <div className=\"list-rank\">\r\n                <ul>\r\n                  {\r\n                    this.activeIpTop10.map((item: IpStruct, index: number) => {\r\n                      return (\r\n                        <li key={index}>\r\n                          <span className={`rank ${index < 3 ? 'top3' : ''}`}>{index + 1}</span>\r\n                          <span className=\"name\">{item.ip}</span>\r\n                          <span className=\"info\">{item.times}</span>\r\n                        </li>\r\n                      )\r\n                    })\r\n                  }\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n          </Col>\r\n\r\n        </Row>\r\n\r\n        <div>\r\n          <Alert\r\n            message={<span>\r\n              {Lang.t(\"dashboard.warnHint\")}\r\n              <span className=\"link\" onClick={this.reRun.bind(this)}>{Lang.t(\"dashboard.reRun\")}</span>\r\n            </span>}\r\n            type=\"warning\"\r\n          />\r\n        </div>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import SafeUtil from '../../util/SafeUtil';\r\nimport BaseEntity from '../base/BaseEntity';\r\nimport User from \"../user/User\";\r\n\r\nexport default class Install extends BaseEntity {\r\n\r\n  static URL_VERIFY = '/api/install/verify'\r\n  static URL_TABLE_INFO_LIST = '/api/install/table/info/list'\r\n  static URL_ADMIN_LIST = '/api/install/admin/list'\r\n  static URL_CREATE_TABLE = '/api/install/create/table'\r\n  static URL_CREATE_ADMIN = '/api/install/create/admin'\r\n  static URL_VALIDATE_ADMIN = '/api/install/validate/admin'\r\n  static URL_FINISH = '/api/install/finish'\r\n\r\n  //\r\n  mysqlPort: number = 3306\r\n  mysqlHost: string = \"127.0.0.1\"\r\n  mysqlSchema: string = \"tank\"\r\n  mysqlUsername: string = \"tank\"\r\n  mysqlPassword: string | null = null\r\n  mysqlCharset: string = \"utf8\"\r\n\r\n  //\r\n  adminUsername: string | null = null\r\n  adminPassword: string | null = null\r\n  adminRepassword: string | null = null\r\n\r\n  //\r\n  tableInfoList: any[] = []\r\n\r\n  //\r\n  adminList: User[] = []\r\n\r\n  //\r\n  verified: boolean = false\r\n  //\r\n  adminConfigured: boolean = false\r\n\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n\r\n    super(reactComponent);\r\n\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n\r\n  }\r\n\r\n  getMysqlForm() {\r\n    return {\r\n      mysqlHost: this.mysqlHost,\r\n      mysqlPort: this.mysqlPort,\r\n      mysqlSchema: this.mysqlSchema,\r\n      mysqlUsername: this.mysqlUsername,\r\n      mysqlPassword: this.mysqlPassword,\r\n      mysqlCharset: this.mysqlCharset,\r\n    }\r\n  }\r\n\r\n  getForm() {\r\n    return {\r\n      mysqlPort: this.mysqlPort,\r\n      mysqlHost: this.mysqlHost,\r\n      mysqlSchema: this.mysqlSchema,\r\n      mysqlUsername: this.mysqlUsername,\r\n      mysqlPassword: this.mysqlPassword,\r\n      mysqlCharset: this.mysqlCharset,\r\n      adminUsername: this.adminUsername,\r\n      adminPassword: this.adminPassword,\r\n    }\r\n  }\r\n\r\n\r\n  //\r\n  tableCreated() {\r\n    if (!this.tableInfoList || this.tableInfoList.length === 0) {\r\n      return false\r\n    }\r\n    for (let i = 0; i < this.tableInfoList.length; i++) {\r\n      let tableInfo = this.tableInfoList[i]\r\n      if (!tableInfo.tableExist) {\r\n        return false\r\n      }\r\n\r\n      if (tableInfo.tableExist && tableInfo.missingFields.length !== 0) {\r\n        return false\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  httpVerify(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    this.httpPost(Install.URL_VERIFY, this.getMysqlForm(), function (response: any) {\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n\r\n    }, errorCallback)\r\n  }\r\n\r\n  httpTableInfoList(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    if (!this.verified) {\r\n      this.defaultErrorHandler(\"Please verify mysql first\", errorCallback)\r\n      return\r\n    }\r\n\r\n    this.httpPost(Install.URL_TABLE_INFO_LIST, this.getForm(), function (response: any) {\r\n\r\n      that.tableInfoList.splice(0, that.tableInfoList.length);\r\n      that.tableInfoList.push(...response.data.data)\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n  httpCreateTable(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    if (!this.verified) {\r\n      this.defaultErrorHandler(\"Please verify mysql first\", errorCallback)\r\n      return\r\n    }\r\n\r\n    this.httpPost(Install.URL_CREATE_TABLE, this.getForm(), function (response: any) {\r\n\r\n      that.tableInfoList.splice(0, that.tableInfoList.length);\r\n      that.tableInfoList.push(...response.data.data)\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n  //\r\n  httpAdminList(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    if (!this.tableCreated()) {\r\n      this.defaultErrorHandler(\"Please verify create table first\", errorCallback)\r\n      return\r\n    }\r\n\r\n\r\n    let form = this.getForm()\r\n\r\n\r\n    this.httpPost(Install.URL_ADMIN_LIST, form, function (response: any) {\r\n\r\n      that.adminList = BaseEntity.renderList(response.data.data, User)\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n\r\n  httpCreateAdmin(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    if (!this.tableCreated()) {\r\n      this.defaultErrorHandler(\"Please verify create table first\", errorCallback)\r\n      return\r\n    }\r\n\r\n\r\n    if (this.adminPassword !== this.adminRepassword) {\r\n      this.defaultErrorHandler(\"password not same\", errorCallback)\r\n      return\r\n    }\r\n\r\n\r\n    let form = this.getForm()\r\n\r\n    this.httpPost(Install.URL_CREATE_ADMIN, form, function (response: any) {\r\n\r\n      that.adminConfigured = true\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n\r\n  //\r\n  httpValidateAdmin(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n    if (!this.tableCreated()) {\r\n      this.defaultErrorHandler(\"Please verify create table first\", errorCallback)\r\n      return\r\n    }\r\n\r\n    if (!this.adminUsername || !this.adminPassword) {\r\n      this.defaultErrorHandler(\"username and password required\", errorCallback)\r\n      return\r\n    }\r\n\r\n    let form = this.getForm()\r\n\r\n    this.httpPost(Install.URL_VALIDATE_ADMIN, form, function (response: any) {\r\n\r\n      that.adminConfigured = true\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n\r\n  //\r\n  httpFinish(successCallback?: any, errorCallback?: any, finalCallback?: any) {\r\n    let that = this\r\n\r\n\r\n    let form = this.getForm()\r\n\r\n    this.httpPost(Install.URL_FINISH, form, function (response: any) {\r\n\r\n\r\n      SafeUtil.safeCallback(successCallback)(response);\r\n\r\n    }, errorCallback, finalCallback)\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport './SetAdminPanel.less';\r\nimport Install from \"../../../common/model/install/Install\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport PhaseSelectingPanel from \"./inner/PhaseSelectingPanel\";\r\nimport PhaseVerifyPanel from \"./inner/PhaseVerifyPanel\";\r\nimport PhaseCreatePanel from \"./inner/PhaseCreatePanel\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\nenum Phase {\r\n  //\r\n  SELECTING = \"SELECTING\",\r\n  //\r\n  VERIFY = \"VERIFY\",\r\n  //\r\n  CREATE = \"CREATE\",\r\n}\r\n\r\ninterface IProps {\r\n\r\n  install: Install\r\n\r\n  onPreStep: () => void\r\n  onNextStep: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class SetAdminPanel extends TankComponent<IProps, IState> {\r\n\r\n  phase: Phase = Phase.SELECTING\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n  }\r\n\r\n\r\n  goToPrevious() {\r\n    let that = this\r\n\r\n    this.props.onPreStep()\r\n\r\n  }\r\n\r\n  goToNext() {\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    if (install.adminConfigured) {\r\n\r\n      this.props.onNextStep()\r\n\r\n    } else {\r\n      MessageBoxUtil.error(Lang.t(\"install.configAdminFirst\"))\r\n    }\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n    let phase: Phase = this.phase\r\n\r\n    return (\r\n      <div className=\"widget-set-admin-panel\">\r\n        {phase === Phase.SELECTING && (\r\n\r\n          <PhaseSelectingPanel install={install} onRefresh={() => {\r\n            if (install.adminList.length) {\r\n              that.phase = Phase.SELECTING\r\n            } else {\r\n              that.phase = Phase.CREATE\r\n            }\r\n            that.updateUI()\r\n          }}\r\n                               onSelectVerify={() => {\r\n                                 that.phase = Phase.VERIFY\r\n                                 that.updateUI()\r\n                               }} onSelectCreate={() => {\r\n            that.phase = Phase.CREATE\r\n            that.updateUI()\r\n          }} onPreStep={this.goToPrevious.bind(this)} onNextStep={this.goToNext.bind(this)}\r\n          />\r\n        )}\r\n\r\n\r\n        {phase === Phase.VERIFY && (\r\n          <PhaseVerifyPanel install={install} onSuccess={() => {\r\n\r\n            that.props.onNextStep()\r\n\r\n          }} onPreStep={() => {\r\n            that.phase = Phase.SELECTING\r\n            that.updateUI()\r\n\r\n          }}/>\r\n        )}\r\n\r\n        {phase === Phase.CREATE && (\r\n          <PhaseCreatePanel install={install} onSuccess={() => {\r\n\r\n            that.props.onNextStep()\r\n\r\n          }} onPreStep={() => {\r\n            that.phase = Phase.SELECTING\r\n            that.updateUI()\r\n\r\n          }}/>\r\n        )}\r\n\r\n      </div>\r\n    )\r\n\r\n  }\r\n}\r\n","import React from 'react';\r\nimport './MysqlPanel.less';\r\nimport {Alert, Button, Form, Input, Select} from 'antd';\r\nimport Install from \"../../../common/model/install/Install\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport {FormInstance} from \"antd/lib/form\";\r\nimport {ArrowRightOutlined, DisconnectOutlined, LinkOutlined, SoundOutlined} from \"@ant-design/icons/lib\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  install: Install\r\n  onNextStep: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class MysqlPanel extends TankComponent<IProps, IState> {\r\n  formRef = React.createRef<FormInstance>();\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    that.updateUI();\r\n  }\r\n\r\n\r\n  onFinish(values: any) {\r\n\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    install.mysqlHost = values[\"mysqlHost\"]\r\n    install.mysqlPort = values[\"mysqlPort\"]\r\n    install.mysqlSchema = values[\"mysqlSchema\"]\r\n    install.mysqlUsername = values[\"mysqlUsername\"]\r\n    install.mysqlPassword = values[\"mysqlPassword\"]\r\n    install.mysqlCharset = values[\"mysqlCharset\"]\r\n\r\n    install.httpVerify(function () {\r\n\r\n      install.verified = true\r\n      MessageBoxUtil.success(Lang.t(\"install.mysqlConnectionPass\"))\r\n      that.updateUI()\r\n\r\n    }, function (msg: any) {\r\n\r\n      install.verified = false\r\n      MessageBoxUtil.error(msg)\r\n      that.updateUI()\r\n\r\n    })\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n\r\n  };\r\n\r\n  goToNext() {\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    if (install.verified) {\r\n\r\n      this.props.onNextStep()\r\n\r\n    } else {\r\n      MessageBoxUtil.error(Lang.t(\"install.validateMysqlFirst\"))\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n\r\n    let install: Install = this.props.install\r\n\r\n    const layout = {\r\n      labelCol: {span: 6},\r\n      wrapperCol: {span: 18},\r\n    };\r\n\r\n    return (\r\n      <div className=\"widget-mysql-panel\">\r\n\r\n        <Form\r\n          {...layout}\r\n          name=\"basic\"\r\n          ref={this.formRef}\r\n          onFinish={this.onFinish.bind(this)}\r\n          onFinishFailed={this.onFinishFailed.bind(this)}\r\n          onValuesChange={() => {\r\n            that.updateUI()\r\n          }}\r\n        >\r\n          <Form.Item\r\n            label=\"MySQL host\"\r\n            name=\"mysqlHost\"\r\n            initialValue={install.mysqlHost}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.port\")}\r\n            name=\"mysqlPort\"\r\n            initialValue={install.mysqlPort}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.schema\")}\r\n            name=\"mysqlSchema\"\r\n            initialValue={install.mysqlSchema}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.username\")}\r\n            name=\"mysqlUsername\"\r\n            initialValue={install.mysqlUsername}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.password\")}\r\n            name=\"mysqlPassword\"\r\n            initialValue={install.mysqlPassword}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.charset\")}\r\n            name=\"mysqlCharset\"\r\n            initialValue={install.mysqlCharset}\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Select>\r\n              <Select.Option value=\"utf8\">utf8</Select.Option>\r\n              <Select.Option value=\"utf8mb4\">utf8mb4</Select.Option>\r\n              <Select.Option value=\"gbk\">gbk</Select.Option>\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <div>\r\n            <Alert\r\n              message={<div>\r\n                <div><SoundOutlined/> {Lang.t(\"install.notice\")}</div>\r\n                <div>\r\n                  <ol>\r\n                    <li> {Lang.t(\"install.mysqlNotice1\")}</li>\r\n                    <li>{Lang.t(\"install.mysqlNotice2\")}</li>\r\n                  </ol>\r\n                </div>\r\n              </div>}\r\n              type=\"info\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"text-right mt15\">\r\n            <Button type={install.verified ? \"primary\" : \"default\"} htmlType=\"submit\"\r\n                    icon={install.verified ? <LinkOutlined/> : <DisconnectOutlined/>}>\r\n              {install.verified ? Lang.t(\"install.mysqlConnectionPass\") : Lang.t(\"install.testMysqlConnection\")}\r\n            </Button>\r\n            <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowRightOutlined/>}\r\n                    onClick={this.goToNext.bind(this)}>\r\n              {Lang.t(\"install.nextStep\")}\r\n            </Button>\r\n          </div>\r\n\r\n        </Form>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport './CreateTablePanel.less';\r\nimport {Alert, Button, Spin, Tag} from 'antd';\r\nimport Install from \"../../../common/model/install/Install\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Color from \"../../../common/model/base/option/Color\";\r\nimport {\r\n  ArrowLeftOutlined,\r\n  ArrowRightOutlined,\r\n  CheckOutlined,\r\n  FormatPainterOutlined,\r\n  SoundOutlined,\r\n  SyncOutlined\r\n} from \"@ant-design/icons/lib\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n\r\n  install: Install\r\n  onPreStep: () => void\r\n  onNextStep: () => void\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class CreateTablePanel extends TankComponent<IProps, IState> {\r\n\r\n  loading: boolean = true\r\n\r\n  createTableLoading: boolean = false\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    this.fetchTableInfoList()\r\n\r\n  }\r\n\r\n  fetchTableInfoList() {\r\n\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    this.loading = true\r\n    this.updateUI()\r\n\r\n    install.httpTableInfoList(null, null, function () {\r\n      that.loading = false\r\n      that.updateUI()\r\n    })\r\n  }\r\n\r\n  createTable() {\r\n    //\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    that.createTableLoading = true\r\n    that.updateUI()\r\n\r\n    install.httpCreateTable(function () {\r\n      MessageBoxUtil.success(Lang.t(\"install.createTableSuccess\"))\r\n    }, null, function () {\r\n\r\n      that.createTableLoading = false\r\n      that.updateUI()\r\n    })\r\n  }\r\n\r\n  goToPrevious() {\r\n    let that = this\r\n\r\n    this.props.onPreStep()\r\n\r\n  }\r\n\r\n  goToNext() {\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    if (install.tableCreated()) {\r\n\r\n      this.props.onNextStep()\r\n\r\n    } else {\r\n      MessageBoxUtil.error(Lang.t(\"install.crateTableFirst\"))\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n\r\n    let install: Install = this.props.install\r\n\r\n    let tableCreated: boolean = install.tableCreated()\r\n\r\n    return (\r\n      <div className=\"widget-create-panel\">\r\n\r\n        <Spin spinning={that.loading}>\r\n          {\r\n            install.tableInfoList.map(function (tableInfo: any, index: number) {\r\n\r\n              return (\r\n                <div className=\"install-block\" key={index}>\r\n                  <div className=\"f16\">\r\n                    {tableInfo.name}\r\n\r\n                    {\r\n                      (tableInfo.tableExist && tableInfo.missingFields.length === 0) && (\r\n                        <Tag className=\"mh5\" color={Color.SUCCESS}>{Lang.t(\"install.installed\")}</Tag>\r\n                      )\r\n                    }\r\n\r\n                    {\r\n                      (tableInfo.tableExist && tableInfo.missingFields.length > 0) && (\r\n                        <Tag className=\"mh5\" color={Color.DANGER}>{Lang.t(\"install.installedButMissing\")}</Tag>\r\n                      )\r\n                    }\r\n\r\n                    {\r\n                      !tableInfo.tableExist && (\r\n                        <Tag className=\"mh5\" color={Color.WARNING}>{Lang.t(\"install.toBeInstalled\")}</Tag>\r\n                      )\r\n                    }\r\n                  </div>\r\n\r\n                  <div className=\"mt10\">\r\n                    {Lang.t(\"install.allFields\")}:\r\n                    {\r\n                      tableInfo.allFields.map(function (field: any, j: number) {\r\n\r\n                        return (\r\n                          <Tag className=\"mh5 mv5\" key={j}>\r\n                            {field.DBName}\r\n                          </Tag>\r\n                        )\r\n                      })\r\n                    }\r\n                  </div>\r\n\r\n\r\n                  {\r\n                    (tableInfo.tableExist && tableInfo.missingFields.length > 0) && (\r\n                      <div className=\"mt10\">\r\n                        {Lang.t(\"install.missingFields\")}:\r\n                        {\r\n                          tableInfo.missingFields.map(function (field: any, j: number) {\r\n\r\n                            return (\r\n                              <Tag className=\"mh5 mv5\" key={j}>\r\n                                {field.DBName}\r\n                              </Tag>\r\n                            )\r\n                          })\r\n                        }\r\n                      </div>\r\n                    )\r\n                  }\r\n\r\n                </div>\r\n              )\r\n\r\n            })\r\n          }\r\n\r\n\r\n          <div>\r\n            <Alert\r\n              message={<div>\r\n                <div><SoundOutlined/> {Lang.t(\"install.tableNotice\")}</div>\r\n                <div>\r\n                  <ol>\r\n                    <li> {Lang.t(\"install.tableNotice1\")}</li>\r\n                    <li>{Lang.t(\"install.tableNotice2\")}</li>\r\n                    <li>{Lang.t(\"install.tableNotice3\")}</li>\r\n                    <li>{Lang.t(\"install.tableNotice4\")}</li>\r\n                  </ol>\r\n                </div>\r\n              </div>}\r\n              type=\"info\"\r\n            />\r\n          </div>\r\n\r\n\r\n          <div className=\"text-right mt15\">\r\n            <Button className={'ml10'} type={\"default\"}\r\n                    icon={<SyncOutlined/>}\r\n                    onClick={this.fetchTableInfoList.bind(this)}\r\n            >\r\n              {Lang.t(\"refresh\")}\r\n            </Button>\r\n\r\n            <Button className={'ml10'} type={tableCreated ? \"primary\" : \"default\"}\r\n                    icon={tableCreated ? <CheckOutlined/> : <FormatPainterOutlined/>}\r\n                    onClick={this.createTable.bind(this)}\r\n                    disabled={tableCreated}\r\n                    loading={this.createTableLoading}\r\n            >\r\n              {tableCreated ? Lang.t(\"install.createFinish\") : Lang.t(\"install.oneKeyCreate\")}\r\n            </Button>\r\n\r\n            <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowLeftOutlined/>}\r\n                    onClick={this.goToPrevious.bind(this)}>\r\n              {Lang.t(\"install.preStep\")}\r\n            </Button>\r\n            <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowRightOutlined/>}\r\n                    onClick={this.goToNext.bind(this)}>\r\n              {Lang.t(\"install.nextStep\")}\r\n            </Button>\r\n          </div>\r\n\r\n        </Spin>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport './PhaseSelectingPanel.less';\r\nimport TankComponent from \"../../../../common/component/TankComponent\";\r\nimport Install from \"../../../../common/model/install/Install\";\r\nimport User from \"../../../../common/model/user/User\";\r\nimport {Button} from \"antd\";\r\nimport {\r\n  ArrowLeftOutlined,\r\n  ArrowRightOutlined,\r\n  SecurityScanOutlined,\r\n  SyncOutlined,\r\n  UserAddOutlined\r\n} from \"@ant-design/icons/lib\";\r\nimport Lang from \"../../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  install: Install\r\n\r\n  onRefresh: () => void\r\n  onSelectVerify: () => void\r\n  onSelectCreate: () => void\r\n  onPreStep: () => void\r\n  onNextStep: () => void\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class PhaseSelectingPanel extends TankComponent<IProps, IState> {\r\n\r\n  loadingAdminList: boolean = false\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    this.refreshAdminList()\r\n  }\r\n\r\n\r\n  refreshAdminList() {\r\n    //\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    that.loadingAdminList = true\r\n    that.updateUI()\r\n\r\n    install.httpAdminList(null, null, function () {\r\n      that.loadingAdminList = false\r\n      that.updateUI()\r\n      that.props.onRefresh()\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    return (\r\n      <div className=\"widget-phase-selecting-panel\">\r\n\r\n        <div>\r\n          {Lang.t(\"install.detectAdministrator\")}:\r\n        </div>\r\n        {\r\n          install.adminList.map(function (admin: User, index: number) {\r\n            return (\r\n              <div key={index} className=\"mv10 bold\">\r\n                {admin.username}\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n\r\n        <div>\r\n          {Lang.t(\"install.useOrCreateAdministrator\")}\r\n        </div>\r\n\r\n        <div className=\"text-right mt15\">\r\n          <Button className={'ml10'} type={\"default\"}\r\n                  icon={<SyncOutlined/>}\r\n                  onClick={this.refreshAdminList.bind(this)}\r\n                  loading={this.loadingAdminList}\r\n          >\r\n            {Lang.t(\"refresh\")}\r\n          </Button>\r\n\r\n          <Button className={'ml10'} type={\"default\"}\r\n                  icon={<SecurityScanOutlined/>}\r\n                  onClick={this.props.onSelectVerify.bind(this)}\r\n          >\r\n            {Lang.t(\"install.validateAdministrator\")}\r\n          </Button>\r\n\r\n          <Button className={'ml10'} type={\"default\"}\r\n                  icon={<UserAddOutlined/>}\r\n                  onClick={this.props.onSelectCreate.bind(this)}\r\n          >\r\n            {Lang.t(\"install.createAdministrator\")}\r\n          </Button>\r\n\r\n          <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowLeftOutlined/>}\r\n                  onClick={this.props.onPreStep.bind(this)}>\r\n            {Lang.t(\"install.preStep\")}\r\n          </Button>\r\n          <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowRightOutlined/>}\r\n                  onClick={this.props.onNextStep.bind(this)}>\r\n            {Lang.t(\"install.nextStep\")}\r\n          </Button>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport './PhaseVerifyPanel.less';\r\nimport TankComponent from \"../../../../common/component/TankComponent\";\r\nimport Install from \"../../../../common/model/install/Install\";\r\nimport {Button, Form, Input} from \"antd\";\r\nimport {ArrowLeftOutlined, SendOutlined} from \"@ant-design/icons/lib\";\r\nimport MessageBoxUtil from \"../../../../common/util/MessageBoxUtil\";\r\nimport Lang from \"../../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n\r\n  install: Install\r\n\r\n\r\n  onSuccess: () => void\r\n  onPreStep: () => void\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class PhaseVerifyPanel extends TankComponent<IProps, IState> {\r\n\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n  }\r\n\r\n\r\n  onFinish(values: any) {\r\n\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    install.adminUsername = values[\"adminUsername\"]\r\n    install.adminPassword = values[\"adminPassword\"]\r\n\r\n    install.httpValidateAdmin(function () {\r\n      MessageBoxUtil.success(Lang.t(\"install.validateAdminSuccess\"))\r\n\r\n      that.props.onSuccess()\r\n    })\r\n\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n\r\n  };\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    const layout = {\r\n      labelCol: {span: 6},\r\n      wrapperCol: {span: 18},\r\n    };\r\n\r\n\r\n    return (\r\n      <div className=\"widget-phase-verify-panel\">\r\n\r\n        <div className=\"text-center\">\r\n          <h2>{Lang.t(\"install.validateAdministrator\")}</h2>\r\n        </div>\r\n\r\n        <Form\r\n          {...layout}\r\n          name=\"basic\"\r\n          onFinish={this.onFinish.bind(this)}\r\n          onFinishFailed={this.onFinishFailed.bind(this)}\r\n          onValuesChange={() => {\r\n            that.updateUI()\r\n          }}\r\n        >\r\n          <Form.Item\r\n            label={Lang.t(\"install.administratorUsername\")}\r\n            name=\"adminUsername\"\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.administratorPassword\")}\r\n            name=\"adminPassword\"\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n          <div className=\"text-right mt15\">\r\n\r\n            <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowLeftOutlined/>}\r\n                    onClick={this.props.onPreStep.bind(this)}>\r\n              {Lang.t(\"install.preStep\")}\r\n            </Button>\r\n\r\n            <Button className={'ml10'} type={\"primary\"}\r\n                    icon={<SendOutlined/>}\r\n                    htmlType=\"submit\"\r\n            >\r\n              {Lang.t(\"submit\")}\r\n            </Button>\r\n\r\n          </div>\r\n        </Form>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport './PhaseCreatePanel.less';\r\nimport TankComponent from \"../../../../common/component/TankComponent\";\r\nimport Install from \"../../../../common/model/install/Install\";\r\nimport MessageBoxUtil from \"../../../../common/util/MessageBoxUtil\";\r\nimport {Button, Form, Input} from \"antd\";\r\nimport {ArrowLeftOutlined, SendOutlined} from \"@ant-design/icons/lib\";\r\nimport Lang from \"../../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n\r\n  install: Install\r\n\r\n  onSuccess: () => void\r\n  onPreStep: () => void\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class PhaseCreatePanel extends TankComponent<IProps, IState> {\r\n\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n  }\r\n\r\n  onFinish(values: any) {\r\n\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    install.adminUsername = values[\"adminUsername\"]\r\n    install.adminPassword = values[\"adminPassword\"]\r\n    install.adminRepassword = values[\"adminRepassword\"]\r\n\r\n    install.httpCreateAdmin(function () {\r\n      MessageBoxUtil.success(Lang.t(\"install.createAdminSuccess\"))\r\n      that.props.onSuccess()\r\n    })\r\n  };\r\n\r\n  onFinishFailed(errorInfo: any) {\r\n\r\n  };\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n    let install: Install = this.props.install\r\n\r\n    const layout = {\r\n      labelCol: {span: 6},\r\n      wrapperCol: {span: 18},\r\n    };\r\n\r\n\r\n    return (\r\n      <div className=\"widget-phase-verify-panel\">\r\n\r\n        <div className=\"text-center\">\r\n          <h2>{Lang.t(\"install.createAdministrator\")}</h2>\r\n        </div>\r\n\r\n        <Form\r\n          {...layout}\r\n          name=\"basic\"\r\n          onFinish={this.onFinish.bind(this)}\r\n          onFinishFailed={this.onFinishFailed.bind(this)}\r\n          onValuesChange={() => {\r\n            that.updateUI()\r\n          }}\r\n        >\r\n          <Form.Item\r\n            label={Lang.t(\"install.administratorUsername\")}\r\n            name=\"adminUsername\"\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input/>\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            label={Lang.t(\"install.administratorPassword\")}\r\n            name=\"adminPassword\"\r\n            rules={[{required: true, message: Lang.t(\"inputRequired\")}]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n\r\n          <Form.Item\r\n            name=\"adminRepassword\"\r\n            label={Lang.t(\"install.administratorRePassword\")}\r\n            dependencies={['adminPassword']}\r\n            hasFeedback\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: Lang.t(\"inputRequired\"),\r\n              },\r\n              ({getFieldValue}) => ({\r\n                validator(rule, value) {\r\n                  if (!value || getFieldValue('adminPassword') === value) {\r\n                    return Promise.resolve();\r\n                  }\r\n                  return Promise.reject(Lang.t(\"user.passwordNotSame\"));\r\n                },\r\n              }),\r\n            ]}\r\n          >\r\n            <Input.Password/>\r\n          </Form.Item>\r\n\r\n          <div className=\"text-right mt15\">\r\n\r\n            <Button className={'ml10'} ghost={true} type=\"primary\" icon={<ArrowLeftOutlined/>}\r\n                    onClick={this.props.onPreStep.bind(this)}>\r\n              {Lang.t(\"install.preStep\")}\r\n            </Button>\r\n\r\n            <Button className={'ml10'} type={\"primary\"}\r\n                    icon={<SendOutlined/>}\r\n                    htmlType=\"submit\"\r\n            >\r\n              {Lang.t(\"submit\")}\r\n            </Button>\r\n\r\n          </div>\r\n        </Form>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport './FinishPanel.less';\r\nimport Install from \"../../../common/model/install/Install\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport {Button, Result} from \"antd\";\r\nimport {HomeOutlined} from \"@ant-design/icons/lib\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n\r\n  install: Install\r\n}\r\n\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class FinishPanel extends TankComponent<IProps, IState> {\r\n\r\n\r\n  loading: boolean = false\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    that.updateUI();\r\n  }\r\n\r\n  finish() {\r\n\r\n    let that = this\r\n    let install: Install = this.props.install\r\n\r\n    that.loading = true\r\n    that.updateUI()\r\n\r\n    install.httpFinish(function () {\r\n\r\n\r\n      window.location.href = \"/\"\r\n\r\n    }, null, function () {\r\n\r\n      that.loading = false\r\n      that.updateUI()\r\n\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n\r\n    return (\r\n      <div className=\"widget-finish-panel\">\r\n        <Result\r\n          status=\"success\"\r\n          title={Lang.t(\"install.congratulationInstall\")}\r\n          subTitle={Lang.t(\"install.pressToHome\")}\r\n          extra={[\r\n            <Button icon={<HomeOutlined/>} type=\"primary\" key=\"home\" loading={that.loading}\r\n                    onClick={this.finish.bind(this)}>\r\n              {Lang.t(\"install.enterHome\")}\r\n            </Button>\r\n          ]}\r\n        />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {RouteComponentProps} from 'react-router-dom';\r\nimport './Index.less';\r\nimport TankComponent from '../../common/component/TankComponent';\r\nimport Moon from '../../common/model/global/Moon';\r\nimport User from '../../common/model/user/User';\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport {Tabs} from 'antd';\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport Install from \"../../common/model/install/Install\";\r\nimport MysqlPanel from \"./widget/MysqlPanel\";\r\nimport CreateTablePanel from \"./widget/CreateTablePanel\";\r\nimport SetAdminPanel from \"./widget/SetAdminPanel\";\r\nimport FinishPanel from \"./widget/FinishPanel\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\nconst {TabPane} = Tabs;\r\n\r\ninterface IProps extends RouteComponentProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n\r\nexport default class Index extends TankComponent<IProps, IState> {\r\n\r\n  user: User = Moon.getSingleton().user;\r\n\r\n  install: Install = new Install()\r\n\r\n  //tab\r\n  activeName: string = \"first\"\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    let that = this;\r\n\r\n    that.updateUI();\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this;\r\n\r\n    let install: Install = this.install\r\n\r\n    return (\r\n      <div className=\"page-install-index\">\r\n\r\n        <TankTitle name={Lang.t(\"layout.install\")}>\r\n\r\n        </TankTitle>\r\n\r\n        <TankContentCard>\r\n          <Tabs activeKey={this.activeName} onTabClick={(activeKey: string) => {\r\n\r\n            this.activeName = activeKey\r\n            this.updateUI()\r\n          }}>\r\n            <TabPane tab={Lang.t(\"install.configMysql\")} key=\"first\">\r\n              <MysqlPanel install={install} onNextStep={() => {\r\n                this.activeName = \"second\"\r\n                this.updateUI()\r\n              }}/>\r\n            </TabPane>\r\n            <TabPane tab={Lang.t(\"install.createTable\")} disabled={!install.verified} key=\"second\">\r\n              <CreateTablePanel install={install} onPreStep={() => {\r\n                this.activeName = \"first\"\r\n                this.updateUI()\r\n              }} onNextStep={() => {\r\n                this.activeName = \"third\"\r\n                this.updateUI()\r\n              }}/>\r\n            </TabPane>\r\n            <TabPane tab={Lang.t(\"install.setAdministrator\")} disabled={!install.tableCreated()} key=\"third\">\r\n              <SetAdminPanel install={install} onPreStep={() => {\r\n                this.activeName = \"second\"\r\n                this.updateUI()\r\n              }} onNextStep={() => {\r\n                this.activeName = \"forth\"\r\n                this.updateUI()\r\n              }}/>\r\n            </TabPane>\r\n            <TabPane tab={Lang.t(\"install.finish\")} disabled={!install.adminConfigured} key=\"forth\">\r\n              <FinishPanel install={install}/>\r\n            </TabPane>\r\n          </Tabs>\r\n\r\n        </TankContentCard>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","//\r\nexport default class Director {\r\n    //\r\n    renameMode:boolean = false\r\n    //\r\n    createMode:boolean = false\r\n    //\r\n    moveMode:boolean = false\r\n\r\n  isEditing() {\r\n    return this.renameMode || this.createMode || this.moveMode\r\n  }\r\n\r\n}\r\n","import SafeUtil from \"./SafeUtil\";\r\n\r\nexport default class AnimateUtil {\r\n\r\n  /**\r\n   * \r\n   * @param startValue \r\n   * @param endValue \r\n   * @param duration ms \r\n   * @param processHandler . startValueendValue\r\n   * @param startHandler \r\n   * @param endHandler \r\n   * @param standard \r\n   *\r\n   */\r\n  static animate(\r\n    startValue: number,\r\n    endValue: number,\r\n    duration: number,\r\n    processHandler: (value: number) => void,\r\n    startHandler?: (value: number) => void,\r\n    endHandler?: (value: number) => void,\r\n    standard?: number\r\n  ): void {\r\n\r\n\r\n    //\r\n    if (duration <= 0) {\r\n      console.error(\"duration\")\r\n      return\r\n    }\r\n\r\n    if (standard == undefined) {\r\n      standard = 20\r\n    } else if (standard <= 0) {\r\n      console.error(\"standard\")\r\n      return\r\n    }\r\n\r\n    let totalStep: number = endValue - startValue\r\n\r\n    //startValueendValue\r\n    let num = Math.ceil(duration / standard)\r\n\r\n    //\r\n    let delta: number = totalStep\r\n    if (num != 0) {\r\n      delta = Math.ceil(totalStep / num)\r\n    }\r\n\r\n    //\r\n    let sum = 0;\r\n    SafeUtil.safeCallback(startHandler)(startValue)\r\n    processHandler(startValue)\r\n    let intervalHandler = setInterval(() => {\r\n\r\n      sum = sum + delta\r\n      if (Math.abs(sum) >= Math.abs(totalStep)) {\r\n        //\r\n        processHandler(endValue)\r\n        SafeUtil.safeCallback(endHandler)(endValue)\r\n\r\n        //\r\n        clearInterval(intervalHandler)\r\n\r\n      } else {\r\n        //\r\n        processHandler(startValue + sum)\r\n      }\r\n\r\n    }, standard)\r\n\r\n  }\r\n\r\n  static setInputSelection(input: HTMLInputElement, startPos: number, endPos: number) {\r\n    input.focus();\r\n    if (typeof input.selectionStart !== \"undefined\") {\r\n      input.selectionStart = startPos;\r\n      input.selectionEnd = endPos;\r\n    } else if ((document as any).selection && (document as any).selection.createRange) {\r\n      // IE branch\r\n      input.select();\r\n      let range = (document as any).selection.createRange();\r\n      range.collapse(true);\r\n      range.moveEnd(\"character\", endPos);\r\n      range.moveStart(\"character\", startPos);\r\n      range.select();\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport { Modal, Button } from \"antd\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport Moon from \"../../../common/model/global/Moon\";\r\nimport { ExclamationCircleFilled } from \"@ant-design/icons\";\r\nimport \"./MatterDeleteModal.less\";\r\nimport Preference from \"../../../common/model/preference/Preference\";\r\n\r\ninterface IProps {\r\n  onSoftDel: () => void;\r\n  onHardDel: () => void;\r\n  onClose: () => void;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class MatterDeleteModal extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  static preference: Preference = Moon.getSingleton().preference;\r\n\r\n  static open(onSoftDel: () => void, onHardDel: () => void) {\r\n    let modal = Modal.warning({\r\n      className: \"delete-modal\",\r\n      title: Lang.t(\"delete\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\",\r\n      },\r\n      content: (\r\n        <MatterDeleteModal\r\n          onSoftDel={() => {\r\n            onSoftDel();\r\n            modal.destroy();\r\n          }}\r\n          onHardDel={() => {\r\n            onHardDel();\r\n            modal.destroy();\r\n          }}\r\n          onClose={() => {\r\n            modal.destroy();\r\n          }}\r\n        />\r\n      ),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"matter-delete-modal\">\r\n        <p>{Lang.t(\"actionDeleteConfirm\")}</p>\r\n        <div className=\"mt30 text-right\">\r\n          <Button className=\"mr10\" onClick={this.props.onClose}>\r\n            {Lang.t(\"cancel\")}\r\n          </Button>\r\n          <Button\r\n            type=\"primary\"\r\n            danger\r\n            onClick={this.props.onHardDel}\r\n          >\r\n            {Lang.t(\"deleteDirectly\")}\r\n          </Button>\r\n          {MatterDeleteModal.preference.getRecycleBinStatus() && (\r\n            <Button type=\"primary\" className=\"ml10\" onClick={this.props.onSoftDel}>\r\n              {Lang.t(\"matter.intoRecycleBin\")}\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import SelectionOption from \"../base/option/SelectionOption\";\r\n\r\nenum ShareType {\r\n  FILE = \"FILE\",\r\n  DIRECTORY = \"DIRECTORY\",\r\n  MIX = \"MIX\",\r\n}\r\n\r\nconst ShareTypes: ShareType[] = Object.keys(ShareType).map(\r\n  (k) => k as ShareType\r\n);\r\n\r\nconst ShareTypeMap: { [key in keyof typeof ShareType]: SelectionOption } = {\r\n  FILE: {\r\n    name: \"\",\r\n    value: \"FILE\",\r\n  },\r\n  DIRECTORY: {\r\n    name: \"\",\r\n    value: \"DIRECTORY\",\r\n  },\r\n  MIX: {\r\n    name: \"\",\r\n    value: \"MIX\",\r\n  },\r\n};\r\n\r\nlet ShareTypeList: SelectionOption[] = [];\r\nShareTypes.forEach((type: ShareType) => {\r\n  ShareTypeList.push(ShareTypeMap[type]);\r\n});\r\n\r\nexport { ShareType, ShareTypeMap, ShareTypeList };\r\n","import React from \"react\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Director from \"./Director\";\r\nimport \"./MatterPanel.less\";\r\nimport Sun from \"../../../common/model/global/Sun\";\r\nimport StringUtil from \"../../../common/util/StringUtil\";\r\nimport DateUtil from \"../../../common/util/DateUtil\";\r\nimport AnimateUtil from \"../../../common/util/AnimateUtil\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport Expanding from \"../../widget/Expanding\";\r\nimport {\r\n  LockOutlined,\r\n  UnlockOutlined,\r\n  DownloadOutlined,\r\n  ExclamationCircleFilled,\r\n  LinkOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  InfoCircleOutlined,\r\n  EllipsisOutlined,\r\n  RedoOutlined,\r\n  CloseCircleOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Modal, Checkbox, Tooltip } from \"antd\";\r\nimport { CheckboxChangeEvent } from \"antd/es/checkbox\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport ClipboardUtil from \"../../../common/util/ClipboardUtil\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport MatterDeleteModal from \"./MatterDeleteModal\";\r\n\r\ninterface IProps {\r\n  matter: Matter;\r\n  recycleMode?: boolean; // false\r\n  director?: Director;\r\n  onCreateDirectoryCallback?: () => any;\r\n  onDeleteSuccess?: () => any;\r\n  onRecoverySuccess?: () => any;\r\n  onCheckMatter?: (matter?: Matter) => any;\r\n  onPreviewImage?: (matter: Matter) => any;\r\n  onGoToDirectory?: (id: string) => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class MatterPanel extends TankComponent<IProps, IState> {\r\n  // \r\n  renameMatterName: string = \"\";\r\n  // rename\r\n  renamingLoading: boolean = false;\r\n  // \r\n  showMore: boolean = false;\r\n\r\n  inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  prepareRename() {\r\n    const { matter, director } = this.props;\r\n    if (director!.isEditing()) {\r\n      console.error(\"\");\r\n      return;\r\n    }\r\n\r\n    //\r\n    director!.renameMode = true;\r\n    matter.editMode = true;\r\n    this.renameMatterName = matter.name!;\r\n    this.updateUI();\r\n    setTimeout(() => {\r\n      if (!this.inputRef.current) return;\r\n      //\r\n      let dotIndex = matter.name!.lastIndexOf(\".\");\r\n      if (dotIndex === -1) {\r\n        AnimateUtil.setInputSelection(\r\n          this.inputRef.current,\r\n          0,\r\n          this.renameMatterName.length\r\n        );\r\n      } else {\r\n        AnimateUtil.setInputSelection(this.inputRef.current, 0, dotIndex);\r\n      }\r\n    });\r\n  };\r\n\r\n  clipboard() {\r\n    let textToCopy = this.props.matter.getDownloadUrl();\r\n    ClipboardUtil.copy(textToCopy, () => {\r\n      MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n    });\r\n  };\r\n\r\n  deleteMatter() {\r\n    MatterDeleteModal.open(\r\n      () => {\r\n        this.props.matter.httpSoftDelete(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.props.onDeleteSuccess!();\r\n        });\r\n      },\r\n      () => {\r\n        this.props.matter.httpDelete(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.props.onDeleteSuccess!();\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  hardDeleteMatter() {\r\n    Modal.confirm({\r\n      title: Lang.t(\"actionCanNotRevertConfirm\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      onOk: () => {\r\n        this.props.matter.httpDelete(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.props.onDeleteSuccess!();\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  recoveryMatter() {\r\n    Modal.confirm({\r\n      title: Lang.t(\"actionRecoveryConfirm\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      onOk: () => {\r\n        this.props.matter.httpRecovery(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.props.onRecoverySuccess!();\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  changeMatterName(e: any) {\r\n    this.renameMatterName = e.currentTarget.value;\r\n    this.updateUI();\r\n  };\r\n\r\n  finishRename() {\r\n    //enterblur\r\n    if (this.renamingLoading) {\r\n      return;\r\n    }\r\n    const { matter, director } = this.props;\r\n    this.renamingLoading = true;\r\n\r\n    matter.httpRename(\r\n      this.renameMatterName,\r\n      () => {\r\n        this.renamingLoading = false;\r\n        MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n        //\r\n        director!.renameMode = false;\r\n        matter.editMode = false;\r\n      },\r\n      (msg: string) => {\r\n        this.renamingLoading = false;\r\n        MessageBoxUtil.error(msg);\r\n        //\r\n        director!.renameMode = false;\r\n        matter.editMode = false;\r\n      },\r\n      () => this.updateUI()\r\n    );\r\n  };\r\n\r\n  finishCreateDirectory() {\r\n    const { matter, director, onCreateDirectoryCallback } = this.props;\r\n    matter.name = this.renameMatterName;\r\n    matter.httpCreateDirectory(\r\n      () => {\r\n        director!.createMode = false;\r\n        matter.editMode = false;\r\n        matter.assign(new Matter());\r\n      },\r\n      (msg: string) => {\r\n        director!.createMode = false;\r\n        matter.editMode = false;\r\n        MessageBoxUtil.error(msg);\r\n      },\r\n      () => onCreateDirectoryCallback!()\r\n    );\r\n  };\r\n\r\n  blurTrigger() {\r\n    const { matter, director } = this.props;\r\n    if (matter.editMode) {\r\n      if (director!.createMode) {\r\n        this.finishCreateDirectory();\r\n      } else if (director!.renameMode) {\r\n        this.finishRename();\r\n      }\r\n    }\r\n  };\r\n\r\n  enterTrigger(e: any) {\r\n    if (e.key.toLowerCase() === \"enter\") {\r\n      this.inputRef.current!.blur();\r\n    }\r\n  };\r\n\r\n  changePrivacy(privacy: boolean) {\r\n    this.props.matter.httpChangePrivacy(privacy, () => {\r\n      this.updateUI();\r\n    });\r\n  };\r\n\r\n  checkToggle(e: CheckboxChangeEvent) {\r\n    this.props.matter.check = e.target.checked;\r\n    this.props.onCheckMatter!(this.props.matter);\r\n  };\r\n\r\n  highLight() {\r\n    this.inputRef.current!.select();\r\n  };\r\n\r\n  clickRow() {\r\n    const {\r\n      matter,\r\n      recycleMode = false,\r\n      director,\r\n      onGoToDirectory,\r\n      onPreviewImage,\r\n    } = this.props;\r\n    if (director && director.isEditing()) {\r\n      console.error(\"\");\r\n      return;\r\n    }\r\n\r\n    if (matter.dir) {\r\n      if (recycleMode) return;\r\n      onGoToDirectory!(matter.uuid!);\r\n    } else {\r\n      //\r\n      if (matter.isImage()) {\r\n        onPreviewImage!(matter);\r\n      } else {\r\n        matter.preview();\r\n      }\r\n    }\r\n  };\r\n\r\n  toggleHandles() {\r\n    this.showMore = !this.showMore;\r\n    this.updateUI();\r\n  };\r\n\r\n  renderPcOperation() {\r\n    const { matter, recycleMode = false } = this.props;\r\n\r\n    //  or \r\n    const handles = recycleMode ? (\r\n      <>\r\n        <Tooltip title={Lang.t(\"matter.recovery\")}>\r\n          <RedoOutlined\r\n            className=\"btn-action\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(this.recoveryMatter())\r\n            }\r\n          />\r\n        </Tooltip>\r\n        <Tooltip title={Lang.t(\"matter.fileDetail\")}>\r\n          <InfoCircleOutlined\r\n            className=\"btn-action\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(\r\n                Sun.navigateTo(\"/matter/detail/\" + matter.uuid)\r\n              )\r\n            }\r\n          />\r\n        </Tooltip>\r\n        <Tooltip title={Lang.t(\"matter.hardDelete\")}>\r\n          <CloseCircleOutlined\r\n            className=\"btn-action text-danger\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(this.hardDeleteMatter())\r\n            }\r\n          />\r\n        </Tooltip>\r\n      </>\r\n    ) : (\r\n      <>\r\n        {!matter.dir && matter.privacy && (\r\n          <Tooltip title={Lang.t(\"matter.setPublic\")}>\r\n            <UnlockOutlined\r\n              className=\"btn-action\"\r\n              onClick={(e) =>\r\n                SafeUtil.stopPropagationWrap(e)(this.changePrivacy(false))\r\n              }\r\n            />\r\n          </Tooltip>\r\n        )}\r\n        {!matter.dir && !matter.privacy && (\r\n          <Tooltip title={Lang.t(\"matter.setPrivate\")}>\r\n            <LockOutlined\r\n              className=\"btn-action\"\r\n              onClick={(e) =>\r\n                SafeUtil.stopPropagationWrap(e)(this.changePrivacy(true))\r\n              }\r\n            />\r\n          </Tooltip>\r\n        )}\r\n        <Tooltip title={Lang.t(\"matter.fileDetail\")}>\r\n          <InfoCircleOutlined\r\n            className=\"btn-action\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(\r\n                Sun.navigateTo(\"/matter/detail/\" + matter.uuid)\r\n              )\r\n            }\r\n          />\r\n        </Tooltip>\r\n        <Tooltip title={Lang.t(\"matter.rename\")}>\r\n          <EditOutlined\r\n            className=\"btn-action\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(this.prepareRename())\r\n            }\r\n          />\r\n        </Tooltip>\r\n        <Tooltip title={Lang.t(\"matter.copyPath\")}>\r\n          <LinkOutlined\r\n            className=\"btn-action\"\r\n            onClick={(e) => SafeUtil.stopPropagationWrap(e)(this.clipboard())}\r\n          />\r\n        </Tooltip>\r\n        <Tooltip title={Lang.t(\"matter.download\")}>\r\n          <DownloadOutlined\r\n            className=\"btn-action\"\r\n            onClick={(e) => SafeUtil.stopPropagationWrap(e)(matter.download())}\r\n          />\r\n        </Tooltip>\r\n        <Tooltip title={Lang.t(\"matter.delete\")}>\r\n          <DeleteOutlined\r\n            className=\"btn-action text-danger\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(this.deleteMatter())\r\n            }\r\n          />\r\n        </Tooltip>\r\n      </>\r\n    );\r\n\r\n    return (\r\n      <div className=\"right-part\">\r\n        <span className=\"matter-operation text-theme\">{handles}</span>\r\n        <Tooltip title={Lang.t(\"matter.size\")}>\r\n          <span className=\"matter-size\">\r\n            {StringUtil.humanFileSize(matter.size)}\r\n          </span>\r\n        </Tooltip>\r\n        {recycleMode ? (\r\n          <Tooltip title={Lang.t(\"matter.deleteTime\")}>\r\n            <span className=\"matter-date mr10\">\r\n              {DateUtil.simpleDateHourMinute(matter.deleteTime)}\r\n            </span>\r\n          </Tooltip>\r\n        ) : (\r\n          <Tooltip title={Lang.t(\"matter.updateTime\")}>\r\n            <span className=\"matter-date mr10\">\r\n              {DateUtil.simpleDateHourMinute(matter.updateTime)}\r\n            </span>\r\n          </Tooltip>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderMobileOperation() {\r\n    const { matter, recycleMode = false } = this.props;\r\n\r\n    //  or \r\n    const handles = recycleMode ? (\r\n      <>\r\n        <div\r\n          className=\"cell-btn navy\"\r\n          onClick={(e) =>\r\n            SafeUtil.stopPropagationWrap(e)(\r\n              Sun.navigateTo(\"/matter/detail/\" + matter.uuid)\r\n            )\r\n          }\r\n        >\r\n          <InfoCircleOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.fileDetail\")}\r\n        </div>\r\n        <div\r\n          className=\"cell-btn navy\"\r\n          onClick={(e) =>\r\n            SafeUtil.stopPropagationWrap(e)(this.recoveryMatter())\r\n          }\r\n        >\r\n          <RedoOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.recovery\")}\r\n        </div>\r\n        <div\r\n          className=\"cell-btn text-danger\"\r\n          onClick={(e) =>\r\n            SafeUtil.stopPropagationWrap(e)(this.hardDeleteMatter())\r\n          }\r\n        >\r\n          <CloseCircleOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.hardDelete\")}\r\n        </div>\r\n      </>\r\n    ) : (\r\n      <>\r\n        {!matter.dir && matter.privacy && (\r\n          <div\r\n            className=\"cell-btn navy\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(this.changePrivacy(false))\r\n            }\r\n          >\r\n            <UnlockOutlined className=\"btn-action mr5\" />\r\n            {Lang.t(\"matter.setPublic\")}\r\n          </div>\r\n        )}\r\n\r\n        {!matter.dir && !matter.privacy && (\r\n          <div\r\n            className=\"cell-btn navy\"\r\n            onClick={(e) =>\r\n              SafeUtil.stopPropagationWrap(e)(this.changePrivacy(true))\r\n            }\r\n          >\r\n            <LockOutlined className=\"btn-action mr5\" />\r\n            {Lang.t(\"matter.setPrivate\")}\r\n          </div>\r\n        )}\r\n\r\n        <div\r\n          className=\"cell-btn navy\"\r\n          onClick={(e) =>\r\n            SafeUtil.stopPropagationWrap(e)(\r\n              Sun.navigateTo(\"/matter/detail/\" + matter.uuid)\r\n            )\r\n          }\r\n        >\r\n          <InfoCircleOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.fileDetail\")}\r\n        </div>\r\n        <div\r\n          className=\"cell-btn navy\"\r\n          onClick={(e) => SafeUtil.stopPropagationWrap(e)(this.prepareRename())}\r\n        >\r\n          <EditOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.rename\")}\r\n        </div>\r\n        <div\r\n          className=\"cell-btn navy\"\r\n          onClick={(e) => SafeUtil.stopPropagationWrap(e)(this.clipboard())}\r\n        >\r\n          <LinkOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.copyLink\")}\r\n        </div>\r\n        <div\r\n          className=\"cell-btn navy\"\r\n          onClick={(e) => SafeUtil.stopPropagationWrap(e)(matter.download())}\r\n        >\r\n          <DownloadOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.download\")}\r\n        </div>\r\n        <div\r\n          className=\"cell-btn text-danger\"\r\n          onClick={(e) => SafeUtil.stopPropagationWrap(e)(this.deleteMatter())}\r\n        >\r\n          <DeleteOutlined className=\"btn-action mr5\" />\r\n          {Lang.t(\"matter.delete\")}\r\n        </div>\r\n      </>\r\n    );\r\n\r\n    return (\r\n      <div className=\"more-panel\">\r\n        <div className=\"cell-btn navy text\">\r\n          <span>\r\n            {DateUtil.simpleDateHourMinute(\r\n              recycleMode ? matter.deleteTime : matter.updateTime\r\n            )}\r\n          </span>\r\n          <span className=\"matter-size\">\r\n            {StringUtil.humanFileSize(matter.size)}\r\n          </span>\r\n        </div>\r\n        {handles}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { matter } = this.props;\r\n\r\n    return (\r\n      <div className=\"widget-matter-panel\">\r\n        <div onClick={(e) => SafeUtil.stopPropagationWrap(e)(this.clickRow())}>\r\n          <div className=\"media clearfix\">\r\n            <div className=\"pull-left\">\r\n              <div className=\"left-part\">\r\n                <span\r\n                  className=\"cell cell-hot\"\r\n                  onClick={(e) => SafeUtil.stopPropagationWrap(e)}\r\n                >\r\n                  <Checkbox\r\n                    checked={matter.check}\r\n                    onChange={e => this.checkToggle(e)}\r\n                  />\r\n                </span>\r\n                <span className=\"cell\">\r\n                  <img className=\"matter-icon\" src={matter.getIcon()} />\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/**/}\r\n            <div className=\"pull-right visible-pc\">\r\n              {matter.uuid && this.renderPcOperation()}\r\n            </div>\r\n\r\n            <div className=\"pull-right visible-mobile\">\r\n              <span\r\n                className=\"more-btn\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.toggleHandles())\r\n                }\r\n              >\r\n                <EllipsisOutlined className=\"btn-action navy f18\" />\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"media-body\">\r\n              <div className=\"middle-part\">\r\n                {matter.editMode ? (\r\n                  <span className=\"matter-name-edit\">\r\n                    <input\r\n                      ref={this.inputRef}\r\n                      className={matter.uuid!}\r\n                      value={this.renameMatterName}\r\n                      onChange={e => this.changeMatterName(e)}\r\n                      placeholder={Lang.t(\"matter.enterName\")}\r\n                      onBlur={() => this.blurTrigger()}\r\n                      onKeyUp={e => this.enterTrigger(e)}\r\n                    />\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"matter-name\">\r\n                    {matter.name}\r\n                    {!matter.dir && !matter.privacy && (\r\n                      <Tooltip\r\n                        title={Lang.t(\"matter.publicFileEveryoneCanVisit\")}\r\n                      >\r\n                        <UnlockOutlined className=\"icon\" />\r\n                      </Tooltip>\r\n                    )}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Expanding>\r\n          {this.showMore ? this.renderMobileOperation() : null}\r\n        </Expanding>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport { Modal, Tree, Button } from \"antd\";\r\nimport Pager from \"../../../common/model/base/Pager\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport \"./MoveBatchModal.less\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport { FolderFilled, FolderOpenFilled, ExclamationCircleFilled } from \"@ant-design/icons\";\r\n\r\ninterface IProps {\r\n  onSuccess: (uuid: string) => any;\r\n  onClose: () => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class MoveBatchModal extends TankComponent<IProps, IState> {\r\n  pager = new Pager<Matter>(this, Matter, 10);\r\n  targetUuid = \"root\";\r\n  treeData = [\r\n    {\r\n      title: Lang.t(\"matter.root\"),\r\n      key: \"root\",\r\n    },\r\n  ];\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.pager.setFilterValue(\"orderCreateTime\", \"DESC\");\r\n    this.pager.setFilterValue(\"dir\", true);\r\n  }\r\n\r\n  static open(onSuccess: (uuid: string) => void) {\r\n    let modal = Modal.confirm({\r\n      className: \"move-modal\",\r\n      title: Lang.t(\"matter.moveTo\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      width: \"90vw\",\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\",\r\n      },\r\n      content: (\r\n        <MoveBatchModal\r\n          onSuccess={(uuid: string) => {\r\n            modal.destroy();\r\n            onSuccess(uuid);\r\n          }}\r\n          onClose={() => {\r\n            modal.destroy();\r\n          }}\r\n        />\r\n      ),\r\n    });\r\n  }\r\n\r\n  fetchData(treeNode: any, success: () => any) {\r\n    const { data: origin } = treeNode.props;\r\n    this.pager.setFilterValue(\"puuid\", treeNode.key);\r\n    this.pager.httpList((response: any) => {\r\n      const { data, page, totalPages } = response.data.data;\r\n      origin.children = (origin.children || []).concat(\r\n        data.map((matter: Matter) => ({\r\n          title: matter.name,\r\n          key: matter.uuid,\r\n        }))\r\n      );\r\n      if (page + 1 < totalPages) {\r\n        this.pager.page++;\r\n        this.fetchData(treeNode, success);\r\n      } else {\r\n        this.pager.page = 0;\r\n        success();\r\n      }\r\n    });\r\n  };\r\n\r\n  onLoadData(treeNode: any) {\r\n    return new Promise((resolve) => {\r\n      if (treeNode.props.children) {\r\n        resolve();\r\n        return;\r\n      }\r\n      this.fetchData(treeNode, () => resolve());\r\n    }).then(() => {\r\n      this.treeData = JSON.parse(JSON.stringify(this.treeData));\r\n      this.updateUI();\r\n    });\r\n  };\r\n\r\n  onSelect(selectedKeys: any) {\r\n    if (selectedKeys.length) {\r\n      this.targetUuid = selectedKeys[0];\r\n      this.updateUI();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Tree.DirectoryTree\r\n          className=\"tree-wrapper\"\r\n          treeData={this.treeData}\r\n          defaultExpandedKeys={[\"root\"]}\r\n          selectedKeys={[this.targetUuid]}\r\n          loadData={e => this.onLoadData(e)}\r\n          onSelect={e => this.onSelect(e)}\r\n          icon={e => e.expanded ? <FolderOpenFilled className=\"text-primary f20\" /> : <FolderFilled className=\"text-primary f20\" />}\r\n        />\r\n        <div className=\"mt10 text-right\">\r\n          <Button className=\"mr10\" onClick={() => this.props.onClose()}>\r\n            {Lang.t(\"close\")}\r\n          </Button>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.props.onSuccess(this.targetUuid)}\r\n          >\r\n            {Lang.t(\"confirm\")}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import SelectionOption from \"../base/option/SelectionOption\";\r\n\r\nenum ShareExpireOption {\r\n  HOUR = \"HOUR\",\r\n  DAY = \"DAY\",\r\n  WEEK = \"WEEK\",\r\n  MONTH = \"MONTH\",\r\n  YEAR = \"YEAR\",\r\n  INFINITY = \"INFINITY\",\r\n}\r\n\r\ninterface ShareExpireSelection extends SelectionOption {\r\n  deltaMillisecond: number;\r\n}\r\n\r\nconst ShareExpireOptions: ShareExpireOption[] = Object.keys(\r\n  ShareExpireOption\r\n).map((k) => k as ShareExpireOption);\r\n\r\nconst ShareExpireOptionMap: {\r\n  [key in keyof typeof ShareExpireOption]: ShareExpireSelection;\r\n} = {\r\n  HOUR: {\r\n    name: \"share.hour\",\r\n    value: \"HOUR\",\r\n    deltaMillisecond: 60 * 60 * 1000,\r\n  },\r\n  DAY: {\r\n    name: \"share.day\",\r\n    value: \"DAY\",\r\n    deltaMillisecond: 24 * 60 * 60 * 1000,\r\n  },\r\n  WEEK: {\r\n    name: \"share.week\",\r\n    value: \"WEEK\",\r\n    deltaMillisecond: 7 * 24 * 60 * 60 * 1000,\r\n  },\r\n  MONTH: {\r\n    name: \"share.month\",\r\n    value: \"MONTH\",\r\n    deltaMillisecond: 30 * 24 * 60 * 60 * 1000,\r\n  },\r\n  YEAR: {\r\n    name: \"share.year\",\r\n    value: \"YEAR\",\r\n    deltaMillisecond: 365 * 24 * 60 * 60 * 1000,\r\n  },\r\n  INFINITY: {\r\n    name: \"share.infinity\",\r\n    value: \"INFINITY\",\r\n    deltaMillisecond: 0,\r\n  },\r\n};\r\n\r\nlet ShareExpireOptionList: ShareExpireSelection[] = [];\r\nShareExpireOptions.forEach((type: ShareExpireOption) => {\r\n  ShareExpireOptionList.push(ShareExpireOptionMap[type]);\r\n});\r\n\r\nexport { ShareExpireOption, ShareExpireOptionMap, ShareExpireOptionList };\r\n","import BaseEntity from \"../base/BaseEntity\";\r\nimport Matter from \"../matter/Matter\";\r\nimport FileUtil from \"../../util/FileUtil\";\r\nimport EnvUtil from \"../../util/EnvUtil\";\r\nimport { ShareType } from \"./ShareType\";\r\nimport { ShareExpireOption, ShareExpireOptionMap } from \"./ShareExpireOption\";\r\nimport DateUtil from \"../../util/DateUtil\";\r\nimport SafeUtil from \"../../util/SafeUtil\";\r\nimport MessageBoxUtil from \"../../util/MessageBoxUtil\";\r\n\r\nexport default class Share extends BaseEntity {\r\n  name: string | null = null;\r\n  shareType: ShareType = ShareType.MIX;\r\n  userUuid: string | null = null;\r\n  username: string | null = null;\r\n  downloadTimes: number = 0;\r\n  code: string | null = null;\r\n  expireInfinity: boolean = false;\r\n  expireTime: Date | null = null;\r\n\r\n  //\r\n  dirMatter: Matter = new Matter();\r\n  //sharematters\r\n  matters: Matter[] = [];\r\n\r\n  //matteruuid\r\n  rootUuid: string = Matter.MATTER_ROOT;\r\n\r\n  //\r\n  expireOption: ShareExpireOption = ShareExpireOption.MONTH;\r\n\r\n  static URL_CREATE = \"/api/share/create\";\r\n  static URL_BROWSE = \"/api/share/browse\";\r\n  static URL_DELETE_BATCH = \"/api/share/delete/batch\";\r\n  static URL_ZIP = \"/api/share/zip\";\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n    super(reactComponent);\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n    super.assignEntity(\"expireTime\", Date);\r\n    super.assignEntity(\"dirMatter\", Matter);\r\n    super.assignList(\"matters\", Matter);\r\n  }\r\n\r\n  getUrlPrefix() {\r\n    return \"/api/share\";\r\n  }\r\n\r\n  getFilters() {\r\n    return [...super.getFilters()];\r\n  }\r\n\r\n  getForm() {\r\n    return {\r\n      name: this.name,\r\n      uuid: this.uuid ? this.uuid : null,\r\n    };\r\n  }\r\n\r\n  getIcon() {\r\n    if (this.shareType === ShareType.MIX) {\r\n      return require(\"../../../assets/image/file/archive.svg\");\r\n    } else {\r\n      return FileUtil.getIcon(\r\n        this.name,\r\n        this.shareType === ShareType.DIRECTORY\r\n      );\r\n    }\r\n  }\r\n\r\n  getLink() {\r\n    return EnvUtil.currentHost() + \"/share/detail/\" + this.uuid;\r\n  }\r\n\r\n  hasExpired() {\r\n    if (this.expireInfinity) {\r\n      return false;\r\n    } else {\r\n      if (this.expireTime) {\r\n        return new Date(this.expireTime).getTime() < new Date().getTime();\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  //\r\n  getExpireTime() {\r\n    const delta = ShareExpireOptionMap[this.expireOption].deltaMillisecond;\r\n    const now = new Date();\r\n    return new Date(now.getTime() + delta);\r\n  }\r\n\r\n  //zip\r\n  downloadZip(puuid?: string) {\r\n    window.open(\r\n      `${EnvUtil.currentHost()}${Share.URL_ZIP}?shareUuid=${this.uuid}&code=${\r\n        this.code\r\n      }&puuid=${puuid}&rootUuid=${this.rootUuid}`\r\n    );\r\n  }\r\n\r\n  //matterUuidsexpireTime\r\n  httpCreate(\r\n    matterUuids: string,\r\n    successCallback?: () => any,\r\n    errorCallback?: () => any\r\n  ) {\r\n    let that = this;\r\n\r\n    const form = {\r\n      matterUuids: matterUuids,\r\n      expireInfinity: this.expireOption === ShareExpireOption.INFINITY,\r\n      expireTime: DateUtil.simpleDateTime(this.getExpireTime()),\r\n    };\r\n\r\n    this.httpPost(\r\n      Share.URL_CREATE,\r\n      form,\r\n      function (response: any) {\r\n        that.assign(response.data.data);\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  httpDeleteBatch(\r\n    uuids: string,\r\n    successCallback?: () => any,\r\n    errorCallback?: () => any\r\n  ) {\r\n    this.httpPost(\r\n      Share.URL_DELETE_BATCH,\r\n      { uuids: uuids },\r\n      function (response: any) {\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      },\r\n      errorCallback\r\n    );\r\n  }\r\n\r\n  httpBrowse(\r\n    puuid: string,\r\n    rootUuid: string,\r\n    successCallback?: () => any,\r\n    errorCallback?: () => any\r\n  ) {\r\n    let that = this;\r\n\r\n    const form = {\r\n      puuid,\r\n      rootUuid,\r\n      shareUuid: this.uuid,\r\n      code: this.code,\r\n    };\r\n\r\n    this.detailLoading = true;\r\n    this.httpPost(\r\n      Share.URL_BROWSE,\r\n      form,\r\n      function (response: any) {\r\n        that.assign(response.data.data);\r\n        that.detailLoading = false;\r\n        SafeUtil.safeCallback(successCallback)(response);\r\n      },\r\n      function (errorMsg: any) {\r\n        that.detailLoading = false;\r\n        MessageBoxUtil.error(errorMsg);\r\n        SafeUtil.safeCallback(errorCallback)(errorMsg);\r\n      }\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport { Modal, Button, Col, Row, Select } from \"antd\";\r\nimport { ExclamationCircleFilled } from \"@ant-design/icons\";\r\nimport \"./ShareOperationModal.less\";\r\nimport Share from \"../../../common/model/share/Share\";\r\nimport {\r\n  ShareExpireOptionList,\r\n  ShareExpireOption,\r\n} from \"../../../common/model/share/ShareExpireOption\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  onSuccess: (share: Share) => any;\r\n  onClose: () => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class ShareOperationModal extends TankComponent<IProps, IState> {\r\n  share = new Share();\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  static open = (confirmCallback: (share: Share) => any) => {\r\n    const modal = Modal.confirm({\r\n      className: \"share-modal\",\r\n      title: Lang.t(\"matter.share\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      width: \"90vw\",\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\",\r\n      },\r\n      content: (\r\n        <ShareOperationModal\r\n          onSuccess={(share: Share) => {\r\n            confirmCallback(share);\r\n            modal.destroy();\r\n          }}\r\n          onClose={() => {\r\n            modal.destroy();\r\n          }}\r\n        />\r\n      ),\r\n    });\r\n  };\r\n\r\n  selectChange(value: ShareExpireOption) {\r\n    this.share.expireOption = value;\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { share } = this;\r\n    return (\r\n      <div className=\"widget-share-modal\">\r\n        <Row>\r\n          <Col span={8}>{Lang.t(\"matter.expire\")}</Col>\r\n          <Col span={16}>\r\n            <Select\r\n              className=\"wp100\"\r\n              value={share.expireOption}\r\n              onChange={e => this.selectChange(e)}\r\n            >\r\n              {ShareExpireOptionList.map((option) => (\r\n                <Select.Option key={option.value} value={option.value}>\r\n                  {Lang.t(option.name)}\r\n                </Select.Option>\r\n              ))}\r\n            </Select>\r\n          </Col>\r\n        </Row>\r\n        <div className=\"mt10 text-right\">\r\n          <Button\r\n            type=\"primary\"\r\n            className=\"mr10\"\r\n            onClick={() => this.props.onSuccess(share)}\r\n          >\r\n            {Lang.t(\"matter.share\")}\r\n          </Button>\r\n          <Button onClick={this.props.onClose}>{Lang.t(\"matter.close\")}</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Share from \"../../../common/model/share/Share\";\r\nimport {Button, Modal} from \"antd\";\r\nimport { CopyOutlined, ExclamationCircleFilled } from \"@ant-design/icons\";\r\nimport DateUtil from \"../../../common/util/DateUtil\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport './ShareDialogModal.less';\r\nimport ClipboardUtil from \"../../../common/util/ClipboardUtil\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  share: Share;\r\n  onSuccess: () => any;\r\n  onClose: () => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class ShareDialogModal extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  clipboard(text: string) {\r\n    ClipboardUtil.copy(text, () => {\r\n      MessageBoxUtil.success(Lang.t(\"copySuccess\"));\r\n    })\r\n  };\r\n\r\n  copyAll() {\r\n    const { share } = this.props;\r\n    const text = `${Lang.t(\"share.link\")}${share.getLink()} ${Lang.t(\"share.code\")}${share.code}`;\r\n    this.clipboard(text);\r\n  };\r\n\r\n  static open = (share: Share) => {\r\n    let modal = Modal.confirm({\r\n      className: \"share-modal\",\r\n      title: Lang.t(\"share.shareDetail\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      width: \"90vw\",\r\n      okCancel: false,\r\n      okButtonProps: {\r\n        className: \"display-none\",\r\n      },\r\n      maskClosable: true,\r\n      content: (\r\n        <ShareDialogModal\r\n          share={share}\r\n          onSuccess={() => {\r\n            modal.destroy();\r\n          }}\r\n          onClose={() => {\r\n            modal.destroy();\r\n          }}\r\n        />\r\n      ),\r\n\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { share } = this.props;\r\n\r\n    return (\r\n      <div className=\"widget-share-dialog-panel\">\r\n        <div className=\"share-block\">\r\n          <div>\r\n            <img className=\"share-icon\" src={share.getIcon()} />\r\n            <span className=\"name\">{share.name}</span>\r\n          </div>\r\n          <div className=\"mt15\">\r\n            <span className=\"inline-block mr10\">{Lang.t(\"share.sharer\")}{share.username}</span>\r\n            <span className=\"inline-block mr10\">\r\n              {share.expireInfinity\r\n                ? Lang.t(\"share.noExpire\")\r\n                : `${Lang.t(\"share.expireTime\")}${DateUtil.simpleDateHourMinute(\r\n                    share.expireTime\r\n                  )}`}\r\n            </span>\r\n          </div>\r\n          <div className=\"mt15\">\r\n            {Lang.t(\"share.link\")}{share.getLink()}\r\n            <CopyOutlined\r\n              className=\"text-primary\"\r\n              onClick={() => this.clipboard(share.getLink())}\r\n            />\r\n          </div>\r\n          <div className=\"mt15\">\r\n            {Lang.t(\"share.code\")}{share.code}\r\n            <CopyOutlined\r\n              className=\"text-primary\"\r\n              onClick={() => this.clipboard(share.code!)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"mt10 text-right\">\r\n          <Button className=\"mr10\" onClick={() => this.props.onClose()}>{Lang.t(\"close\")}</Button>\r\n          <Button type=\"primary\" onClick={() => this.copyAll()}>{Lang.t(\"matter.copyLinkAndCode\")}</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {Breadcrumb} from 'antd';\r\nimport \"./TableEmpty.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport BreadcrumbModel from \"../../common/model/base/option/BreadcrumbModel\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport {HomeOutlined} from \"@ant-design/icons/lib\";\r\n\r\ninterface IProps {\r\n  breadcrumbModels: BreadcrumbModel[]\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class BreadcrumbPanel extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Breadcrumb>\r\n\r\n        <Breadcrumb.Item>\r\n          <HomeOutlined className=\"cursor\" onClick={() => {\r\n            Sun.navigateTo(\"/\")\r\n          }}/>\r\n        </Breadcrumb.Item>\r\n\r\n        {\r\n          this.props.breadcrumbModels.map((item: BreadcrumbModel, index: number) => {\r\n            if (item.displayDirect) {\r\n              return (\r\n                <Breadcrumb.Item key={index}>{item.name}</Breadcrumb.Item>\r\n              )\r\n            } else {\r\n              return (\r\n                <Breadcrumb.Item key={index}>\r\n                    <span className=\"cursor\" onClick={() => {\r\n                      Sun.navigateQueryTo({\r\n                        path: item.path,\r\n                        query: item.query\r\n                      })\r\n                    }}>{item.name}</span>\r\n                </Breadcrumb.Item>\r\n              )\r\n            }\r\n          })\r\n        }\r\n      </Breadcrumb>\r\n    )\r\n  }\r\n}\r\n\r\n","import './MatterSortPanel.less'\r\nimport React from \"react\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport SortDirection from \"../../../common/model/base/SortDirection\";\r\nimport {ArrowDownOutlined, ArrowUpOutlined,} from \"@ant-design/icons\";\r\nimport Pager from \"../../../common/model/base/Pager\";\r\n\r\ninterface IProps {\r\n  pager: Pager<Matter>,\r\n  refresh: () => any\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class MatterSortPanel extends TankComponent<IProps, IState> {\r\n\r\n  static sortAutomaton = [SortDirection.ASC, SortDirection.DESC, null]; // ASC -> DESC -> null -> ASC...\r\n\r\n  changeFilterOrder(orderName: string) {\r\n    const {pager} = this.props;\r\n    [\"orderName\", \"orderSize\", \"orderUpdateTime\"]\r\n      .filter((name) => name !== orderName)\r\n      .forEach((key) => {\r\n        pager.setFilterValue(key, null);\r\n      });\r\n    const filter = pager.getFilterValue(orderName);\r\n    const nextSortIndex = (MatterSortPanel.sortAutomaton.findIndex((key) => key === filter) + 1) % 3;\r\n\r\n    pager.resetSortFilters()\r\n    pager.setFilterValue(\"orderDir\", SortDirection.DESC);\r\n    pager.setFilterValue(orderName, MatterSortPanel.sortAutomaton[nextSortIndex]);\r\n    this.props.refresh();\r\n  };\r\n\r\n  render() {\r\n    const {pager} = this.props;\r\n\r\n    return (\r\n      <div className=\"matter-sort-panel\">\r\n        <div\r\n          className=\"sort-part sort-part-name\"\r\n          onClick={() => this.changeFilterOrder(\"orderName\")}\r\n        >\r\n          \r\n          {pager.getFilterValue(\"orderName\") ? (\r\n            pager.getFilterValue(\"orderName\") === SortDirection.ASC ? (\r\n              <ArrowUpOutlined className=\"ml5 f10\"/>\r\n            ) : (\r\n              <ArrowDownOutlined className=\"ml5 f10\"/>\r\n            )\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"sort-part sort-part-size\"\r\n          onClick={() => this.changeFilterOrder(\"orderSize\")}\r\n        >\r\n          \r\n          {pager.getFilterValue(\"orderSize\") ? (\r\n            pager.getFilterValue(\"orderSize\") === SortDirection.ASC ? (\r\n              <ArrowUpOutlined className=\"ml5 f10\"/>\r\n            ) : (\r\n              <ArrowDownOutlined className=\"ml5 f10\"/>\r\n            )\r\n          ) : null}\r\n        </div>\r\n        <div\r\n          className=\"sort-part sort-part-date\"\r\n          onClick={() => this.changeFilterOrder(\"orderUpdateTime\")}\r\n        >\r\n          \r\n          {pager.getFilterValue(\"orderUpdateTime\") ? (\r\n            pager.getFilterValue(\"orderUpdateTime\") === SortDirection.ASC ? (\r\n              <ArrowUpOutlined className=\"ml5 f10\"/>\r\n            ) : (\r\n              <ArrowDownOutlined className=\"ml5 f10\"/>\r\n            )\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Children } from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport \"./List.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Pager from \"../../common/model/base/Pager\";\r\nimport Matter from \"../../common/model/matter/Matter\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport Director from \"./widget/Director\";\r\nimport SortDirection from \"../../common/model/base/SortDirection\";\r\nimport MatterPanel from \"./widget/MatterPanel\";\r\nimport UploadMatterPanel from \"./widget/UploadMatterPanel\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Empty,\r\n  Input,\r\n  Modal,\r\n  Pagination,\r\n  Row,\r\n  Space,\r\n  Upload,\r\n} from \"antd\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport {\r\n  CloudUploadOutlined,\r\n  DeleteOutlined,\r\n  DownloadOutlined,\r\n  DragOutlined,\r\n  ExclamationCircleFilled,\r\n  FolderOutlined,\r\n  MinusSquareOutlined,\r\n  PlusSquareOutlined,\r\n  ShareAltOutlined,\r\n  SyncOutlined,\r\n} from \"@ant-design/icons\";\r\nimport ImagePreviewer from \"../widget/previewer/ImagePreviewer\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport { UserRole } from \"../../common/model/user/UserRole\";\r\nimport StringUtil from \"../../common/util/StringUtil\";\r\nimport MoveBatchModal from \"./widget/MoveBatchModal\";\r\nimport ShareOperationModal from \"./widget/ShareOperationModal\";\r\nimport MatterDeleteModal from \"./widget/MatterDeleteModal\";\r\nimport Share from \"../../common/model/share/Share\";\r\nimport ShareDialogModal from \"../share/widget/ShareDialogModal\";\r\nimport BreadcrumbModel from \"../../common/model/base/option/BreadcrumbModel\";\r\nimport BreadcrumbPanel from \"../widget/BreadcrumbPanel\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport FileUtil from \"../../common/util/FileUtil\";\r\nimport SafeUtil from \"../../common/util/SafeUtil\";\r\nimport MatterSortPanel from \"./widget/MatterSortPanel\";\r\nimport { RcCustomRequestOptions } from \"antd/lib/upload/interface\";\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class List extends TankComponent<IProps, IState> {\r\n  //\r\n  matter = new Matter();\r\n  //\r\n  newMatter = new Matter();\r\n\r\n  //\r\n  selectedMatters: Matter[] = [];\r\n  //\r\n  searchText: string | null = null;\r\n  //\r\n  pager = new Pager<Matter>(this, Matter, Pager.MAX_PAGE_SIZE);\r\n  user = Moon.getSingleton().user;\r\n  preference = Moon.getSingleton().preference;\r\n  //\r\n  director = new Director();\r\n  //\r\n  breadcrumbModels: BreadcrumbModel[] = [];\r\n  //\r\n  share = new Share();\r\n\r\n  newMatterRef = React.createRef<MatterPanel>();\r\n  //\r\n  dragEnterCount = 0;\r\n\r\n  //list\r\n  tempUploadList: File[] = [];\r\n\r\n  //\r\n  uploadErrorLogs: [string, string, string][] = [];\r\n\r\n  //\r\n  static uploadMatters: Matter[] = [];\r\n\r\n  //\r\n  static instance: List | null = null;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    List.instance = this;\r\n  }\r\n\r\n  //\r\n  drag = {\r\n    dragEnterListener: (e: DragEvent) => {\r\n      e.preventDefault();\r\n      this.dragEnterCount++;\r\n      if (this.dragEnterCount > 0) this.updateUI();\r\n    },\r\n    dragleaveListener: (e: DragEvent) => {\r\n      e.preventDefault();\r\n      this.dragEnterCount--;\r\n      if (this.dragEnterCount <= 0) this.updateUI();\r\n    },\r\n    dragoverListener: (e: DragEvent) => {\r\n      e.preventDefault();\r\n    },\r\n    dropListener: (e: DragEvent) => {\r\n      e.preventDefault();\r\n      this.dragEnterCount = 0;\r\n      this.launchUpload(e.dataTransfer!.files);\r\n      this.updateUI();\r\n    },\r\n    register: () => {\r\n      const {\r\n        dragEnterListener,\r\n        dragleaveListener,\r\n        dragoverListener,\r\n        dropListener,\r\n      } = this.drag;\r\n      const el = document.getElementById(\"layout-content\")!;\r\n      el.addEventListener(\"dragenter\", dragEnterListener);\r\n      el.addEventListener(\"dragleave\", dragleaveListener);\r\n      el.addEventListener(\"dragover\", dragoverListener);\r\n      el.addEventListener(\"drop\", dropListener);\r\n    },\r\n    remove: () => {\r\n      const {\r\n        dragEnterListener,\r\n        dragleaveListener,\r\n        dragoverListener,\r\n        dropListener,\r\n      } = this.drag;\r\n      const el = document.getElementById(\"layout-content\")!;\r\n      el.removeEventListener(\"dragenter\", dragEnterListener);\r\n      el.removeEventListener(\"dragleave\", dragleaveListener);\r\n      el.removeEventListener(\"dragover\", dragoverListener);\r\n      el.removeEventListener(\"drop\", dropListener);\r\n    },\r\n  };\r\n\r\n  componentDidMount() {\r\n    //\r\n    if (this.user.role === UserRole.ADMINISTRATOR) {\r\n      this.pager.getFilter(\"userUuid\")!.visible = true;\r\n    } else {\r\n      this.pager.setFilterValue(\"userUuid\", this.user.uuid);\r\n    }\r\n    this.pager.enableHistory();\r\n    this.refresh();\r\n    this.drag.register();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: Readonly<IProps>, nextContext: any) {\r\n    if (this.props.location.search !== nextProps.location.search) {\r\n      this.pager.enableHistory();\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.drag.remove();\r\n  }\r\n\r\n  refresh() {\r\n    // \r\n    this.selectedMatters = [];\r\n    // \r\n    this.refreshPager();\r\n    // \r\n    this.refreshBreadcrumbs();\r\n  }\r\n\r\n  refreshPager() {\r\n    // matter uuid\r\n    if (this.matter.uuid !== this.pager.getFilterValue(\"puuid\")) {\r\n      this.matter.uuid =\r\n        this.pager.getFilterValue(\"puuid\") || Matter.MATTER_ROOT;\r\n    }\r\n\r\n    this.pager.setFilterValue(\"puuid\", this.matter.uuid);\r\n\r\n    //\r\n    if (!this.pager.getCurrentSortFilter()) {\r\n      this.pager.setFilterValue(\"orderCreateTime\", SortDirection.DESC);\r\n      this.pager.setFilterValue(\"orderDir\", SortDirection.DESC);\r\n    }\r\n\r\n    // \r\n    this.pager.setFilterValue(\"deleted\", false);\r\n\r\n    this.pager.httpList();\r\n  }\r\n\r\n  checkMatter(matter?: Matter) {\r\n    if (matter) {\r\n      if (matter.check) {\r\n        this.selectedMatters.push(matter);\r\n      } else {\r\n        const index = this.selectedMatters.findIndex(\r\n          (item) => item.uuid === matter.uuid\r\n        );\r\n        this.selectedMatters.splice(index, 1);\r\n      }\r\n    } else {\r\n      //\r\n      this.selectedMatters = [];\r\n      this.pager.data.forEach((matter) => {\r\n        if (matter.check) {\r\n          this.selectedMatters.push(matter);\r\n        }\r\n      });\r\n    }\r\n    this.updateUI();\r\n  }\r\n\r\n  checkAll() {\r\n    this.pager.data.forEach((i) => {\r\n      i.check = true;\r\n    });\r\n    this.checkMatter();\r\n  }\r\n\r\n  checkNone() {\r\n    this.pager.data.forEach((i) => {\r\n      i.check = false;\r\n    });\r\n    this.checkMatter();\r\n  }\r\n\r\n  deleteBatch() {\r\n    const uuids = this.selectedMatters.map((i) => i.uuid).toString();\r\n    MatterDeleteModal.open(\r\n      () => {\r\n        this.matter.httpSoftDeleteBatch(uuids, () => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.refresh();\r\n        });\r\n      },\r\n      () => {\r\n        this.matter.httpDeleteBatch(uuids, () => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.refresh();\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  downloadZip() {\r\n    const uuids = this.selectedMatters.map((i) => i.uuid).toString();\r\n    Matter.downloadZip(uuids);\r\n  }\r\n\r\n  toggleMoveBatch() {\r\n    MoveBatchModal.open((targetUuid) => {\r\n      const uuids = this.selectedMatters.map((i) => i.uuid).join(\",\");\r\n      this.matter.httpMove(uuids, targetUuid, () => {\r\n        MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n        this.refresh();\r\n      });\r\n    });\r\n  }\r\n\r\n  triggerUpload(fileObj: RcCustomRequestOptions) {\r\n    const { file } = fileObj;\r\n    if (file) this.launchUpload(file);\r\n  }\r\n\r\n  debounce(func: Function, wait: number) {\r\n    let timer: any = null;\r\n    return (fileObj: any) => {\r\n      const { file } = fileObj;\r\n      this.tempUploadList.push(file);\r\n      if (timer) {\r\n        clearTimeout(timer);\r\n      }\r\n      timer = setTimeout(func, wait);\r\n    };\r\n  }\r\n\r\n  triggerUploadDir = this.debounce(async () => {\r\n    await this.uploadDirectory();\r\n    if (!this.uploadErrorLogs.length) {\r\n      MessageBoxUtil.success(Lang.t(\"matter.uploaded\"));\r\n    } else {\r\n      // \r\n      const url = FileUtil.getErrorLogsToCSVUrl(this.uploadErrorLogs);\r\n      Modal.confirm({\r\n        title: Lang.t(\"matter.uploadInfo\"),\r\n        icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n        content: Lang.t(\"matter.uploadErrorInfo\"),\r\n        okText: Lang.t(\"matter.exportCSV\"),\r\n        onOk: () => {\r\n          if (url) {\r\n            window.open(url);\r\n          } else {\r\n            MessageBoxUtil.warn(Lang.t(\"matter.unCompatibleBrowser\"));\r\n          }\r\n        },\r\n      });\r\n    }\r\n    this.tempUploadList = [];\r\n    this.uploadErrorLogs = [];\r\n    this.refresh();\r\n  }, 0);\r\n\r\n  async uploadDirectory() {\r\n    const dirPathUuidMap: any = {}; // map\r\n    for (let i = 0; i < this.tempUploadList.length; i++) {\r\n      const file: File = this.tempUploadList[i];\r\n      const paths = file.webkitRelativePath.split(\"/\");\r\n      const pPaths = paths.slice(0, paths.length - 1);\r\n      const pPathStr = pPaths.join(\"/\");\r\n      if (!dirPathUuidMap[pPathStr]) {\r\n        // \r\n        for (let j = 1; j <= pPaths.length; j++) {\r\n          const midPaths = pPaths.slice(0, j);\r\n          const midPathStr = midPaths.join(\"/\");\r\n          if (!dirPathUuidMap[midPathStr]) {\r\n            const m = new Matter(this);\r\n            m.name = midPaths[midPaths.length - 1];\r\n            m.puuid =\r\n              j > 1\r\n                ? dirPathUuidMap[midPaths.slice(0, j - 1).join(\"/\")]\r\n                : this.matter.uuid!;\r\n            m.userUuid = this.user.uuid!;\r\n            await m.httpCreateDirectory(\r\n              () => {\r\n                dirPathUuidMap[midPathStr] = m.uuid;\r\n              },\r\n              (msg: string) => {\r\n                this.uploadErrorLogs.push([\r\n                  file.name,\r\n                  file.webkitRelativePath,\r\n                  msg,\r\n                ]);\r\n              }\r\n            );\r\n          }\r\n        }\r\n      }\r\n      if (dirPathUuidMap[pPathStr]) {\r\n        this.launchUpload(file, dirPathUuidMap[pPathStr], (msg?: string) => {\r\n          this.uploadErrorLogs.push([\r\n            file.name,\r\n            file.webkitRelativePath,\r\n            `${msg}`,\r\n          ]);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  launchUpload(\r\n    f: File | FileList,\r\n    puuid = this.matter.uuid!,\r\n    errHandle = () => {}\r\n  ) {\r\n    const files = f instanceof FileList ? f : [f];\r\n    for (let i = 0; i < files.length; i++) {\r\n      const file = files[i];\r\n      const m = new Matter(this);\r\n      m.dir = false;\r\n      m.puuid = puuid;\r\n      m.userUuid = this.user.uuid!;\r\n\r\n      //\r\n      if (this.user.sizeLimit >= 0) {\r\n        if (file.size > this.user.sizeLimit) {\r\n          MessageBoxUtil.error(\r\n            Lang.t(\r\n              \"matter.sizeExceedLimit\",\r\n              StringUtil.humanFileSize(file.size),\r\n              StringUtil.humanFileSize(this.user.sizeLimit)\r\n            )\r\n          );\r\n        }\r\n      }\r\n      m.file = file;\r\n      m.httpUpload(\r\n        () => {\r\n          const index = List.uploadMatters.findIndex((matter) => matter === m);\r\n          List.uploadMatters.splice(index, 1);\r\n          List.instance!.refresh();\r\n        },\r\n        (msg: string) => {\r\n          List.instance!.updateUI();\r\n          SafeUtil.safeCallback(errHandle)(msg);\r\n        }\r\n      );\r\n\r\n      List.uploadMatters.push(m);\r\n    }\r\n  }\r\n\r\n  shareBatch() {\r\n    const uuids = this.selectedMatters.map((i) => i.uuid).join(\",\");\r\n    ShareOperationModal.open((share: Share) => {\r\n      share.httpCreate(uuids, () => {\r\n        ShareDialogModal.open(share);\r\n      });\r\n    });\r\n  };\r\n\r\n  searchFile(value?: string) {\r\n    this.pager.resetFilter();\r\n    if (value) {\r\n      this.pager.setFilterValue(\"orderCreateTime\", SortDirection.DESC);\r\n      this.pager.setFilterValue(\"orderDir\", SortDirection.DESC);\r\n      this.pager.setFilterValue(\"name\", value);\r\n      this.pager.httpList();\r\n    } else {\r\n      this.refresh();\r\n    }\r\n  };\r\n\r\n  changeSearch(e: any) {\r\n    if (!e.currentTarget.value) this.searchFile();\r\n  };\r\n\r\n  changePage(page: number) {\r\n    this.pager.page = page - 1; // page0\r\n    this.pager.httpList();\r\n    this.updateUI();\r\n  };\r\n\r\n  createDirectory() {\r\n    this.newMatter.name = \"matter.allFiles\";\r\n    this.newMatter.dir = true;\r\n    this.newMatter.editMode = true;\r\n    this.newMatter.puuid = this.matter.uuid || \"root\";\r\n    this.newMatter.userUuid = this.user.uuid!;\r\n    this.director.createMode = true;\r\n\r\n    this.updateUI();\r\n    setTimeout(() => this.newMatterRef.current!.highLight());\r\n  };\r\n\r\n  previewImage(matter: Matter) {\r\n    let imageArray: string[] = [];\r\n    let startIndex = -1;\r\n    this.pager.data.forEach((item) => {\r\n      if (item.isImage()) {\r\n        imageArray.push(item.getPreviewUrl());\r\n        if (item.uuid === matter.uuid) {\r\n          startIndex = imageArray.length - 1;\r\n        }\r\n      }\r\n    });\r\n\r\n    ImagePreviewer.showMultiPhoto(imageArray, startIndex);\r\n  };\r\n\r\n  goToDirectory(id: string) {\r\n    this.searchText = null;\r\n    this.pager.setFilterValue(\"puuid\", id);\r\n    this.pager.page = 0;\r\n    const query = this.pager.getParams();\r\n    Sun.navigateQueryTo({ path: \"/matter/list\", query });\r\n    this.refresh();\r\n  };\r\n\r\n  //\r\n  refreshBreadcrumbs()  {\r\n    const uuid = this.pager.getFilterValue(\"puuid\") || Matter.MATTER_ROOT;\r\n\r\n    //\r\n    if (uuid === Matter.MATTER_ROOT) {\r\n      this.matter.uuid = Matter.MATTER_ROOT;\r\n      this.breadcrumbModels = [\r\n        {\r\n          name: Lang.t(\"matter.allFiles\"),\r\n          path: \"/matter/list\",\r\n          query: {},\r\n          displayDirect: true,\r\n        },\r\n      ];\r\n    } else {\r\n      this.matter.uuid = uuid;\r\n      this.matter.httpDetail(() => {\r\n        const arr = [];\r\n        let cur: Matter | null = this.matter;\r\n        do {\r\n          arr.push(cur);\r\n          cur = cur.parent;\r\n        } while (cur);\r\n\r\n        this.breadcrumbModels = arr.reduceRight(\r\n          (t: any, item: Matter, i: number) => {\r\n            const query = this.pager.getParams();\r\n            query[\"puuid\"] = item.uuid!;\r\n            t.push({\r\n              name: item.name,\r\n              path: \"/matter/list\",\r\n              query: query,\r\n              displayDirect: !i, // \r\n            });\r\n            return t;\r\n          },\r\n          [\r\n            {\r\n              name: Lang.t(\"matter.allFiles\"),\r\n              path: \"/matter/list\",\r\n              query: {},\r\n              displayDirect: false,\r\n            },\r\n          ]\r\n        );\r\n        this.updateUI();\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { pager, director, selectedMatters, dragEnterCount } = this;\r\n    return (\r\n      <div className=\"matter-list\">\r\n        {dragEnterCount > 0 ? (\r\n          <div className=\"obscure\">\r\n            <CloudUploadOutlined className=\"white f50\" />\r\n          </div>\r\n        ) : null}\r\n        <BreadcrumbPanel breadcrumbModels={this.breadcrumbModels} />\r\n\r\n        <Row className=\"mt10\">\r\n          <Col xs={24} sm={24} md={14} lg={16}>\r\n            <Space className=\"buttons\">\r\n              {selectedMatters.length !== pager.data.length ? (\r\n                <Button\r\n                  type=\"primary\"\r\n                  className=\"mb10\"\r\n                  onClick={() => this.checkAll()}\r\n                >\r\n                  <PlusSquareOutlined />\r\n                  {Lang.t(\"selectAll\")}\r\n                </Button>\r\n              ) : null}\r\n              {pager.data.length &&\r\n              selectedMatters.length === pager.data.length ? (\r\n                <Button\r\n                  type=\"primary\"\r\n                  className=\"mb10\"\r\n                  onClick={() => this.checkNone()}\r\n                >\r\n                  <MinusSquareOutlined />\r\n                  {Lang.t(\"cancel\")}\r\n                </Button>\r\n              ) : null}\r\n              {selectedMatters.length ? (\r\n                <>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    className=\"mb10\"\r\n                    onClick={() => this.deleteBatch()}\r\n                  >\r\n                    <DeleteOutlined />\r\n                    {Lang.t(\"delete\")}\r\n                  </Button>\r\n\r\n                  <Button\r\n                    type=\"primary\"\r\n                    className=\"mb10\"\r\n                    onClick={() => this.downloadZip()}\r\n                  >\r\n                    <DownloadOutlined />\r\n                    {Lang.t(\"download\")}\r\n                  </Button>\r\n\r\n                  <Button\r\n                    type=\"primary\"\r\n                    className=\"mb10\"\r\n                    onClick={() => this.toggleMoveBatch()}\r\n                  >\r\n                    <DragOutlined />\r\n                    {Lang.t(\"matter.move\")}\r\n                  </Button>\r\n\r\n                  <Button\r\n                    type=\"primary\"\r\n                    className=\"mb10\"\r\n                    onClick={() => this.shareBatch()}\r\n                  >\r\n                    <ShareAltOutlined />\r\n                    {Lang.t(\"matter.share\")}\r\n                  </Button>\r\n                </>\r\n              ) : null}\r\n\r\n              <Upload\r\n                className=\"ant-upload\"\r\n                customRequest={(e) => this.triggerUpload(e)}\r\n                showUploadList={false}\r\n                multiple\r\n              >\r\n                <Button type=\"primary\" className=\"mb10\">\r\n                  <CloudUploadOutlined />\r\n                  {Lang.t(\"matter.upload\")}\r\n                </Button>\r\n              </Upload>\r\n              <Upload\r\n                className=\"ant-upload\"\r\n                customRequest={this.triggerUploadDir}\r\n                showUploadList={false}\r\n                directory\r\n              >\r\n                <Button type=\"primary\" className=\"mb10\">\r\n                  <CloudUploadOutlined />\r\n                  {Lang.t(\"matter.uploadDir\")}\r\n                </Button>\r\n              </Upload>\r\n              <Button\r\n                type=\"primary\"\r\n                className=\"mb10\"\r\n                onClick={() => this.createDirectory()}\r\n              >\r\n                <FolderOutlined />\r\n                {Lang.t(\"matter.create\")}\r\n              </Button>\r\n\r\n              <Button\r\n                type=\"primary\"\r\n                className=\"mb10\"\r\n                onClick={() => this.refresh()}\r\n              >\r\n                <SyncOutlined />\r\n                {Lang.t(\"refresh\")}\r\n              </Button>\r\n            </Space>\r\n          </Col>\r\n          <Col xs={24} sm={24} md={10} lg={8}>\r\n            <Input.Search\r\n              className=\"mb10\"\r\n              placeholder={Lang.t(\"matter.searchFile\")}\r\n              onSearch={(value) => this.searchFile(value)}\r\n              onChange={e => this.changeSearch(e)}\r\n              enterButton\r\n            />\r\n          </Col>\r\n        </Row>\r\n\r\n        {Children.toArray(\r\n          List.uploadMatters.map((m) => <UploadMatterPanel matter={m} />)\r\n        )}\r\n\r\n        {pager.data.length ? (\r\n          <MatterSortPanel pager={pager} refresh={() => this.refresh()} />\r\n        ) : null}\r\n\r\n        {director.createMode ? (\r\n          <MatterPanel\r\n            ref={this.newMatterRef}\r\n            matter={this.newMatter}\r\n            director={director}\r\n            onCreateDirectoryCallback={() => this.refresh()}\r\n          />\r\n        ) : null}\r\n        <div>\r\n          {pager.loading || pager.data.length ? (\r\n            pager.data.map((matter) => (\r\n              <MatterPanel\r\n                key={matter.uuid!}\r\n                director={director}\r\n                matter={matter}\r\n                onGoToDirectory={id => this.goToDirectory(id)}\r\n                onDeleteSuccess={() => this.refresh()}\r\n                onCheckMatter={m => this.checkMatter(m)}\r\n                onPreviewImage={m => this.previewImage(m)}\r\n              />\r\n            ))\r\n          ) : (\r\n            <Empty description={Lang.t(\"matter.noContentYet\")} />\r\n          )}\r\n        </div>\r\n        <Pagination\r\n          className=\"mt10 pull-right\"\r\n          onChange={page => this.changePage(page)}\r\n          current={pager.page + 1}\r\n          total={pager.totalItems}\r\n          pageSize={pager.pageSize}\r\n          hideOnSinglePage\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import BaseEntity from '../../base/BaseEntity'\r\nimport User from \"../../user/User\";\r\nimport Matter from \"../../matter/Matter\";\r\nimport InputFilter from \"../../base/filter/InputFilter\";\r\nimport SafeUtil from \"../../../util/SafeUtil\";\r\n\r\nexport default class ImageCache extends BaseEntity {\r\n\r\n  static URL_DELETE_BATCH = '/api/image/cache/delete/batch';\r\n\r\n  name: string | null = null;\r\n  userUuid: string | null = null;\r\n  matterUuid: string | null = null;\r\n  matterName: string | null = null;\r\n  mode: string | null = null;\r\n  md5: string | null = null;\r\n  size: number = 0;\r\n  path: number = 0;\r\n\r\n  /*\r\n    UI\r\n   */\r\n  //\r\n  check: boolean = false;\r\n\r\n  user: User = new User();\r\n  matter: Matter = new Matter();\r\n\r\n  constructor(reactComponent?: React.Component) {\r\n    super(reactComponent);\r\n  }\r\n\r\n  getUrlPrefix() {\r\n    return \"/api/image/cache\"\r\n  }\r\n\r\n  assign(obj: any) {\r\n    super.assign(obj);\r\n  }\r\n\r\n  getFilters() {\r\n    return [\r\n      ...super.getFilters(),\r\n      new InputFilter(\"User Uuid\", \"userUuid\", null, false),\r\n      new InputFilter(\"File Uuid\", \"matterUuid\", null, false),\r\n    ]\r\n  }\r\n\r\n  getForm() {\r\n    return {\r\n      uuid: this.uuid ? this.uuid : null\r\n    }\r\n  }\r\n\r\n  getResizeUrl() {\r\n    return '/api/alien/preview/' + this.matterUuid + '/' + this.matterName + \"?ir=\" + this.mode\r\n  }\r\n\r\n  getOriginUrl() {\r\n    return '/api/alien/download/' + this.matterUuid + '/' + this.matterName\r\n  }\r\n\r\n\r\n  httpDeleteBatch(uuids: string, successCallback?: () => any, errorCallback?: () => any) {\r\n    this.httpPost(ImageCache.URL_DELETE_BATCH, {'uuids': uuids}, function (response: any) {\r\n      SafeUtil.safeCallback(successCallback)(response)\r\n    }, errorCallback)\r\n  }\r\n\r\n\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../../../common/component/TankComponent\";\r\nimport { Checkbox, Modal } from \"antd\";\r\nimport SafeUtil from \"../../../../common/util/SafeUtil\";\r\nimport ImageCache from \"../../../../common/model/image/cache/ImageCache\";\r\nimport ImageUtil from \"../../../../common/util/ImageUtil\";\r\nimport { CheckboxChangeEvent } from \"antd/es/checkbox\";\r\nimport {\r\n  DeleteOutlined,\r\n  ExclamationCircleFilled,\r\n  SmallDashOutlined,\r\n} from \"@ant-design/icons\";\r\nimport MessageBoxUtil from \"../../../../common/util/MessageBoxUtil\";\r\nimport FileUtil from \"../../../../common/util/FileUtil\";\r\nimport DateUtil from \"../../../../common/util/DateUtil\";\r\nimport Expanding from \"../../../widget/Expanding\";\r\nimport \"./ImageCachePanel.less\";\r\nimport StringUtil from \"../../../../common/util/StringUtil\";\r\nimport Lang from \"../../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  imageCache: ImageCache;\r\n  onCheckImageCache: (imageCache?: ImageCache) => any;\r\n  onPreviewImageCache: (imageCache: ImageCache) => any;\r\n  onDeleteSuccess: () => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class ImageCachePanel extends TankComponent<IProps, IState> {\r\n  // \r\n  showMore = false;\r\n\r\n  checkToggle(e: CheckboxChangeEvent) {\r\n    const { imageCache, onCheckImageCache } = this.props;\r\n    imageCache.check = e.target.checked;\r\n    onCheckImageCache(imageCache);\r\n  };\r\n\r\n  deleteImageCache() {\r\n    Modal.confirm({\r\n      title: Lang.t(\"actionCanNotRevertConfirm\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      onOk: () => {\r\n        this.props.imageCache.httpDel(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.props.onDeleteSuccess!();\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  toggleHandles() {\r\n    this.showMore = !this.showMore;\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { imageCache } = this.props;\r\n\r\n    return (\r\n      <div className=\"widget-image-cache-panel\">\r\n        <div\r\n          onClick={(e) =>\r\n            SafeUtil.stopPropagationWrap(e)(\r\n              this.props.onPreviewImageCache(imageCache)\r\n            )\r\n          }\r\n        >\r\n          <div className=\"media clearfix\">\r\n            <div className=\"pull-left\">\r\n              <div className=\"left-part\">\r\n                <span className=\"basic-span basic-span-hot\">\r\n                  <Checkbox\r\n                    onClick={(e) => SafeUtil.stopPropagationWrap(e)}\r\n                    checked={imageCache.check}\r\n                    onChange={e => this.checkToggle(e)}\r\n                  />\r\n                </span>\r\n                <span className=\"basic-span\">\r\n                  <img\r\n                    className=\"image-cache-icon\"\r\n                    src={ImageUtil.handleImageUrl(\r\n                      imageCache.getOriginUrl(),\r\n                      false,\r\n                      100,\r\n                      100\r\n                    )}\r\n                  />\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/**/}\r\n            <div className=\"pull-right visible-pc\">\r\n              {imageCache.uuid ? (\r\n                <div className=\"right-part\">\r\n                  <DeleteOutlined\r\n                    title={Lang.t(\"delete\")}\r\n                    className=\"image-cache-operation btn-action red\"\r\n                    onClick={(e) =>\r\n                      SafeUtil.stopPropagationWrap(e)(this.deleteImageCache())\r\n                    }\r\n                  />\r\n                  <span className=\"image-cache-size\">\r\n                    {FileUtil.humanFileSize(imageCache.size)}\r\n                  </span>\r\n                  <span className=\"image-cache-date\">\r\n                    {DateUtil.simpleDateHourMinute(imageCache.updateTime)}\r\n                  </span>\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n\r\n            {/**/}\r\n            <div className=\"pull-right visible-mobile\">\r\n              <span\r\n                className=\"more-btn\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.toggleHandles())\r\n                }\r\n              >\r\n                <SmallDashOutlined className=\"btn-action navy f18\" />\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"media-body\">\r\n              <div className=\"middle-part\">\r\n                <span className=\"image-cache-name\">{imageCache.name}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Expanding>\r\n            {this.showMore ? (\r\n              <div className=\"more-panel\">\r\n                <div className=\"cell-btn text\">\r\n                  <span>\r\n                    {DateUtil.simpleDateHourMinute(imageCache.updateTime)}\r\n                  </span>\r\n                  <span className=\"matter-size\">\r\n                    {StringUtil.humanFileSize(imageCache.size)}\r\n                  </span>\r\n                </div>\r\n                <div\r\n                  className=\"cell-btn red\"\r\n                  onClick={(e) =>\r\n                    SafeUtil.stopPropagationWrap(e)(this.deleteImageCache())\r\n                  }\r\n                >\r\n                  <DeleteOutlined className=\"btn-action mr5\" />\r\n                  {Lang.t(\"delete\")}\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </Expanding>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {Button, Empty, Modal, Pagination, Space} from \"antd\";\r\nimport Pager from \"../../../../common/model/base/Pager\";\r\nimport ImageCache from \"../../../../common/model/image/cache/ImageCache\";\r\nimport TankComponent from \"../../../../common/component/TankComponent\";\r\nimport ImageCachePanel from \"./ImageCachePanel\";\r\nimport ImagePreviewer from \"../../../widget/previewer/ImagePreviewer\";\r\nimport MessageBoxUtil from \"../../../../common/util/MessageBoxUtil\";\r\nimport {DeleteOutlined, ExclamationCircleFilled, MinusSquareOutlined, PlusSquareOutlined} from \"@ant-design/icons\";\r\nimport TankTitle from \"../../../widget/TankTitle\";\r\nimport Lang from \"../../../../common/model/global/Lang\";\r\nimport TankContentCard from \"../../../widget/TankContentCard\";\r\n\r\ninterface IProps {\r\n  initFilter: any;\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class ImageCacheList extends TankComponent<IProps, IState> {\r\n  selectedImageCaches: ImageCache[] = [];\r\n  pager = new Pager<ImageCache>(this, ImageCache, 2);\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n    this.pager.enableHistory()\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refresh();\r\n  }\r\n\r\n  deleteBatch() {\r\n    Modal.confirm({\r\n      title: Lang.t(\"actionCanNotRevertConfirm\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\"/>,\r\n      onOk: () => {\r\n        const uuids = this.selectedImageCaches.map((i) => i.uuid).toString();\r\n        const imageCache = new ImageCache();\r\n        imageCache.httpDeleteBatch(uuids, () => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.refresh();\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  checkBatch(check: boolean) {\r\n    this.pager.data.forEach((i) => {\r\n      i.check = check;\r\n    });\r\n    this.checkImageCache();\r\n  };\r\n\r\n  refresh() {\r\n    const {initFilter} = this.props;\r\n    if (initFilter) {\r\n      for (let key in initFilter) {\r\n        if (initFilter.hasOwnProperty(key)) {\r\n          this.pager.setFilterValue(key, initFilter[key]);\r\n        }\r\n      }\r\n    }\r\n    this.pager.page = 0;\r\n    this.pager.httpList();\r\n    this.selectedImageCaches = [];\r\n  };\r\n\r\n  checkImageCache(imageCache?: ImageCache) {\r\n    if (imageCache) {\r\n      if (imageCache.check) {\r\n        this.selectedImageCaches.push(imageCache);\r\n      } else {\r\n        const index = this.selectedImageCaches.findIndex(\r\n          (item) => item.uuid === imageCache.uuid\r\n        );\r\n        this.selectedImageCaches.splice(index, 1);\r\n      }\r\n    } else {\r\n      this.selectedImageCaches.splice(0, this.selectedImageCaches.length);\r\n      this.pager.data.forEach((imageCache) => {\r\n        if (imageCache.check) {\r\n          this.selectedImageCaches.push(imageCache);\r\n        }\r\n      });\r\n    }\r\n    this.updateUI();\r\n  };\r\n\r\n  previewImageCache(imageCache: ImageCache) {\r\n    //matter\r\n    const imageArray: string[] = [];\r\n    let startIndex = -1;\r\n    this.pager.data.forEach((item) => {\r\n      imageArray.push(item.getResizeUrl());\r\n      if (item.uuid === imageCache.uuid) {\r\n        startIndex = imageArray.length - 1;\r\n      }\r\n    });\r\n\r\n    ImagePreviewer.showMultiPhoto(imageArray, startIndex);\r\n  };\r\n\r\n  changePage(page: number) {\r\n    this.pager.page = page - 1; // page0\r\n    this.pager.httpList();\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const {selectedImageCaches, pager} = this;\r\n    if (!pager.data.length) return <Empty description={Lang.t(\"matter.noImageCache\")}/>;\r\n    return (\r\n      <div>\r\n        <TankTitle\r\n          name={Lang.t(\"matter.imageCache\")}\r\n          children={\r\n            <div>\r\n              <Space>\r\n                {selectedImageCaches.length ? (\r\n                  <Button type=\"primary\" onClick={() => this.deleteBatch()}>\r\n                    <DeleteOutlined/>\r\n                    {Lang.t(\"delete\")}\r\n                  </Button>\r\n                ) : null}\r\n                {selectedImageCaches.length !== pager.data.length ? (\r\n                  <Button type=\"primary\" onClick={() => this.checkBatch(true)}>\r\n                    <PlusSquareOutlined/>\r\n                    {Lang.t(\"selectAll\")}\r\n                  </Button>\r\n                ) : null}\r\n                {pager.data.length &&\r\n                selectedImageCaches.length === pager.data.length ? (\r\n                  <Button type=\"primary\" onClick={() => this.checkBatch(false)}>\r\n                    <MinusSquareOutlined/>\r\n                    {Lang.t(\"cancel\")}\r\n                  </Button>\r\n                ) : null}\r\n              </Space>\r\n            </div>\r\n          }\r\n        />\r\n\r\n        <TankContentCard>\r\n          {pager.data.map((imageCache) => (\r\n            <ImageCachePanel\r\n              key={imageCache.uuid!}\r\n              imageCache={imageCache}\r\n              onDeleteSuccess={() => this.refresh()}\r\n              onCheckImageCache={e => this.checkImageCache(e)}\r\n              onPreviewImageCache={e => this.previewImageCache(e)}\r\n            />\r\n          ))}\r\n\r\n        </TankContentCard>\r\n\r\n        <Pagination\r\n          className=\"mt10 pull-right\"\r\n          onChange={page => this.changePage(page)}\r\n          current={pager.page + 1}\r\n          total={pager.totalItems}\r\n          pageSize={pager.pageSize}\r\n          hideOnSinglePage\r\n        />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport \"./Detail.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Matter from \"../../common/model/matter/Matter\";\r\nimport { Space, Spin, Tag } from \"antd\";\r\nimport StringUtil from \"../../common/util/StringUtil\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport DownloadToken from \"../../common/model/download/token/DownloadToken\";\r\nimport DateUtil from \"../../common/util/DateUtil\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport ImageCacheList from \"./widget/imageCache/ImageCacheList\";\r\nimport ClipboardUtil from \"../../common/util/ClipboardUtil\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport InfoCell from \"../widget/InfoCell\";\r\nimport TankContentCard from \"../widget/TankContentCard\";\r\nimport Color from \"../../common/model/base/option/Color\";\r\n\r\ninterface RouteParam {\r\n  uuid: string;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<RouteParam> {}\r\n\r\ninterface IState {}\r\n\r\nexport default class Detail extends TankComponent<IProps, IState> {\r\n  matter = new Matter();\r\n  downloadToken = new DownloadToken();\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { uuid } = this.props.match.params;\r\n    this.matter.uuid = uuid;\r\n    let that = this;\r\n    this.matter.httpDetail((response: any) => {\r\n      that.updateUI();\r\n      if (!response.data.data.dir) {\r\n        that.downloadToken.httpFetchDownloadToken(that.matter.uuid!);\r\n      }\r\n    });\r\n  }\r\n\r\n  copyLink() {\r\n    const { privacy } = this.matter;\r\n    const textToCopy = this.matter.getDownloadUrl(\r\n      privacy ? this.downloadToken.uuid! : undefined\r\n    );\r\n    ClipboardUtil.copy(textToCopy, () => {\r\n      MessageBoxUtil.success(Lang.t(\"copySuccess\"));\r\n    });\r\n  };\r\n\r\n  recovery() {\r\n    this.matter.httpRecovery(() => {\r\n      this.matter.httpDetail(() => {\r\n        this.updateUI();\r\n      });\r\n      MessageBoxUtil.success(Lang.t(\"copySuccess\"));\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { matter } = this;\r\n    return (\r\n      <Spin tip={Lang.t(\"loading\")} spinning={matter.detailLoading}>\r\n        <div className=\"page-matter-detail\">\r\n          <TankTitle name={Lang.t(\"matter.fileDetail\")} />\r\n\r\n          <TankContentCard>\r\n            <div className=\"info\">\r\n              <InfoCell name={Lang.t(\"matter.fileInfo\")}>\r\n                {matter.name}\r\n                {matter.deleted && (\r\n                  <Tag className=\"ml10\" color={Color.DANGER}>\r\n                    {Lang.t(\"matter.deleted\")}\r\n                  </Tag>\r\n                )}\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"matter.path\")}>{matter.path}</InfoCell>\r\n              <InfoCell name={Lang.t(\"matter.createTime\")}>\r\n                {DateUtil.simpleDateTime(matter.createTime)}\r\n              </InfoCell>\r\n              <InfoCell name={Lang.t(\"matter.updateTime\")}>\r\n                {DateUtil.simpleDateTime(matter.updateTime)}\r\n              </InfoCell>\r\n              {matter.deleted && (\r\n                <InfoCell name={Lang.t(\"matter.deleteTime\")}>\r\n                  {DateUtil.simpleDateTime(matter.deleteTime)}\r\n                </InfoCell>\r\n              )}\r\n              <InfoCell name={Lang.t(\"matter.size\")}>\r\n                {StringUtil.humanFileSize(matter.size)}\r\n              </InfoCell>\r\n              {!matter.dir ? (\r\n                <>\r\n                  <InfoCell name={Lang.t(\"matter.publicOrPrivate\")}>\r\n                    {matter.privacy\r\n                      ? Lang.t(\"matter.privateInfo\")\r\n                      : Lang.t(\"matter.publicInfo\")}\r\n                  </InfoCell>\r\n                  <InfoCell name={Lang.t(\"matter.downloadTimes\")}>\r\n                    {matter.times}\r\n                  </InfoCell>\r\n                  <InfoCell name={Lang.t(\"matter.operations\")}>\r\n                    <Space>\r\n                      <a onClick={() => matter.download()}>\r\n                        {Lang.t(\"matter.download\")}\r\n                      </a>\r\n                      <a onClick={() => matter.preview()}>\r\n                        {Lang.t(\"matter.preview\")}\r\n                      </a>\r\n                      <a onClick={() => this.copyLink()}>\r\n                        {matter.privacy\r\n                          ? Lang.t(\"matter.oneTimeLink\")\r\n                          : Lang.t(\"matter.copyPath\")}\r\n                      </a>\r\n                      {matter.deleted ? (\r\n                        <a onClick={() => this.recovery()}>\r\n                          {Lang.t(\"matter.recovery\")}\r\n                        </a>\r\n                      ) : null}\r\n                    </Space>\r\n                  </InfoCell>\r\n                </>\r\n              ) : null}\r\n              {matter.dir && matter.deleted && (\r\n                <InfoCell name={Lang.t(\"matter.operations\")}>\r\n                  <a onClick={() => this.recovery()}>{Lang.t(\"matter.recovery\")}</a>\r\n                </InfoCell>\r\n              )}\r\n            </div>\r\n          </TankContentCard>\r\n        </div>\r\n\r\n        {!matter.dir && matter.uuid && matter.isImage() ? (\r\n          <ImageCacheList initFilter={{ matterUuid: matter.uuid }} />\r\n        ) : null}\r\n      </Spin>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport \"./List.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Pager from \"../../common/model/base/Pager\";\r\nimport Matter from \"../../common/model/matter/Matter\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport SortDirection from \"../../common/model/base/SortDirection\";\r\nimport MatterPanel from \"../matter/widget/MatterPanel\";\r\nimport { Button, Col, Empty, Input, Modal, Pagination, Row, Space } from \"antd\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport {\r\n  ExclamationCircleFilled,\r\n  PlusSquareOutlined,\r\n  MinusSquareOutlined,\r\n  SyncOutlined,\r\n  RedoOutlined,\r\n  CloseCircleOutlined,\r\n} from \"@ant-design/icons\";\r\nimport ImagePreviewer from \"../widget/previewer/ImagePreviewer\";\r\nimport { UserRole } from \"../../common/model/user/UserRole\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class List extends TankComponent<IProps, IState> {\r\n  //\r\n  matter = new Matter();\r\n  //\r\n  selectedMatters: Matter[] = [];\r\n  //\r\n  pager = new Pager<Matter>(this, Matter, Pager.MAX_PAGE_SIZE);\r\n  user = Moon.getSingleton().user;\r\n  preference = Moon.getSingleton().preference;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    //\r\n    if (this.user.role === UserRole.ADMINISTRATOR) {\r\n      this.pager.getFilter(\"userUuid\")!.visible = true;\r\n    } else {\r\n      this.pager.setFilterValue(\"userUuid\", this.user.uuid);\r\n    }\r\n    this.pager.enableHistory();\r\n    this.refresh();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: Readonly<IProps>, nextContext: any) {\r\n    if (this.props.location.search !== nextProps.location.search) {\r\n      this.pager.enableHistory();\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  refresh() {\r\n    // \r\n    this.selectedMatters = [];\r\n    // \r\n    this.refreshPager();\r\n  }\r\n\r\n  refreshPager() {\r\n    //\r\n    if (!this.pager.getCurrentSortFilter()) {\r\n      this.pager.setFilterValue(\"orderDeleteTime\", SortDirection.DESC);\r\n      this.pager.setFilterValue(\"orderDir\", SortDirection.DESC);\r\n    }\r\n\r\n    // \r\n    this.pager.setFilterValue(\"deleted\", true);\r\n\r\n    this.pager.httpList();\r\n  }\r\n\r\n  checkMatter(matter?: Matter) {\r\n    if (matter) {\r\n      if (matter.check) {\r\n        this.selectedMatters.push(matter);\r\n      } else {\r\n        const index = this.selectedMatters.findIndex(\r\n          (item) => item.uuid === matter.uuid\r\n        );\r\n        this.selectedMatters.splice(index, 1);\r\n      }\r\n    } else {\r\n      //\r\n      this.selectedMatters = [];\r\n      this.pager.data.forEach((matter) => {\r\n        if (matter.check) {\r\n          this.selectedMatters.push(matter);\r\n        }\r\n      });\r\n    }\r\n    this.updateUI();\r\n  }\r\n\r\n  checkAll() {\r\n    this.pager.data.forEach((i) => {\r\n      i.check = true;\r\n    });\r\n    this.checkMatter();\r\n  }\r\n\r\n  checkNone() {\r\n    this.pager.data.forEach((i) => {\r\n      i.check = false;\r\n    });\r\n    this.checkMatter();\r\n  }\r\n\r\n  deleteBatch() {\r\n    Modal.confirm({\r\n      title: Lang.t(\"actionCanNotRevertConfirm\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      onOk: () => {\r\n        const uuids = this.selectedMatters.map((i) => i.uuid).toString();\r\n        this.matter.httpDeleteBatch(uuids, () => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.refresh();\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  recoverBatch() {\r\n    Modal.confirm({\r\n      title: Lang.t(\"actionRecoveryConfirm\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      onOk: () => {\r\n        const uuids = this.selectedMatters.map((i) => i.uuid).toString();\r\n        this.matter.httpRecoveryBatch(uuids, () => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.refresh();\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  searchFile(value?: string) {\r\n    this.pager.resetFilter();\r\n    if (value) {\r\n      this.pager.setFilterValue(\"orderCreateTime\", SortDirection.DESC);\r\n      this.pager.setFilterValue(\"orderDir\", SortDirection.DESC);\r\n      this.pager.setFilterValue(\"name\", value);\r\n      this.pager.setFilterValue(\"deleted\", true);\r\n      this.pager.httpList();\r\n    } else {\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  changeSearch(e: any) {\r\n    if (!e.currentTarget.value) this.searchFile();\r\n  }\r\n\r\n  changePage(page: number) {\r\n    this.pager.page = page - 1; // page0\r\n    this.pager.httpList();\r\n    this.updateUI();\r\n  }\r\n\r\n  previewImage(matter: Matter) {\r\n    let imageArray: string[] = [];\r\n    let startIndex = -1;\r\n    this.pager.data.forEach((item) => {\r\n      if (item.isImage()) {\r\n        imageArray.push(item.getPreviewUrl());\r\n        if (item.uuid === matter.uuid) {\r\n          startIndex = imageArray.length - 1;\r\n        }\r\n      }\r\n    });\r\n\r\n    ImagePreviewer.showMultiPhoto(imageArray, startIndex);\r\n  }\r\n\r\n  render() {\r\n    const { pager, selectedMatters } = this;\r\n    return (\r\n      <div className=\"matter-list\">\r\n        <TankTitle name={Lang.t(\"layout.bin\")} />\r\n\r\n        <Row className=\"mt10\">\r\n          <Col xs={24} sm={24} md={14} lg={16}>\r\n            <Space className=\"buttons\">\r\n              {selectedMatters.length !== pager.data.length ? (\r\n                <Button\r\n                  type=\"primary\"\r\n                  className=\"mb10\"\r\n                  onClick={() => this.checkAll()}\r\n                >\r\n                  <PlusSquareOutlined />\r\n                  {Lang.t(\"selectAll\")}\r\n                </Button>\r\n              ) : null}\r\n              {pager.data.length &&\r\n              selectedMatters.length === pager.data.length ? (\r\n                <Button\r\n                  type=\"primary\"\r\n                  className=\"mb10\"\r\n                  onClick={() => this.checkNone()}\r\n                >\r\n                  <MinusSquareOutlined />\r\n                  {Lang.t(\"cancel\")}\r\n                </Button>\r\n              ) : null}\r\n              {selectedMatters.length ? (\r\n                <>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    className=\"mb10\"\r\n                    onClick={() => this.recoverBatch()}\r\n                  >\r\n                    <RedoOutlined />\r\n                    {Lang.t(\"matter.recovery\")}\r\n                  </Button>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    className=\"mb10\"\r\n                    onClick={() => this.deleteBatch()}\r\n                  >\r\n                    <CloseCircleOutlined />\r\n                    {Lang.t(\"matter.hardDelete\")}\r\n                  </Button>\r\n                </>\r\n              ) : null}\r\n\r\n              <Button\r\n                type=\"primary\"\r\n                className=\"mb10\"\r\n                onClick={() => this.refresh()}\r\n              >\r\n                <SyncOutlined />\r\n                {Lang.t(\"refresh\")}\r\n              </Button>\r\n            </Space>\r\n          </Col>\r\n          <Col xs={24} sm={24} md={10} lg={8}>\r\n            <Input.Search\r\n              className=\"mb10\"\r\n              placeholder={Lang.t(\"matter.searchFile\")}\r\n              onSearch={(value) => this.searchFile(value)}\r\n              onChange={(e) => this.changeSearch(e)}\r\n              enterButton\r\n            />\r\n          </Col>\r\n        </Row>\r\n\r\n        <div>\r\n          {pager.loading || pager.data.length ? (\r\n            pager.data.map((matter) => (\r\n              <MatterPanel\r\n                recycleMode\r\n                key={matter.uuid!}\r\n                matter={matter}\r\n                onDeleteSuccess={() => this.refresh()}\r\n                onRecoverySuccess={() => this.refresh()}\r\n                onCheckMatter={(m) => this.checkMatter(m)}\r\n                onPreviewImage={(m) => this.previewImage(m)}\r\n              />\r\n            ))\r\n          ) : (\r\n            <Empty description={Lang.t(\"matter.noContentYet\")} />\r\n          )}\r\n        </div>\r\n        <Pagination\r\n          className=\"mt10 pull-right\"\r\n          onChange={(page) => this.changePage(page)}\r\n          current={pager.page + 1}\r\n          total={pager.totalItems}\r\n          pageSize={pager.pageSize}\r\n          hideOnSinglePage\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  InfoCircleOutlined,\r\n  DeleteOutlined,\r\n  SmallDashOutlined,\r\n  ExclamationCircleFilled,\r\n} from \"@ant-design/icons\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport DateUtil from \"../../../common/util/DateUtil\";\r\nimport Expanding from \"../../widget/Expanding\";\r\nimport Share from \"../../../common/model/share/Share\";\r\nimport Sun from \"../../../common/model/global/Sun\";\r\nimport \"./ShareBar.less\";\r\nimport { Modal, Tooltip } from \"antd\";\r\nimport MessageBoxUtil from \"../../../common/util/MessageBoxUtil\";\r\nimport ShareDialogModal from \"./ShareDialogModal\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\n\r\ninterface IProps {\r\n  share: Share;\r\n  onDeleteSuccess: () => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class ShareBar extends TankComponent<IProps, IState> {\r\n  // \r\n  showMore = false;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  showShare() {\r\n    ShareDialogModal.open(this.props.share);\r\n  };\r\n\r\n  delShare() {\r\n    Modal.confirm({\r\n      title: Lang.t(\"actionCanNotRevertConfirm\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\" />,\r\n      onOk: () => {\r\n        this.props.share.httpDel(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          this.props.onDeleteSuccess();\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  toggleHandles() {\r\n    this.showMore = !this.showMore;\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { share } = this.props;\r\n    const { showMore } = this;\r\n    return (\r\n      <div className=\"widget-share-bar\">\r\n        <div\r\n          onClick={(e) =>\r\n            SafeUtil.stopPropagationWrap(e)(\r\n              Sun.navigateTo(`/share/detail/${share.uuid}`)\r\n            )\r\n          }\r\n        >\r\n          <div className=\"media\">\r\n            <div className=\"pull-left\">\r\n              <div className=\"left-part\">\r\n                <span className=\"basic-span\">\r\n                  <img className=\"share-icon\" src={share.getIcon()} />\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/**/}\r\n            <div className=\"pull-right visible-pc\">\r\n              <div className=\"right-part\">\r\n                <span className=\"share-operation\">\r\n                  <Tooltip title={Lang.t(\"share.shareDetail\")}>\r\n                    <InfoCircleOutlined\r\n                      className=\"btn-action mr5 text-theme\"\r\n                      onClick={(e) =>\r\n                        SafeUtil.stopPropagationWrap(e)(this.showShare())\r\n                      }\r\n                    />\r\n                  </Tooltip>\r\n                  <Tooltip title={Lang.t(\"delete\")}>\r\n                    <DeleteOutlined\r\n                      className=\"btn-action text-danger\"\r\n                      onClick={(e) =>\r\n                        SafeUtil.stopPropagationWrap(e)(this.delShare())\r\n                      }\r\n                    />\r\n                  </Tooltip>\r\n                </span>\r\n\r\n                <Tooltip title={Lang.t(\"share.shareTime\")}>\r\n                  <span className=\"share-date\">\r\n                    {DateUtil.simpleDateHourMinute(share.updateTime)}\r\n                  </span>\r\n                </Tooltip>\r\n\r\n                <Tooltip title={Lang.t(\"share.expireTime\")}>\r\n                  <span className=\"share-date w110 text-center\">\r\n                    {share.expireInfinity\r\n                      ? Lang.t(\"share.noExpire\")\r\n                      : DateUtil.simpleDateHourMinute(share.expireTime)}\r\n                  </span>\r\n                </Tooltip>\r\n              </div>\r\n            </div>\r\n\r\n            {/**/}\r\n            <div className=\"pull-right visible-mobile\">\r\n              <span\r\n                className=\"more-btn\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.toggleHandles())\r\n                }\r\n              >\r\n                <SmallDashOutlined className=\"btn-action navy f18\" />\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"media-body\">\r\n              <div className=\"middle-part\">\r\n                <span className=\"share-name\">\r\n                  {share.name}\r\n                  {share.hasExpired() ? (\r\n                    <span className=\"text-danger\">\r\n                      {Lang.t(\"share.expired\")}\r\n                    </span>\r\n                  ) : null}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Expanding>\r\n          {showMore ? (\r\n            <div className=\"more-panel\">\r\n              <div className=\"cell-btn text\">\r\n                <span>\r\n                  {Lang.t(\"share.shareTime\")}:{\" \"}\r\n                  {DateUtil.simpleDateHourMinute(share.createTime)}\r\n                </span>\r\n                <span className=\"ml10\">\r\n                  {share.expireInfinity\r\n                    ? Lang.t(\"share.noExpire\")\r\n                    : `${Lang.t(\"expireTime\")}${DateUtil.simpleDateHourMinute(\r\n                        share.expireTime\r\n                      )}`}\r\n                </span>\r\n              </div>\r\n\r\n              <div\r\n                className=\"cell-btn\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.showShare())\r\n                }\r\n              >\r\n                <InfoCircleOutlined className=\"btn-action mr5\" />\r\n                {Lang.t(\"share.shareDetail\")}\r\n              </div>\r\n\r\n              <div\r\n                className=\"cell-btn red\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.delShare())\r\n                }\r\n              >\r\n                <DeleteOutlined className=\"btn-action\" />\r\n                {Lang.t(\"delete\")}\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </Expanding>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {RouteComponentProps} from \"react-router-dom\";\r\nimport {Empty, Pagination} from \"antd\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Pager from \"../../common/model/base/Pager\";\r\nimport Share from \"../../common/model/share/Share\";\r\nimport ShareBar from \"./widget/ShareBar\";\r\n\r\nimport \"./List.less\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\ninterface IProps extends RouteComponentProps {\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class List extends TankComponent<IProps, IState> {\r\n  pager = new Pager<Share>(this, Share, Pager.MAX_PAGE_SIZE);\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.pager.enableHistory();\r\n    this.refresh();\r\n  }\r\n\r\n  refresh() {\r\n    this.pager.httpList();\r\n  };\r\n\r\n  changePage(page: number) {\r\n    this.pager.page = page - 1; // page0\r\n    this.pager.httpList();\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const {pager} = this;\r\n\r\n    return (\r\n      <div className=\"share-list\">\r\n        <TankTitle name={Lang.t(\"layout.myShare\")}/>\r\n\r\n        {pager.data.map((share) => (\r\n          <ShareBar key={share.uuid!} share={share} onDeleteSuccess={() => this.refresh()}/>\r\n        ))}\r\n\r\n        <Pagination\r\n          className=\"mt10 pull-right\"\r\n          onChange={this.changePage.bind(this)}\r\n          current={pager.page + 1}\r\n          total={pager.totalItems}\r\n          pageSize={pager.pageSize}\r\n          hideOnSinglePage\r\n        />\r\n\r\n        {pager.isEmpty() && (\r\n          <Empty description={Lang.t(\"share.emptyHint\")}/>\r\n        )}\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport \"./FrameLoading.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport {LoadingOutlined} from '@ant-design/icons';\r\n\r\ninterface IProps {\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * fixed\r\n */\r\nexport default class FrameLoading extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    return (\r\n      <div className=\"app-frame-loading\">\r\n        <div className=\"loading-box\">\r\n          <div>\r\n            <LoadingOutlined className={'loading-icon'}/>\r\n          </div>\r\n          <div className={'loading-text'}>\r\n            ...\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport Matter from \"../../../common/model/matter/Matter\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport \"./ShareMatterPanel.less\";\r\nimport StringUtil from \"../../../common/util/StringUtil\";\r\nimport DateUtil from \"../../../common/util/DateUtil\";\r\nimport Expanding from \"../../widget/Expanding\";\r\nimport {\r\n  UnlockOutlined,\r\n  DownloadOutlined,\r\n  EllipsisOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Tooltip } from \"antd\";\r\nimport SafeUtil from \"../../../common/util/SafeUtil\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport Share from \"../../../common/model/share/Share\";\r\nimport ImageUtil from \"../../../common/util/ImageUtil\";\r\n\r\ninterface IProps {\r\n  matter: Matter;\r\n  share: Share;\r\n  onPreviewImage: (matter: Matter) => any;\r\n  onGoToDirectory: (id: string) => any;\r\n}\r\n\r\ninterface IState {}\r\n\r\nexport default class ShareMatterPanel extends TankComponent<IProps, IState> {\r\n  // \r\n  showMore: boolean = false;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  clickRow() {\r\n    const { matter, share, onGoToDirectory, onPreviewImage } = this.props;\r\n\r\n    if (matter.dir) {\r\n      onGoToDirectory(matter.uuid!);\r\n    } else {\r\n      //\r\n      if (matter.isImage()) {\r\n        onPreviewImage(matter);\r\n      } else {\r\n        matter.preview(matter.getSharePreviewUrl(share.uuid!, share.code!, share.rootUuid));\r\n      }\r\n    }\r\n  };\r\n\r\n  getIcon() {\r\n    const { matter, share } = this.props;\r\n    if (matter.isImage()) {\r\n      return ImageUtil.handleImageUrl(matter.getSharePreviewUrl(share.uuid!, share.code!, share.rootUuid), false, 100, 100)\r\n    } else {\r\n      return matter.getIcon()\r\n    }\r\n  };\r\n\r\n  download() {\r\n    const { matter, share } = this.props;\r\n    matter.download(matter.getShareDownloadUrl(share.uuid!, share.code!, share.rootUuid))\r\n  };\r\n\r\n  toggleHandles() {\r\n    this.showMore = !this.showMore;\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const { matter } = this.props;\r\n\r\n    return (\r\n      <div className=\"widget-matter-panel\">\r\n        <div onClick={(e) => SafeUtil.stopPropagationWrap(e)(this.clickRow())}>\r\n          <div className=\"media clearfix\">\r\n            <div className=\"pull-left\">\r\n              <div className=\"left-part\">\r\n                <span className=\"cell\">\r\n                  <img className=\"matter-icon\" src={this.getIcon()} />\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/**/}\r\n            <div className=\"pull-right visible-pc\">\r\n              <div className=\"right-part\">\r\n                <Tooltip title={Lang.t(\"download\")}>\r\n                  <DownloadOutlined\r\n                    className=\"btn-action text-theme\"\r\n                    onClick={(e) =>\r\n                      SafeUtil.stopPropagationWrap(e)(this.download())\r\n                    }\r\n                  />\r\n                </Tooltip>\r\n\r\n                <Tooltip title={Lang.t(\"matter.size\")}>\r\n                  <span className=\"matter-size\">\r\n                    {StringUtil.humanFileSize(matter.size)}\r\n                  </span>\r\n                </Tooltip>\r\n\r\n                <Tooltip title={Lang.t(\"matter.updateTime\")}>\r\n                  <span className=\"matter-date mr10\">\r\n                    {DateUtil.simpleDateHourMinute(matter.updateTime)}\r\n                  </span>\r\n                </Tooltip>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"pull-right visible-mobile\">\r\n              <span\r\n                className=\"more-btn\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.toggleHandles())\r\n                }\r\n              >\r\n                <EllipsisOutlined className=\"btn-action navy f18\" />\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"media-body\">\r\n              <div className=\"middle-part\">\r\n                <span className=\"matter-name\">\r\n                  {matter.name}\r\n                  {!matter.dir && !matter.privacy && (\r\n                    <Tooltip\r\n                      title={Lang.t(\"matter.publicFileEveryoneCanVisit\")}\r\n                    >\r\n                      <UnlockOutlined className=\"icon\" />\r\n                    </Tooltip>\r\n                  )}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Expanding>\r\n          {this.showMore ? (\r\n            <div className=\"more-panel\">\r\n              <div className=\"cell-btn navy text\">\r\n                <span>{DateUtil.simpleDateHourMinute(matter.updateTime)}</span>\r\n                <span className=\"matter-size\">\r\n                  {StringUtil.humanFileSize(matter.size)}\r\n                </span>\r\n              </div>\r\n              <div\r\n                className=\"cell-btn navy\"\r\n                onClick={(e) =>\r\n                  SafeUtil.stopPropagationWrap(e)(this.download())\r\n                }\r\n              >\r\n                <DownloadOutlined className=\"btn-action mr5\" />\r\n                {Lang.t(\"matter.download\")}\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </Expanding>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport TankTitle from \"../widget/TankTitle\";\r\nimport {Button, Col, Empty, Input, Modal, Row, Space} from \"antd\";\r\nimport {RouteComponentProps} from \"react-router\";\r\nimport \"./Detail.less\";\r\nimport Share from \"../../common/model/share/Share\";\r\nimport Pager from \"../../common/model/base/Pager\";\r\nimport Matter from \"../../common/model/matter/Matter\";\r\nimport BrowserUtil from \"../../common/util/BrowserUtil\";\r\nimport SortDirection from \"../../common/model/base/SortDirection\";\r\nimport FrameLoading from \"../widget/FrameLoading\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport MessageBoxUtil from \"../../common/util/MessageBoxUtil\";\r\nimport {DownloadOutlined, ExclamationCircleFilled, LinkOutlined, StopOutlined} from \"@ant-design/icons\";\r\nimport ShareDialogModal from \"./widget/ShareDialogModal\";\r\nimport DateUtil from \"../../common/util/DateUtil\";\r\nimport ShareMatterPanel from \"./widget/ShareMatterPanel\";\r\nimport BreadcrumbModel from \"../../common/model/base/option/BreadcrumbModel\";\r\nimport BreadcrumbPanel from \"../widget/BreadcrumbPanel\";\r\nimport ImagePreviewer from \"../widget/previewer/ImagePreviewer\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\ninterface RouteParam {\r\n  uuid: string;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<RouteParam> {\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class Detail extends TankComponent<IProps, IState> {\r\n  // \r\n  static sharePagerSize = 50;\r\n\r\n  //\r\n  breadcrumbModels: BreadcrumbModel[] = [];\r\n\r\n  // \r\n  needShareCode = true;\r\n\r\n  share = new Share(this);\r\n  pager = new Pager<Matter>(this, Matter, Detail.sharePagerSize);\r\n  user = Moon.getSingleton().user;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount(): void {\r\n    this.share.uuid = this.props.match.params.uuid;\r\n    //queryrootUuid.\r\n    this.share.rootUuid = BrowserUtil.getQueryByName(\"shareRootUuid\") || this.share.rootUuid;\r\n\r\n    this.pager.enableHistory();\r\n    this.refresh();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps: Readonly<IProps>, nextContext: any) {\r\n    if (this.props.location.search !== nextProps.location.search) {\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  refresh() {\r\n    const puuid = BrowserUtil.getQueryByName(\"puuid\") || Matter.MATTER_ROOT;\r\n    if (puuid === Matter.MATTER_ROOT) {\r\n      this.share.rootUuid = Matter.MATTER_ROOT\r\n    }\r\n\r\n    this.share.httpBrowse(puuid, this.share.rootUuid, () => {\r\n      if (puuid === Matter.MATTER_ROOT) {\r\n        this.pager.clear();\r\n        this.pager.totalItems = this.share.matters.length;\r\n        this.pager.data = this.share.matters;\r\n      }\r\n\r\n      //\r\n      this.refreshBreadcrumbs();\r\n\r\n      this.needShareCode = false;\r\n      this.updateUI();\r\n    });\r\n\r\n    this.refreshMatterPager();\r\n  };\r\n\r\n  refreshMatterPager() {\r\n    //pagemattersbrowse\r\n    const puuid = BrowserUtil.getQueryByName(\"puuid\");\r\n    if (!this.needShareCode && puuid && puuid !== Matter.MATTER_ROOT) {\r\n      const {\r\n        uuid: shareUuid,\r\n        code: shareCode,\r\n        rootUuid: shareRootUuid,\r\n      } = this.share;\r\n      this.pager.setFilterValues({\r\n        puuid,\r\n        shareUuid,\r\n        shareCode,\r\n        shareRootUuid,\r\n        orderCreateTime: SortDirection.DESC, // \r\n        orderDir: SortDirection.DESC, // \r\n      });\r\n      this.pager.httpList();\r\n    }\r\n  };\r\n\r\n  getFiles(value: string) {\r\n    this.share.code = value;\r\n    this.refresh();\r\n  };\r\n\r\n  downloadZip() {\r\n    const puuid = BrowserUtil.getQueryByName(\"puuid\") || Matter.MATTER_ROOT;\r\n    this.share.downloadZip(puuid);\r\n  };\r\n\r\n  cancelShare() {\r\n    Modal.confirm({\r\n      title: Lang.t(\"share.cancelPrompt\"),\r\n      icon: <ExclamationCircleFilled twoToneColor=\"#FFDC00\"/>,\r\n      onOk: () => {\r\n        this.share.httpDel(() => {\r\n          MessageBoxUtil.success(Lang.t(\"operationSuccess\"));\r\n          Sun.navigateTo(\"/share/list\");\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  previewImage(matter: Matter) {\r\n    let imageArray: string[] = [];\r\n    let startIndex = -1;\r\n    const {share} = this;\r\n    this.pager.data.forEach((item) => {\r\n      if (item.isImage()) {\r\n        imageArray.push(item.getSharePreviewUrl(share.uuid!, share.code!, share.rootUuid));\r\n        if (item.uuid === matter.uuid) {\r\n          startIndex = imageArray.length - 1;\r\n        }\r\n      }\r\n    });\r\n\r\n    ImagePreviewer.showMultiPhoto(imageArray, startIndex);\r\n  };\r\n\r\n  goToDirectory(matterUuid?: string) {\r\n    const paramId = this.props.match.params.uuid;\r\n\r\n    if (matterUuid) {\r\n      //share.rootUuid \r\n      const puuid = BrowserUtil.getQueryByName(\"puuid\");\r\n      if (!puuid || puuid === Matter.MATTER_ROOT) {\r\n        this.share.rootUuid = matterUuid;\r\n        this.pager.clear();\r\n      }\r\n\r\n      this.pager.setFilterValue(\"puuid\", matterUuid);\r\n      this.pager.page = 0;\r\n      const query = this.pager.getParams();\r\n      Sun.navigateQueryTo({path: `/share/detail/${paramId}`, query});\r\n    } else {\r\n      // rootUuid\r\n      this.share.rootUuid = Matter.MATTER_ROOT;\r\n      this.pager.clear();\r\n      Sun.navigateQueryTo({path: `/share/detail/${paramId}`});\r\n    }\r\n  };\r\n\r\n  refreshBreadcrumbs() {\r\n    let that = this;\r\n\r\n    //\r\n    that.breadcrumbModels = [];\r\n\r\n    that.breadcrumbModels.push({\r\n      name: Lang.t(\"layout.allFiles\"),\r\n      path: \"/share/detail/\" + this.share.uuid,\r\n      query: {},\r\n      displayDirect: false,\r\n    });\r\n\r\n    let pMatter = this.share.dirMatter;\r\n    while (pMatter && pMatter.uuid) {\r\n      //\r\n      let query = this.pager.getParams();\r\n      query[\"puuid\"] = pMatter.uuid;\r\n      that.breadcrumbModels.splice(1, 0, {\r\n        name: pMatter.name,\r\n        path: \"/share/detail/\" + this.share.uuid,\r\n        query: query,\r\n        displayDirect: false,\r\n      });\r\n      pMatter = pMatter.parent!;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {share, needShareCode, user, pager} = this;\r\n\r\n    if (share.detailLoading && needShareCode) return <FrameLoading/>;\r\n    return (\r\n      <div className=\"share-detail\">\r\n        <TankTitle name={Lang.t(\"share.shareDetail\")}/>\r\n        {needShareCode ? (\r\n          <div>\r\n            <Row>\r\n              <Col xs={20} sm={20} md={16} lg={10} className=\"share-code\">\r\n                <Input.Search\r\n                  placeholder={Lang.t(\"share.enterCode\")}\r\n                  enterButton={Lang.t(\"share.getFiles\")}\r\n                  size=\"large\"\r\n                  onSearch={this.getFiles.bind(this)}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <div className=\"share-block\">\r\n              <div className=\"upper\">\r\n                <div className=\"left-box\">\r\n                  <img className=\"share-icon\" src={share.getIcon()}/>\r\n                  <span className=\"name\">\r\n                    {share.name}\r\n                    {share.hasExpired() ? (\r\n                      <span className=\"text-danger\">\r\n                        {Lang.t(\"share.expired\")}\r\n                      </span>\r\n                    ) : null}\r\n                  </span>\r\n                </div>\r\n                <div className=\"right-box\">\r\n                  <Space>\r\n                    <Button type=\"primary\" onClick={() => this.downloadZip()}>\r\n                      <DownloadOutlined/>\r\n                      {Lang.t(\"download\")}\r\n                    </Button>\r\n                    {user.uuid && user.uuid === share.userUuid ? (\r\n                      <>\r\n                        <Button danger onClick={() => this.cancelShare()}>\r\n                          <StopOutlined/>\r\n                          {Lang.t(\"share.cancelShare\")}\r\n                        </Button>\r\n                        <Button\r\n                          type=\"primary\"\r\n                          onClick={() => ShareDialogModal.open(share)}\r\n                        >\r\n                          <LinkOutlined/>\r\n                          {Lang.t(\"share.getLink\")}\r\n                        </Button>\r\n                      </>\r\n                    ) : null}\r\n                  </Space>\r\n                </div>\r\n              </div>\r\n              <div className=\"share-info\">\r\n                <Space>\r\n                  <span>\r\n                    {Lang.t(\"share.sharer\")}: {share.username}\r\n                  </span>\r\n                  <span>\r\n                    {Lang.t(\"createTime\")}:{\" \"}\r\n                    {DateUtil.simpleDateHourMinute(share.createTime)}\r\n                  </span>\r\n                  <span>\r\n                    {share.expireInfinity\r\n                      ? Lang.t(\"share.noExpire\")\r\n                      : `${Lang.t(\r\n                        \"share.expireTime\"\r\n                      )}${DateUtil.simpleDateHourMinute(share.expireTime)}`}\r\n                  </span>\r\n                </Space>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"breadcrumb-area\">\r\n              <BreadcrumbPanel breadcrumbModels={this.breadcrumbModels}/>\r\n            </div>\r\n\r\n            {pager.data.length ? (\r\n              pager.data.map((matter) => (\r\n                <ShareMatterPanel\r\n                  key={matter.uuid!}\r\n                  matter={matter}\r\n                  share={share}\r\n                  onGoToDirectory={this.goToDirectory.bind(this)}\r\n                  onPreviewImage={this.previewImage.bind(this)}\r\n                />\r\n              ))\r\n            ) : (\r\n              <Empty description={Lang.t(\"share.noContent\")}/>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./BottomLayout.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport DefaultLogoPng from \"../../assets/image/logo.png\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class BottomLayout extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  static changeLang() {\r\n    if (Lang.getSingleton().lang === \"zh\") {\r\n      Lang.getSingleton().lang = \"en\";\r\n    } else {\r\n      Lang.getSingleton().lang = \"zh\";\r\n    }\r\n    localStorage.setItem(\"_lang\", Lang.getSingleton().lang);\r\n    Sun.updateFrame();\r\n  }\r\n\r\n  render() {\r\n    const { preference } = Moon.getSingleton();\r\n\r\n    return (\r\n      <div className=\"layout-bottom\">\r\n        <span className=\"item\">\r\n          <span dangerouslySetInnerHTML={{ __html: preference.copyright }} />\r\n        </span>\r\n        <span className=\"item\">\r\n          <span dangerouslySetInnerHTML={{ __html: preference.record }} />\r\n        </span>\r\n        <span className=\"item\">\r\n          <a className=\"text-theme\" onClick={BottomLayout.changeLang}>\r\n            {Lang.getSingleton().lang === \"zh\" ? \"English\" : \"\"}\r\n          </a>\r\n        </span>\r\n        {/*! ^_^*/}\r\n        {/*It is not easy to open sourceplease do not remove the following code, thank you! ^_^ */}\r\n        <span className=\"brand\">\r\n          Powered by  <a target=\"_blank\" href=\"https://github.com/eyebluecn/tank\">\r\n            <img alt=\"logo\" className=\"w30\" src={DefaultLogoPng} />  {Lang.t(\"eyeblueTank\")}\r\n          </a>\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import {ToolItem} from \"../types\";\r\nimport React from \"react\";\r\n\r\nexport default class MenuItem implements ToolItem {\r\n  name: string;\r\n  url: string;\r\n  icon: React.ReactNode;\r\n  active: boolean = false;\r\n\r\n\r\n  constructor(name: string, url: string, icon: React.ReactNode) {\r\n    this.name = name;\r\n    this.url = url;\r\n    this.icon = icon;\r\n\r\n    //url\r\n    if (url == \"/user/login\") {\r\n      this.active = window.location.pathname === url || window.location.pathname === \"/user/register\"\r\n    } else {\r\n      this.active = window.location.pathname === url\r\n    }\r\n\r\n  }\r\n}\r\n","/**\r\n * \r\n */\r\nimport React from \"react\";\r\nimport MenuItem from './MenuItem';\r\nimport Moon from '../model/global/Moon';\r\nimport User from '../model/user/User';\r\nimport {UserRole} from '../model/user/UserRole';\r\nimport Sun from '../../common/model/global/Sun';\r\nimport {\r\n  AppstoreOutlined,\r\n  DashboardOutlined,\r\n  PoweroffOutlined,\r\n  SettingOutlined,\r\n  ShareAltOutlined,\r\n  TeamOutlined,\r\n  DeleteOutlined\r\n} from '@ant-design/icons';\r\nimport {LoginOutlined} from \"@ant-design/icons/lib\";\r\nimport Preference from \"../model/preference/Preference\";\r\nimport Lang from \"../model/global/Lang\";\r\n\r\n\r\nexport default class MenuManager {\r\n\r\n  //\r\n  private static singleton: MenuManager;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  static getSingleton(): MenuManager {\r\n    if (!MenuManager.singleton) {\r\n      //mainLand.\r\n      MenuManager.singleton = new MenuManager();\r\n\r\n    }\r\n    return MenuManager.singleton;\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  getSelectedKeys(): string[] {\r\n\r\n    let keys: string[] = this.getMenuItems()\r\n      .filter((menuItem: MenuItem, index: number) => {\r\n        return menuItem.active;\r\n      }).map((menuItem: MenuItem, index: number) => {\r\n        return menuItem.url;\r\n      });\r\n\r\n    return keys;\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  selectMenu(url: string) {\r\n\r\n    this.getMenuItems().forEach((menuItem: MenuItem, index: number) => {\r\n      menuItem.active = menuItem.url === url;\r\n    });\r\n\r\n  }\r\n\r\n  getMenuItems(): MenuItem[] {\r\n    let user: User = Moon.getSingleton().user;\r\n    let preference: Preference = Moon.getSingleton().preference;\r\n\r\n    let menuItems: MenuItem[] = [];\r\n\r\n    if (!preference.installed) {\r\n      menuItems = [\r\n        new MenuItem(Lang.t(\"layout.install\"), '/install/index', <SettingOutlined/>),\r\n      ];\r\n    } else if (user.role === UserRole.GUEST) {\r\n      menuItems = [\r\n        new MenuItem(Lang.t(\"user.login\"), '/user/login', <LoginOutlined/>),\r\n      ];\r\n    } else {\r\n      menuItems.push(new MenuItem(Lang.t(\"layout.allFiles\"), '/matter/list', <AppstoreOutlined/>))\r\n      menuItems.push(new MenuItem(Lang.t(\"layout.myShare\"), '/share/list', <ShareAltOutlined/>))\r\n      menuItems.push(new MenuItem(Lang.t(\"layout.bin\"), '/bin/list', <DeleteOutlined />))\r\n\r\n      if (user.role === UserRole.ADMINISTRATOR) {\r\n        menuItems.push(new MenuItem(Lang.t(\"layout.setting\"), '/preference/index', <SettingOutlined/>))\r\n        menuItems.push(new MenuItem(Lang.t(\"layout.dashboard\"), '/dashboard/index', <DashboardOutlined/>))\r\n        menuItems.push(new MenuItem(Lang.t(\"layout.users\"), `${Sun.getSingleton().isMobile ? '/mobile': ''}/user/list`, <TeamOutlined/>))\r\n      }\r\n      menuItems.push(new MenuItem(Lang.t(\"layout.logout\"), '/user/logout', <PoweroffOutlined/>))\r\n\r\n\r\n    }\r\n\r\n    return menuItems;\r\n\r\n  }\r\n\r\n}\r\n","import React from \"react\";\r\nimport {Modal} from \"antd\";\r\nimport TankComponent from \"../../../common/component/TankComponent\";\r\nimport Lang from \"../../../common/model/global/Lang\";\r\nimport BottomLayout from \"../BottomLayout\";\r\nimport DefaultLogoPng from \"../../../assets/image/logo.png\";\r\nimport \"./AboutModal.less\";\r\nimport Moon from \"../../../common/model/global/Moon\";\r\n\r\ninterface IProps {\r\n  onSuccess: () => any,\r\n  onClose: () => any\r\n}\r\n\r\ninterface IState {\r\n}\r\n\r\nexport default class AboutModal extends TankComponent<IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  static open = () => {\r\n    const modal = Modal.confirm({\r\n      className: \"about-modal\",\r\n      title: Lang.t(\"layout.about\"),\r\n      width: \"90vw\",\r\n      okCancel: false,\r\n      okText: Lang.t(\"confirm\"),\r\n      maskClosable: true,\r\n      content: (\r\n        <AboutModal\r\n          onSuccess={() => {\r\n            modal.destroy();\r\n          }}\r\n          onClose={() => {\r\n            modal.destroy();\r\n          }}\r\n        />)\r\n    })\r\n  };\r\n\r\n  changeLang() {\r\n    BottomLayout.changeLang();\r\n    this.updateUI();\r\n  };\r\n\r\n  render() {\r\n    const {preference} = Moon.getSingleton();\r\n    return (\r\n      <div className=\"about-modal-box\">\r\n                <span className=\"item\">\r\n          <span dangerouslySetInnerHTML={{__html: preference.copyright}}/>\r\n        </span>\r\n        <span className=\"item\">\r\n          <span dangerouslySetInnerHTML={{__html: preference.record}}/>\r\n        </span>\r\n        <p className=\"item\" onClick={() => this.changeLang()}>\r\n          {Lang.getSingleton().lang === \"zh\" ? \"English\" : \"\"}\r\n        </p>\r\n        <p className=\"brand\">\r\n          Powered by <a target=\"_blank\" href=\"https://github.com/eyebluecn/tank\">\r\n          <img alt=\"logo\" className=\"w30\" src={DefaultLogoPng}/>\r\n          {Lang.t(\"eyeblueTank\")}\r\n        </a>\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./SideLayout.less\";\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport DefaultLogoPng from \"../../assets/image/logo.png\";\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserRole } from \"../../common/model/user/UserRole\";\r\nimport { Menu } from \"antd\";\r\nimport MenuItem from \"../../common/menu/MenuItem\";\r\nimport User from \"../../common/model/user/User\";\r\nimport MenuManager from \"../../common/menu/MenuManager\";\r\nimport { InfoCircleOutlined } from \"@ant-design/icons\";\r\nimport Lang from \"../../common/model/global/Lang\";\r\nimport AboutModal from \"./widget/AboutModal\";\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nexport default class SideLayout extends TankComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  onSelect(param: any) {\r\n    if (param.key === \"about\") {\r\n      AboutModal.open();\r\n      return;\r\n    }\r\n\r\n    let menuManager: MenuManager = MenuManager.getSingleton();\r\n    menuManager.selectMenu(param.key);\r\n\r\n    //\r\n    if (param.key == \"/user/logout\") {\r\n      Sun.navigateTo(\"/user/login\");\r\n    } else {\r\n      Sun.navigateTo(param.key);\r\n    }\r\n\r\n    this.updateUI();\r\n  }\r\n\r\n  render() {\r\n    const menuManager: MenuManager = MenuManager.getSingleton();\r\n    const menuItems: MenuItem[] = menuManager.getMenuItems();\r\n    const preference: Preference = Moon.getSingleton().preference;\r\n    const user: User = Moon.getSingleton().user;\r\n\r\n    return (\r\n      <div\r\n        className={`layout-side ${\r\n          Sun.getSingleton().showDrawer ? \"show-drawer\" : \"\"\r\n        }`}\r\n      >\r\n        {preference.installed ? (\r\n          <div>\r\n            <div className=\"avatar-area\">\r\n              <Link className=\"username-text\" to={\"/user/detail/\" + user.uuid}>\r\n                <img\r\n                  alt=\"avatar\"\r\n                  className=\"avatar-middle\"\r\n                  src={user.getAvatarUrl()}\r\n                />\r\n              </Link>\r\n            </div>\r\n            <div className=\"username-area\">\r\n              {user.role === UserRole.GUEST ? (\r\n                \"\"\r\n              ) : (\r\n                <Link to={\"/user/detail/\" + user.uuid}>\r\n                  <span className=\"username-text\">{user.username}</span>\r\n                </Link>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"install-area\">\r\n            <img alt=\"avatar\" className=\"install-logo\" src={DefaultLogoPng} />\r\n          </div>\r\n        )}\r\n\r\n        <Menu\r\n          theme=\"dark\"\r\n          selectedKeys={menuManager.getSelectedKeys()}\r\n          onClick={this.onSelect.bind(this)}\r\n          mode=\"inline\"\r\n        >\r\n          {menuItems.map((menuItem: MenuItem, index: number) => {\r\n            if (\r\n              menuItem.url === \"/bin/list\" &&\r\n              !preference.getRecycleBinStatus()\r\n            )\r\n              return null;\r\n            return (\r\n              <Menu.Item key={menuItem.url}>\r\n                {menuItem.icon}\r\n                <span>{menuItem.name}</span>\r\n              </Menu.Item>\r\n            );\r\n          })}\r\n          <Menu.Item className=\"visible-xs\" key=\"about\">\r\n            <InfoCircleOutlined />\r\n            {Lang.t(\"layout.about\")}\r\n          </Menu.Item>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport \"./TopLayout.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\nimport Preference from \"../../common/model/preference/Preference\";\r\nimport Moon from \"../../common/model/global/Moon\";\r\nimport DefaultLogoPng from '../../assets/image/logo.png';\r\nimport Sun from \"../../common/model/global/Sun\";\r\nimport {MenuFoldOutlined, MenuUnfoldOutlined} from \"@ant-design/icons/lib\";\r\nimport ImageUtil from \"../../common/util/ImageUtil\";\r\n\r\ninterface IProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\n\r\nexport default class TopLayout extends TankComponent <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n\r\n  goHome() {\r\n\r\n    Sun.navigateTo(\"/\")\r\n  }\r\n\r\n  //logo\r\n  logoUrl() {\r\n\r\n    let preference: Preference = Moon.getSingleton().preference\r\n    if (preference.logoUrl) {\r\n      return ImageUtil.handleImageUrl(preference.logoUrl, false, 200, 200)\r\n\r\n    } else {\r\n      return DefaultLogoPng\r\n    }\r\n  }\r\n\r\n  toggleDrawer() {\r\n    Sun.getSingleton().showDrawer = !Sun.getSingleton().showDrawer\r\n    Sun.updateFrame()\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    let preference: Preference = Moon.getSingleton().preference\r\n    return (\r\n\r\n      <div className=\"layout-top\">\r\n\r\n        <div className=\"logo-title-area\" onClick={this.goHome.bind(this)}>\r\n          <img className=\"header-logo\" src={this.logoUrl()} alt=\"logo\"/>\r\n          <span className=\"header-title\">{preference.name}</span>\r\n        </div>\r\n\r\n        <div className=\"drawer-trigger\">\r\n          {\r\n            Sun.getSingleton().showDrawer ? (\r\n\r\n              <MenuFoldOutlined onClick={this.toggleDrawer.bind(this)}/>\r\n            ) : (\r\n              <MenuUnfoldOutlined onClick={this.toggleDrawer.bind(this)}/>\r\n            )\r\n          }\r\n        </div>\r\n\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport \"./ContentLayout.less\"\r\nimport TankComponent from \"../../common/component/TankComponent\";\r\n\r\ninterface IProps {\r\n\r\n}\r\n\r\ninterface IState {\r\n\r\n}\r\n\r\nexport default class ContentLayout extends TankComponent <IProps, IState> {\r\n\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {}\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    let that = this\r\n\r\n    return (\r\n\r\n      <div id=\"layout-content\" className=\"layout-content\">\r\n        {this.props.children}\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\n","import React from \"react\";\r\nimport {\r\n  Redirect,\r\n  Route,\r\n  RouteComponentProps,\r\n  withRouter,\r\n} from \"react-router-dom\";\r\n\r\nimport \"./Frame.less\";\r\nimport TankComponent from \"../common/component/TankComponent\";\r\nimport UserLogin from \"./user/Login\";\r\nimport UserRegister from \"./user/Register\";\r\n\r\nimport UserList from \"./user/List\";\r\nimport MobileUserList from \"./user/MobileList\";\r\nimport UserDetail from \"./user/Detail\";\r\nimport UserEdit from \"./user/Edit\";\r\nimport UserAuthentication from \"./user/Authentication\";\r\n\r\nimport PreferenceIndex from \"./preference/Index\";\r\nimport PreferenceEdit from \"./preference/Edit\";\r\nimport PreferenceEngineEdit from \"./preference/PreviewEngineEdit\";\r\nimport PreferenceScanEdit from \"./preference/ScanEdit\";\r\n\r\nimport DashboardIndex from \"./dashboard/Index\";\r\nimport InstallIndex from \"./install/Index\";\r\n\r\nimport MatterList from \"./matter/List\";\r\nimport MatterDetail from \"./matter/Detail\";\r\n\r\nimport BinList from \"./bin/List\";\r\n\r\nimport ShareList from \"./share/List\";\r\nimport ShareDetail from \"./share/Detail\";\r\nimport User from \"../common/model/user/User\";\r\nimport Moon from \"../common/model/global/Moon\";\r\nimport Sun from \"../common/model/global/Sun\";\r\nimport FrameLoading from \"./widget/FrameLoading\";\r\nimport Preference from \"../common/model/preference/Preference\";\r\nimport { WebResultCode } from \"../common/model/base/WebResultCode\";\r\nimport MessageBoxUtil from \"../common/util/MessageBoxUtil\";\r\nimport BottomLayout from \"./layout/BottomLayout\";\r\nimport SideLayout from \"./layout/SideLayout\";\r\nimport TopLayout from \"./layout/TopLayout\";\r\nimport ContentLayout from \"./layout/ContentLayout\";\r\n\r\ninterface IProps extends RouteComponentProps<{}> {}\r\n\r\ninterface IState {}\r\n\r\nclass RawFrame extends TankComponent<IProps, IState> {\r\n  user: User = Moon.getSingleton().user;\r\n\r\n  preference: Preference = Moon.getSingleton().preference;\r\n\r\n  //\r\n  initialized: boolean = false;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    //\r\n    Sun.getSingleton().reactRouter = this.props.history;\r\n    //Frame\r\n    Sun.getSingleton().frameComponent = this;\r\n\r\n    this.initialize();\r\n  }\r\n\r\n  //\r\n  initialize() {\r\n    let that = this;\r\n    let pathname: string = that.props.location.pathname;\r\n\r\n    this.preference.httpFetch(\r\n      function () {\r\n        // \r\n        let whitePaths = [\r\n          \"/user/login\",\r\n          \"/user/register\",\r\n          \"/user/authentication\",\r\n        ];\r\n        // \r\n        let tryLoginPaths = [\r\n          \"/share/detail\",\r\n        ];\r\n\r\n        if(whitePaths.findIndex((path) => pathname.startsWith(path)) >= 0){\r\n          that.initialized = true;\r\n          that.updateUI();\r\n        } else if(tryLoginPaths.findIndex((path) => pathname.startsWith(path)) >= 0) {\r\n          that.user.httpInfo(false, function () {\r\n            that.initialized = true;\r\n            that.updateUI();\r\n          });\r\n        } else {\r\n          that.user.httpInfo(true, function () {\r\n            that.initialized = true;\r\n            that.updateUI();\r\n          });\r\n        }\r\n      },\r\n      function (errMessage: string, response: any) {\r\n        that.initialized = true;\r\n        that.updateUI();\r\n        if (\r\n          response &&\r\n          response.data &&\r\n          response.data[\"code\"] === WebResultCode.NOT_INSTALLED\r\n        ) {\r\n          MessageBoxUtil.warning(\"\");\r\n          that.preference.installed = false;\r\n          Sun.navigateTo(\"/install/index\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n    let content: React.ReactNode;\r\n\r\n    if (this.initialized) {\r\n      content = (\r\n        <div className=\"pages-frame-inner\">\r\n          <SideLayout />\r\n\r\n          <TopLayout />\r\n\r\n          <ContentLayout>\r\n            {this.preference.installed ? (\r\n              <div className=\"pages-content\">\r\n                <Route\r\n                  exact\r\n                  path=\"/\"\r\n                  render={() => <Redirect to=\"/matter/list\" />}\r\n                />\r\n                <Route path=\"/user/login\" component={UserLogin} />\r\n                <Route path=\"/user/register\" component={UserRegister} />\r\n                <Route path=\"/user/detail/:uuid\" component={UserDetail} />\r\n                <Route path=\"/user/list\" component={UserList} />\r\n                <Route path=\"/mobile/user/list\" component={MobileUserList} />\r\n                <Route path=\"/user/create\" component={UserEdit} />\r\n                <Route path=\"/user/edit/:uuid\" component={UserEdit} />\r\n                <Route\r\n                  path=\"/user/authentication/:authentication\"\r\n                  component={UserAuthentication}\r\n                />\r\n\r\n                <Route path=\"/dashboard/index\" component={DashboardIndex} />\r\n\r\n                <Route path=\"/preference/index\" component={PreferenceIndex} />\r\n                <Route path=\"/preference/edit\" component={PreferenceEdit} />\r\n                <Route\r\n                  path=\"/preference/engine/edit\"\r\n                  component={PreferenceEngineEdit}\r\n                />\r\n                <Route\r\n                  path=\"/preference/scan/edit\"\r\n                  component={PreferenceScanEdit}\r\n                />\r\n\r\n                <Route path=\"/matter/detail/:uuid\" component={MatterDetail} />\r\n                <Route\r\n                  exact\r\n                  path=\"/matter\"\r\n                  render={() => <Redirect to=\"/matter/list\" />}\r\n                />\r\n                <Route path=\"/matter/list\" component={MatterList} />\r\n\r\n                <Route path=\"/share/list\" component={ShareList} />\r\n                <Route path=\"/share/detail/:uuid\" component={ShareDetail} />\r\n\r\n                <Route path=\"/bin/list\" component={BinList} />\r\n              </div>\r\n            ) : (\r\n              <div className=\"pages-content\">\r\n                <Route path=\"/install/index\" component={InstallIndex} />\r\n              </div>\r\n            )}\r\n          </ContentLayout>\r\n\r\n          <BottomLayout />\r\n        </div>\r\n      );\r\n    } else {\r\n      content = <FrameLoading />;\r\n    }\r\n\r\n    return <div className=\"pages-frame\">{content}</div>;\r\n  }\r\n}\r\n\r\nconst Frame = withRouter<IProps, React.ComponentType<IProps>>(RawFrame);\r\nexport default Frame;\r\n","import React from 'react';\r\nimport {BrowserRouter as Router} from \"react-router-dom\";\r\nimport {ConfigProvider} from 'antd';\r\nimport Frame from \"./pages/Frame\";\r\nimport en_US from 'antd/es/locale/en_US';\r\n\r\n// global less Frameless\r\nimport './App.less';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <ConfigProvider locale={en_US}>\r\n        <Frame/>\r\n      </ConfigProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// support IE >= 9\r\nimport 'react-app-polyfill/ie9';\r\nimport 'react-app-polyfill/stable';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App/>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/archive.77d78eb7.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/empty.babf4d08.svg\";","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}